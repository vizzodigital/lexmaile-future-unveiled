var vk=Object.defineProperty;var Eb=n=>{throw TypeError(n)};var yk=(n,e,t)=>e in n?vk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ne=(n,e,t)=>yk(n,typeof e!="symbol"?e+"":e,t),Pm=(n,e,t)=>e.has(n)||Eb("Cannot "+t);var c=(n,e,t)=>(Pm(n,e,"read from private field"),t?t.call(n):e.get(n)),E=(n,e,t)=>e.has(n)?Eb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),b=(n,e,t,r)=>(Pm(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),A=(n,e,t)=>(Pm(n,e,"access private method"),t);var mt=(n,e,t,r)=>({set _(s){b(n,e,s,t)},get _(){return c(n,e,r)}});function wk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function $0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eE={exports:{}},Bg={},tE={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=Symbol.for("react.element"),bk=Symbol.for("react.portal"),xk=Symbol.for("react.fragment"),Ak=Symbol.for("react.strict_mode"),Ek=Symbol.for("react.profiler"),Sk=Symbol.for("react.provider"),_k=Symbol.for("react.context"),Ck=Symbol.for("react.forward_ref"),Tk=Symbol.for("react.suspense"),kk=Symbol.for("react.memo"),Pk=Symbol.for("react.lazy"),Sb=Symbol.iterator;function Rk(n){return n===null||typeof n!="object"?null:(n=Sb&&n[Sb]||n["@@iterator"],typeof n=="function"?n:null)}var nE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rE=Object.assign,sE={};function bu(n,e,t){this.props=n,this.context=e,this.refs=sE,this.updater=t||nE}bu.prototype.isReactComponent={};bu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};bu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function iE(){}iE.prototype=bu.prototype;function U0(n,e,t){this.props=n,this.context=e,this.refs=sE,this.updater=t||nE}var V0=U0.prototype=new iE;V0.constructor=U0;rE(V0,bu.prototype);V0.isPureReactComponent=!0;var _b=Array.isArray,oE=Object.prototype.hasOwnProperty,W0={current:null},aE={key:!0,ref:!0,__self:!0,__source:!0};function lE(n,e,t){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)oE.call(e,r)&&!aE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:sf,type:n,key:i,ref:o,props:s,_owner:W0.current}}function Lk(n,e){return{$$typeof:sf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function G0(n){return typeof n=="object"&&n!==null&&n.$$typeof===sf}function Mk(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Cb=/\/+/g;function Rm(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Mk(""+n.key):e.toString(36)}function Yf(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case sf:case bk:o=!0}}if(o)return o=n,s=s(o),n=r===""?"."+Rm(o,0):r,_b(s)?(t="",n!=null&&(t=n.replace(Cb,"$&/")+"/"),Yf(s,e,t,"",function(u){return u})):s!=null&&(G0(s)&&(s=Lk(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Cb,"$&/")+"/")+n)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_b(n))for(var a=0;a<n.length;a++){i=n[a];var l=r+Rm(i,a);o+=Yf(i,e,t,l,s)}else if(l=Rk(n),typeof l=="function")for(n=l.call(n),a=0;!(i=n.next()).done;)i=i.value,l=r+Rm(i,a++),o+=Yf(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xf(n,e,t){if(n==null)return n;var r=[],s=0;return Yf(n,r,"","",function(i){return e.call(t,i,s++)}),r}function Ik(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var rn={current:null},Kf={transition:null},Fk={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Kf,ReactCurrentOwner:W0};function cE(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:xf,forEach:function(n,e,t){xf(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xf(n,function(){e++}),e},toArray:function(n){return xf(n,function(e){return e})||[]},only:function(n){if(!G0(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};fe.Component=bu;fe.Fragment=xk;fe.Profiler=Ek;fe.PureComponent=U0;fe.StrictMode=Ak;fe.Suspense=Tk;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fk;fe.act=cE;fe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=rE({},n.props),s=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=W0.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)oE.call(e,l)&&!aE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:sf,type:n.type,key:s,ref:i,props:r,_owner:o}};fe.createContext=function(n){return n={$$typeof:_k,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Sk,_context:n},n.Consumer=n};fe.createElement=lE;fe.createFactory=function(n){var e=lE.bind(null,n);return e.type=n,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(n){return{$$typeof:Ck,render:n}};fe.isValidElement=G0;fe.lazy=function(n){return{$$typeof:Pk,_payload:{_status:-1,_result:n},_init:Ik}};fe.memo=function(n,e){return{$$typeof:kk,type:n,compare:e===void 0?null:e}};fe.startTransition=function(n){var e=Kf.transition;Kf.transition={};try{n()}finally{Kf.transition=e}};fe.unstable_act=cE;fe.useCallback=function(n,e){return rn.current.useCallback(n,e)};fe.useContext=function(n){return rn.current.useContext(n)};fe.useDebugValue=function(){};fe.useDeferredValue=function(n){return rn.current.useDeferredValue(n)};fe.useEffect=function(n,e){return rn.current.useEffect(n,e)};fe.useId=function(){return rn.current.useId()};fe.useImperativeHandle=function(n,e,t){return rn.current.useImperativeHandle(n,e,t)};fe.useInsertionEffect=function(n,e){return rn.current.useInsertionEffect(n,e)};fe.useLayoutEffect=function(n,e){return rn.current.useLayoutEffect(n,e)};fe.useMemo=function(n,e){return rn.current.useMemo(n,e)};fe.useReducer=function(n,e,t){return rn.current.useReducer(n,e,t)};fe.useRef=function(n){return rn.current.useRef(n)};fe.useState=function(n){return rn.current.useState(n)};fe.useSyncExternalStore=function(n,e,t){return rn.current.useSyncExternalStore(n,e,t)};fe.useTransition=function(){return rn.current.useTransition()};fe.version="18.3.1";tE.exports=fe;var _=tE.exports;const U=$0(_),uE=wk({__proto__:null,default:U},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk=_,Dk=Symbol.for("react.element"),Ok=Symbol.for("react.fragment"),jk=Object.prototype.hasOwnProperty,zk=Nk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bk={key:!0,ref:!0,__self:!0,__source:!0};function dE(n,e,t){var r,s={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)jk.call(e,r)&&!Bk.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Dk,type:n,key:i,ref:o,props:s,_owner:zk.current}}Bg.Fragment=Ok;Bg.jsx=dE;Bg.jsxs=dE;eE.exports=Bg;var P=eE.exports,hE={exports:{}},Un={},fE={exports:{}},pE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(L,N){var $=L.length;L.push(N);e:for(;0<$;){var J=$-1>>>1,X=L[J];if(0<s(X,N))L[J]=N,L[$]=X,$=J;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var N=L[0],$=L.pop();if($!==N){L[0]=$;e:for(var J=0,X=L.length,K=X>>>1;J<K;){var te=2*(J+1)-1,ye=L[te],de=te+1,Q=L[de];if(0>s(ye,$))de<X&&0>s(Q,ye)?(L[J]=Q,L[de]=$,J=de):(L[J]=ye,L[te]=$,J=te);else if(de<X&&0>s(Q,$))L[J]=Q,L[de]=$,J=de;else break e}}return N}function s(L,N){var $=L.sortIndex-N.sortIndex;return $!==0?$:L.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var N=t(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=L)r(u),N.sortIndex=N.expirationTime,e(l,N);else break;N=t(u)}}function S(L){if(g=!1,x(L),!v)if(t(l)!==null)v=!0,B(C);else{var N=t(u);N!==null&&O(S,N.startTime-L)}}function C(L,N){v=!1,g&&(g=!1,m(R),R=-1),p=!0;var $=f;try{for(x(N),h=t(l);h!==null&&(!(h.expirationTime>N)||L&&!D());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var X=J(h.expirationTime<=N);N=n.unstable_now(),typeof X=="function"?h.callback=X:h===t(l)&&r(l),x(N)}else r(l);h=t(l)}if(h!==null)var K=!0;else{var te=t(u);te!==null&&O(S,te.startTime-N),K=!1}return K}finally{h=null,f=$,p=!1}}var T=!1,k=null,R=-1,M=5,I=-1;function D(){return!(n.unstable_now()-I<M)}function j(){if(k!==null){var L=n.unstable_now();I=L;var N=!0;try{N=k(!0,L)}finally{N?H():(T=!1,k=null)}}else T=!1}var H;if(typeof y=="function")H=function(){y(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,W=F.port2;F.port1.onmessage=j,H=function(){W.postMessage(null)}}else H=function(){w(j,0)};function B(L){k=L,T||(T=!0,H())}function O(L,N){R=w(function(){L(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,B(C))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(L){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var $=f;f=N;try{return L()}finally{f=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,N){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=f;f=L;try{return N()}finally{f=$}},n.unstable_scheduleCallback=function(L,N,$){var J=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,L={id:d++,callback:N,priorityLevel:L,startTime:$,expirationTime:X,sortIndex:-1},$>J?(L.sortIndex=$,e(u,L),t(l)===null&&L===t(u)&&(g?(m(R),R=-1):g=!0,O(S,$-J))):(L.sortIndex=X,e(l,L),v||p||(v=!0,B(C))),L},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(L){var N=f;return function(){var $=f;f=N;try{return L.apply(this,arguments)}finally{f=$}}}})(pE);fE.exports=pE;var Hk=fE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k=_,$n=Hk;function z(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gE=new Set,wd={};function fl(n,e){uu(n,e),uu(n+"Capture",e)}function uu(n,e){for(wd[n]=e,n=0;n<e.length;n++)gE.add(e[n])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gv=Object.prototype.hasOwnProperty,Uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Tb={},kb={};function Vk(n){return gv.call(kb,n)?!0:gv.call(Tb,n)?!1:Uk.test(n)?kb[n]=!0:(Tb[n]=!0,!1)}function Wk(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Gk(n,e,t,r){if(e===null||typeof e>"u"||Wk(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(n,e,t,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){It[n]=new sn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];It[e]=new sn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){It[n]=new sn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){It[n]=new sn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){It[n]=new sn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){It[n]=new sn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){It[n]=new sn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){It[n]=new sn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){It[n]=new sn(n,5,!1,n.toLowerCase(),null,!1,!1)});var X0=/[\-:]([a-z])/g;function q0(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(X0,q0);It[e]=new sn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(X0,q0);It[e]=new sn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(X0,q0);It[e]=new sn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){It[n]=new sn(n,1,!1,n.toLowerCase(),null,!1,!1)});It.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){It[n]=new sn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Y0(n,e,t,r){var s=It.hasOwnProperty(e)?It[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gk(e,t,s,r)&&(t=null),r||s===null?Vk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var yi=$k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Af=Symbol.for("react.element"),Ll=Symbol.for("react.portal"),Ml=Symbol.for("react.fragment"),K0=Symbol.for("react.strict_mode"),mv=Symbol.for("react.profiler"),mE=Symbol.for("react.provider"),vE=Symbol.for("react.context"),Q0=Symbol.for("react.forward_ref"),vv=Symbol.for("react.suspense"),yv=Symbol.for("react.suspense_list"),J0=Symbol.for("react.memo"),Ri=Symbol.for("react.lazy"),yE=Symbol.for("react.offscreen"),Pb=Symbol.iterator;function Tu(n){return n===null||typeof n!="object"?null:(n=Pb&&n[Pb]||n["@@iterator"],typeof n=="function"?n:null)}var Xe=Object.assign,Lm;function Bu(n){if(Lm===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Lm=e&&e[1]||""}return`
`+Lm+n}var Mm=!1;function Im(n,e){if(!n||Mm)return"";Mm=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mm=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Bu(n):""}function Xk(n){switch(n.tag){case 5:return Bu(n.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return n=Im(n.type,!1),n;case 11:return n=Im(n.type.render,!1),n;case 1:return n=Im(n.type,!0),n;default:return""}}function wv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ml:return"Fragment";case Ll:return"Portal";case mv:return"Profiler";case K0:return"StrictMode";case vv:return"Suspense";case yv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case vE:return(n.displayName||"Context")+".Consumer";case mE:return(n._context.displayName||"Context")+".Provider";case Q0:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J0:return e=n.displayName||null,e!==null?e:wv(n.type)||"Memo";case Ri:e=n._payload,n=n._init;try{return wv(n(e))}catch{}}return null}function qk(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wv(e);case 8:return e===K0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _o(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function wE(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yk(n){var e=wE(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ef(n){n._valueTracker||(n._valueTracker=Yk(n))}function bE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=wE(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Bp(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function bv(n,e){var t=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Rb(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=_o(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xE(n,e){e=e.checked,e!=null&&Y0(n,"checked",e,!1)}function xv(n,e){xE(n,e);var t=_o(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Av(n,e.type,t):e.hasOwnProperty("defaultValue")&&Av(n,e.type,_o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Lb(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Av(n,e,t){(e!=="number"||Bp(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Hu=Array.isArray;function Vl(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+_o(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function Ev(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Mb(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(z(92));if(Hu(t)){if(1<t.length)throw Error(z(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:_o(t)}}function AE(n,e){var t=_o(e.value),r=_o(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Ib(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function EE(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?EE(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Sf,SE=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Sf=Sf||document.createElement("div"),Sf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sf.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function bd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kk=["Webkit","ms","Moz","O"];Object.keys(od).forEach(function(n){Kk.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),od[e]=od[n]})});function _E(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||od.hasOwnProperty(n)&&od[n]?(""+e).trim():e+"px"}function CE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=_E(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var Qk=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _v(n,e){if(e){if(Qk[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Cv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tv=null;function Z0(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var kv=null,Wl=null,Gl=null;function Fb(n){if(n=lf(n)){if(typeof kv!="function")throw Error(z(280));var e=n.stateNode;e&&(e=Wg(e),kv(n.stateNode,n.type,e))}}function TE(n){Wl?Gl?Gl.push(n):Gl=[n]:Wl=n}function kE(){if(Wl){var n=Wl,e=Gl;if(Gl=Wl=null,Fb(n),e)for(n=0;n<e.length;n++)Fb(e[n])}}function PE(n,e){return n(e)}function RE(){}var Fm=!1;function LE(n,e,t){if(Fm)return n(e,t);Fm=!0;try{return PE(n,e,t)}finally{Fm=!1,(Wl!==null||Gl!==null)&&(RE(),kE())}}function xd(n,e){var t=n.stateNode;if(t===null)return null;var r=Wg(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(z(231,e,typeof t));return t}var Pv=!1;if(ui)try{var ku={};Object.defineProperty(ku,"passive",{get:function(){Pv=!0}}),window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{Pv=!1}function Jk(n,e,t,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(d){this.onError(d)}}var ad=!1,Hp=null,$p=!1,Rv=null,Zk={onError:function(n){ad=!0,Hp=n}};function eP(n,e,t,r,s,i,o,a,l){ad=!1,Hp=null,Jk.apply(Zk,arguments)}function tP(n,e,t,r,s,i,o,a,l){if(eP.apply(this,arguments),ad){if(ad){var u=Hp;ad=!1,Hp=null}else throw Error(z(198));$p||($p=!0,Rv=u)}}function pl(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function ME(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Nb(n){if(pl(n)!==n)throw Error(z(188))}function nP(n){var e=n.alternate;if(!e){if(e=pl(n),e===null)throw Error(z(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return Nb(s),n;if(i===r)return Nb(s),e;i=i.sibling}throw Error(z(188))}if(t.return!==r.return)t=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(t.alternate!==r)throw Error(z(190))}if(t.tag!==3)throw Error(z(188));return t.stateNode.current===t?n:e}function IE(n){return n=nP(n),n!==null?FE(n):null}function FE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=FE(n);if(e!==null)return e;n=n.sibling}return null}var NE=$n.unstable_scheduleCallback,Db=$n.unstable_cancelCallback,rP=$n.unstable_shouldYield,sP=$n.unstable_requestPaint,Ze=$n.unstable_now,iP=$n.unstable_getCurrentPriorityLevel,ew=$n.unstable_ImmediatePriority,DE=$n.unstable_UserBlockingPriority,Up=$n.unstable_NormalPriority,oP=$n.unstable_LowPriority,OE=$n.unstable_IdlePriority,Hg=null,vs=null;function aP(n){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Hg,n,void 0,(n.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:uP,lP=Math.log,cP=Math.LN2;function uP(n){return n>>>=0,n===0?32:31-(lP(n)/cP|0)|0}var _f=64,Cf=4194304;function $u(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vp(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?r=$u(a):(i&=o,i!==0&&(r=$u(i)))}else o=t&~s,o!==0?r=$u(o):i!==0&&(r=$u(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Or(e),s=1<<t,r|=n[t],e&=~s;return r}function dP(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hP(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-Or(i),a=1<<o,l=s[o];l===-1?(!(a&t)||a&r)&&(s[o]=dP(a,e)):l<=e&&(n.expiredLanes|=a),i&=~a}}function Lv(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function jE(){var n=_f;return _f<<=1,!(_f&4194240)&&(_f=64),n}function Nm(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function of(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Or(e),n[e]=t}function fP(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-Or(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function tw(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Or(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var _e=0;function zE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var BE,nw,HE,$E,UE,Mv=!1,Tf=[],vo=null,yo=null,wo=null,Ad=new Map,Ed=new Map,Mi=[],pP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ob(n,e){switch(n){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":Ad.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ed.delete(e.pointerId)}}function Pu(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=lf(e),e!==null&&nw(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function gP(n,e,t,r,s){switch(e){case"focusin":return vo=Pu(vo,n,e,t,r,s),!0;case"dragenter":return yo=Pu(yo,n,e,t,r,s),!0;case"mouseover":return wo=Pu(wo,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return Ad.set(i,Pu(Ad.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ed.set(i,Pu(Ed.get(i)||null,n,e,t,r,s)),!0}return!1}function VE(n){var e=Yo(n.target);if(e!==null){var t=pl(e);if(t!==null){if(e=t.tag,e===13){if(e=ME(t),e!==null){n.blockedOn=e,UE(n.priority,function(){HE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qf(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Iv(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Tv=r,t.target.dispatchEvent(r),Tv=null}else return e=lf(t),e!==null&&nw(e),n.blockedOn=t,!1;e.shift()}return!0}function jb(n,e,t){Qf(n)&&t.delete(e)}function mP(){Mv=!1,vo!==null&&Qf(vo)&&(vo=null),yo!==null&&Qf(yo)&&(yo=null),wo!==null&&Qf(wo)&&(wo=null),Ad.forEach(jb),Ed.forEach(jb)}function Ru(n,e){n.blockedOn===e&&(n.blockedOn=null,Mv||(Mv=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,mP)))}function Sd(n){function e(s){return Ru(s,n)}if(0<Tf.length){Ru(Tf[0],n);for(var t=1;t<Tf.length;t++){var r=Tf[t];r.blockedOn===n&&(r.blockedOn=null)}}for(vo!==null&&Ru(vo,n),yo!==null&&Ru(yo,n),wo!==null&&Ru(wo,n),Ad.forEach(e),Ed.forEach(e),t=0;t<Mi.length;t++)r=Mi[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Mi.length&&(t=Mi[0],t.blockedOn===null);)VE(t),t.blockedOn===null&&Mi.shift()}var Xl=yi.ReactCurrentBatchConfig,Wp=!0;function vP(n,e,t,r){var s=_e,i=Xl.transition;Xl.transition=null;try{_e=1,rw(n,e,t,r)}finally{_e=s,Xl.transition=i}}function yP(n,e,t,r){var s=_e,i=Xl.transition;Xl.transition=null;try{_e=4,rw(n,e,t,r)}finally{_e=s,Xl.transition=i}}function rw(n,e,t,r){if(Wp){var s=Iv(n,e,t,r);if(s===null)Wm(n,e,r,Gp,t),Ob(n,r);else if(gP(s,n,e,t,r))r.stopPropagation();else if(Ob(n,r),e&4&&-1<pP.indexOf(n)){for(;s!==null;){var i=lf(s);if(i!==null&&BE(i),i=Iv(n,e,t,r),i===null&&Wm(n,e,r,Gp,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wm(n,e,r,null,t)}}var Gp=null;function Iv(n,e,t,r){if(Gp=null,n=Z0(r),n=Yo(n),n!==null)if(e=pl(n),e===null)n=null;else if(t=e.tag,t===13){if(n=ME(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Gp=n,null}function WE(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iP()){case ew:return 1;case DE:return 4;case Up:case oP:return 16;case OE:return 536870912;default:return 16}default:return 16}}var po=null,sw=null,Jf=null;function GE(){if(Jf)return Jf;var n,e=sw,t=e.length,r,s="value"in po?po.value:po.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===s[i-r];r++);return Jf=s.slice(n,1<r?1-r:void 0)}function Zf(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function kf(){return!0}function zb(){return!1}function Vn(n){function e(t,r,s,i,o){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?kf:zb,this.isPropagationStopped=zb,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=kf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=kf)},persist:function(){},isPersistent:kf}),e}var xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iw=Vn(xu),af=Xe({},xu,{view:0,detail:0}),wP=Vn(af),Dm,Om,Lu,$g=Xe({},af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ow,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Lu&&(Lu&&n.type==="mousemove"?(Dm=n.screenX-Lu.screenX,Om=n.screenY-Lu.screenY):Om=Dm=0,Lu=n),Dm)},movementY:function(n){return"movementY"in n?n.movementY:Om}}),Bb=Vn($g),bP=Xe({},$g,{dataTransfer:0}),xP=Vn(bP),AP=Xe({},af,{relatedTarget:0}),jm=Vn(AP),EP=Xe({},xu,{animationName:0,elapsedTime:0,pseudoElement:0}),SP=Vn(EP),_P=Xe({},xu,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CP=Vn(_P),TP=Xe({},xu,{data:0}),Hb=Vn(TP),kP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LP(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=RP[n])?!!e[n]:!1}function ow(){return LP}var MP=Xe({},af,{key:function(n){if(n.key){var e=kP[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Zf(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?PP[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ow,charCode:function(n){return n.type==="keypress"?Zf(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zf(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),IP=Vn(MP),FP=Xe({},$g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$b=Vn(FP),NP=Xe({},af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ow}),DP=Vn(NP),OP=Xe({},xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),jP=Vn(OP),zP=Xe({},$g,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),BP=Vn(zP),HP=[9,13,27,32],aw=ui&&"CompositionEvent"in window,ld=null;ui&&"documentMode"in document&&(ld=document.documentMode);var $P=ui&&"TextEvent"in window&&!ld,XE=ui&&(!aw||ld&&8<ld&&11>=ld),Ub=" ",Vb=!1;function qE(n,e){switch(n){case"keyup":return HP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YE(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Il=!1;function UP(n,e){switch(n){case"compositionend":return YE(e);case"keypress":return e.which!==32?null:(Vb=!0,Ub);case"textInput":return n=e.data,n===Ub&&Vb?null:n;default:return null}}function VP(n,e){if(Il)return n==="compositionend"||!aw&&qE(n,e)?(n=GE(),Jf=sw=po=null,Il=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XE&&e.locale!=="ko"?null:e.data;default:return null}}var WP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!WP[n.type]:e==="textarea"}function KE(n,e,t,r){TE(r),e=Xp(e,"onChange"),0<e.length&&(t=new iw("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var cd=null,_d=null;function GP(n){aS(n,0)}function Ug(n){var e=Dl(n);if(bE(e))return n}function XP(n,e){if(n==="change")return e}var QE=!1;if(ui){var zm;if(ui){var Bm="oninput"in document;if(!Bm){var Gb=document.createElement("div");Gb.setAttribute("oninput","return;"),Bm=typeof Gb.oninput=="function"}zm=Bm}else zm=!1;QE=zm&&(!document.documentMode||9<document.documentMode)}function Xb(){cd&&(cd.detachEvent("onpropertychange",JE),_d=cd=null)}function JE(n){if(n.propertyName==="value"&&Ug(_d)){var e=[];KE(e,_d,n,Z0(n)),LE(GP,e)}}function qP(n,e,t){n==="focusin"?(Xb(),cd=e,_d=t,cd.attachEvent("onpropertychange",JE)):n==="focusout"&&Xb()}function YP(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ug(_d)}function KP(n,e){if(n==="click")return Ug(e)}function QP(n,e){if(n==="input"||n==="change")return Ug(e)}function JP(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var zr=typeof Object.is=="function"?Object.is:JP;function Cd(n,e){if(zr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!gv.call(e,s)||!zr(n[s],e[s]))return!1}return!0}function qb(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Yb(n,e){var t=qb(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=qb(t)}}function ZE(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?ZE(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function eS(){for(var n=window,e=Bp();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Bp(n.document)}return e}function lw(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function ZP(n){var e=eS(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&ZE(t.ownerDocument.documentElement,t)){if(r!==null&&lw(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=Yb(t,i);var o=Yb(t,r);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var eR=ui&&"documentMode"in document&&11>=document.documentMode,Fl=null,Fv=null,ud=null,Nv=!1;function Kb(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Nv||Fl==null||Fl!==Bp(r)||(r=Fl,"selectionStart"in r&&lw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ud&&Cd(ud,r)||(ud=r,r=Xp(Fv,"onSelect"),0<r.length&&(e=new iw("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Fl)))}function Pf(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Nl={animationend:Pf("Animation","AnimationEnd"),animationiteration:Pf("Animation","AnimationIteration"),animationstart:Pf("Animation","AnimationStart"),transitionend:Pf("Transition","TransitionEnd")},Hm={},tS={};ui&&(tS=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Vg(n){if(Hm[n])return Hm[n];if(!Nl[n])return n;var e=Nl[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in tS)return Hm[n]=e[t];return n}var nS=Vg("animationend"),rS=Vg("animationiteration"),sS=Vg("animationstart"),iS=Vg("transitionend"),oS=new Map,Qb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(n,e){oS.set(n,e),fl(e,[n])}for(var $m=0;$m<Qb.length;$m++){var Um=Qb[$m],tR=Um.toLowerCase(),nR=Um[0].toUpperCase()+Um.slice(1);No(tR,"on"+nR)}No(nS,"onAnimationEnd");No(rS,"onAnimationIteration");No(sS,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(iS,"onTransitionEnd");uu("onMouseEnter",["mouseout","mouseover"]);uu("onMouseLeave",["mouseout","mouseover"]);uu("onPointerEnter",["pointerout","pointerover"]);uu("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function Jb(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,tP(r,e,void 0,n),n.currentTarget=null}function aS(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Jb(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Jb(s,a,u),i=l}}}if($p)throw n=Rv,$p=!1,Rv=null,n}function Fe(n,e){var t=e[Bv];t===void 0&&(t=e[Bv]=new Set);var r=n+"__bubble";t.has(r)||(lS(e,n,2,!1),t.add(r))}function Vm(n,e,t){var r=0;e&&(r|=4),lS(t,n,r,e)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function Td(n){if(!n[Rf]){n[Rf]=!0,gE.forEach(function(t){t!=="selectionchange"&&(rR.has(t)||Vm(t,!1,n),Vm(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Rf]||(e[Rf]=!0,Vm("selectionchange",!1,e))}}function lS(n,e,t,r){switch(WE(e)){case 1:var s=vP;break;case 4:s=yP;break;default:s=rw}t=s.bind(null,e,t,n),s=void 0,!Pv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Wm(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Yo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}LE(function(){var u=i,d=Z0(t),h=[];e:{var f=oS.get(n);if(f!==void 0){var p=iw,v=n;switch(n){case"keypress":if(Zf(t)===0)break e;case"keydown":case"keyup":p=IP;break;case"focusin":v="focus",p=jm;break;case"focusout":v="blur",p=jm;break;case"beforeblur":case"afterblur":p=jm;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Bb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DP;break;case nS:case rS:case sS:p=SP;break;case iS:p=jP;break;case"scroll":p=wP;break;case"wheel":p=BP;break;case"copy":case"cut":case"paste":p=CP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=$b}var g=(e&4)!==0,w=!g&&n==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,x;y!==null;){x=y;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,m!==null&&(S=xd(y,m),S!=null&&g.push(kd(y,S,x)))),w)break;y=y.return}0<g.length&&(f=new p(f,v,null,t,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==Tv&&(v=t.relatedTarget||t.fromElement)&&(Yo(v)||v[di]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=t.relatedTarget||t.toElement,p=u,v=v?Yo(v):null,v!==null&&(w=pl(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=Bb,S="onMouseLeave",m="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(g=$b,S="onPointerLeave",m="onPointerEnter",y="pointer"),w=p==null?f:Dl(p),x=v==null?f:Dl(v),f=new g(S,y+"leave",p,t,d),f.target=w,f.relatedTarget=x,S=null,Yo(d)===u&&(g=new g(m,y+"enter",v,t,d),g.target=x,g.relatedTarget=w,S=g),w=S,p&&v)t:{for(g=p,m=v,y=0,x=g;x;x=Al(x))y++;for(x=0,S=m;S;S=Al(S))x++;for(;0<y-x;)g=Al(g),y--;for(;0<x-y;)m=Al(m),x--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Al(g),m=Al(m)}g=null}else g=null;p!==null&&Zb(h,f,p,g,!1),v!==null&&w!==null&&Zb(h,w,v,g,!0)}}e:{if(f=u?Dl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=XP;else if(Wb(f))if(QE)C=QP;else{C=YP;var T=qP}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=KP);if(C&&(C=C(n,u))){KE(h,C,t,d);break e}T&&T(n,f,u),n==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Av(f,"number",f.value)}switch(T=u?Dl(u):window,n){case"focusin":(Wb(T)||T.contentEditable==="true")&&(Fl=T,Fv=u,ud=null);break;case"focusout":ud=Fv=Fl=null;break;case"mousedown":Nv=!0;break;case"contextmenu":case"mouseup":case"dragend":Nv=!1,Kb(h,t,d);break;case"selectionchange":if(eR)break;case"keydown":case"keyup":Kb(h,t,d)}var k;if(aw)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Il?qE(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(XE&&t.locale!=="ko"&&(Il||R!=="onCompositionStart"?R==="onCompositionEnd"&&Il&&(k=GE()):(po=d,sw="value"in po?po.value:po.textContent,Il=!0)),T=Xp(u,R),0<T.length&&(R=new Hb(R,n,null,t,d),h.push({event:R,listeners:T}),k?R.data=k:(k=YE(t),k!==null&&(R.data=k)))),(k=$P?UP(n,t):VP(n,t))&&(u=Xp(u,"onBeforeInput"),0<u.length&&(d=new Hb("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:u}),d.data=k))}aS(h,e)})}function kd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Xp(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=xd(n,t),i!=null&&r.unshift(kd(n,i,s)),i=xd(n,e),i!=null&&r.push(kd(n,i,s))),n=n.return}return r}function Al(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Zb(n,e,t,r,s){for(var i=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=xd(t,i),l!=null&&o.unshift(kd(t,l,a))):s||(l=xd(t,i),l!=null&&o.push(kd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var sR=/\r\n?/g,iR=/\u0000|\uFFFD/g;function ex(n){return(typeof n=="string"?n:""+n).replace(sR,`
`).replace(iR,"")}function Lf(n,e,t){if(e=ex(e),ex(n)!==e&&t)throw Error(z(425))}function qp(){}var Dv=null,Ov=null;function jv(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zv=typeof setTimeout=="function"?setTimeout:void 0,oR=typeof clearTimeout=="function"?clearTimeout:void 0,tx=typeof Promise=="function"?Promise:void 0,aR=typeof queueMicrotask=="function"?queueMicrotask:typeof tx<"u"?function(n){return tx.resolve(null).then(n).catch(lR)}:zv;function lR(n){setTimeout(function(){throw n})}function Gm(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),Sd(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Sd(e)}function bo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function nx(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Au=Math.random().toString(36).slice(2),gs="__reactFiber$"+Au,Pd="__reactProps$"+Au,di="__reactContainer$"+Au,Bv="__reactEvents$"+Au,cR="__reactListeners$"+Au,uR="__reactHandles$"+Au;function Yo(n){var e=n[gs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[di]||t[gs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=nx(n);n!==null;){if(t=n[gs])return t;n=nx(n)}return e}n=t,t=n.parentNode}return null}function lf(n){return n=n[gs]||n[di],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Dl(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(z(33))}function Wg(n){return n[Pd]||null}var Hv=[],Ol=-1;function Do(n){return{current:n}}function De(n){0>Ol||(n.current=Hv[Ol],Hv[Ol]=null,Ol--)}function Le(n,e){Ol++,Hv[Ol]=n.current,n.current=e}var Co={},Gt=Do(Co),yn=Do(!1),tl=Co;function du(n,e){var t=n.type.contextTypes;if(!t)return Co;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function wn(n){return n=n.childContextTypes,n!=null}function Yp(){De(yn),De(Gt)}function rx(n,e,t){if(Gt.current!==Co)throw Error(z(168));Le(Gt,e),Le(yn,t)}function cS(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,qk(n)||"Unknown",s));return Xe({},t,r)}function Kp(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Co,tl=Gt.current,Le(Gt,n),Le(yn,yn.current),!0}function sx(n,e,t){var r=n.stateNode;if(!r)throw Error(z(169));t?(n=cS(n,e,tl),r.__reactInternalMemoizedMergedChildContext=n,De(yn),De(Gt),Le(Gt,n)):De(yn),Le(yn,t)}var Ls=null,Gg=!1,Xm=!1;function uS(n){Ls===null?Ls=[n]:Ls.push(n)}function dR(n){Gg=!0,uS(n)}function Oo(){if(!Xm&&Ls!==null){Xm=!0;var n=0,e=_e;try{var t=Ls;for(_e=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ls=null,Gg=!1}catch(s){throw Ls!==null&&(Ls=Ls.slice(n+1)),NE(ew,Oo),s}finally{_e=e,Xm=!1}}return null}var jl=[],zl=0,Qp=null,Jp=0,Zn=[],er=0,nl=null,si=1,ii="";function Ho(n,e){jl[zl++]=Jp,jl[zl++]=Qp,Qp=n,Jp=e}function dS(n,e,t){Zn[er++]=si,Zn[er++]=ii,Zn[er++]=nl,nl=n;var r=si;n=ii;var s=32-Or(r)-1;r&=~(1<<s),t+=1;var i=32-Or(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,si=1<<32-Or(e)+s|t<<s|r,ii=i+n}else si=1<<i|t<<s|r,ii=n}function cw(n){n.return!==null&&(Ho(n,1),dS(n,1,0))}function uw(n){for(;n===Qp;)Qp=jl[--zl],jl[zl]=null,Jp=jl[--zl],jl[zl]=null;for(;n===nl;)nl=Zn[--er],Zn[er]=null,ii=Zn[--er],Zn[er]=null,si=Zn[--er],Zn[er]=null}var zn=null,jn=null,ze=!1,Nr=null;function hS(n,e){var t=rr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function ix(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,zn=n,jn=bo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,zn=n,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=nl!==null?{id:si,overflow:ii}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=rr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,zn=n,jn=null,!0):!1;default:return!1}}function $v(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Uv(n){if(ze){var e=jn;if(e){var t=e;if(!ix(n,e)){if($v(n))throw Error(z(418));e=bo(t.nextSibling);var r=zn;e&&ix(n,e)?hS(r,t):(n.flags=n.flags&-4097|2,ze=!1,zn=n)}}else{if($v(n))throw Error(z(418));n.flags=n.flags&-4097|2,ze=!1,zn=n}}}function ox(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;zn=n}function Mf(n){if(n!==zn)return!1;if(!ze)return ox(n),ze=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!jv(n.type,n.memoizedProps)),e&&(e=jn)){if($v(n))throw fS(),Error(z(418));for(;e;)hS(n,e),e=bo(e.nextSibling)}if(ox(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(z(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){jn=bo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}jn=null}}else jn=zn?bo(n.stateNode.nextSibling):null;return!0}function fS(){for(var n=jn;n;)n=bo(n.nextSibling)}function hu(){jn=zn=null,ze=!1}function dw(n){Nr===null?Nr=[n]:Nr.push(n)}var hR=yi.ReactCurrentBatchConfig;function Mu(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(z(309));var r=t.stateNode}if(!r)throw Error(z(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(z(284));if(!t._owner)throw Error(z(290,n))}return n}function If(n,e){throw n=Object.prototype.toString.call(e),Error(z(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function ax(n){var e=n._init;return e(n._payload)}function pS(n){function e(m,y){if(n){var x=m.deletions;x===null?(m.deletions=[y],m.flags|=16):x.push(y)}}function t(m,y){if(!n)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=So(m,y),m.index=0,m.sibling=null,m}function i(m,y,x){return m.index=x,n?(x=m.alternate,x!==null?(x=x.index,x<y?(m.flags|=2,y):x):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,y,x,S){return y===null||y.tag!==6?(y=ev(x,m.mode,S),y.return=m,y):(y=s(y,x),y.return=m,y)}function l(m,y,x,S){var C=x.type;return C===Ml?d(m,y,x.props.children,S,x.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ri&&ax(C)===y.type)?(S=s(y,x.props),S.ref=Mu(m,y,x),S.return=m,S):(S=op(x.type,x.key,x.props,null,m.mode,S),S.ref=Mu(m,y,x),S.return=m,S)}function u(m,y,x,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=tv(x,m.mode,S),y.return=m,y):(y=s(y,x.children||[]),y.return=m,y)}function d(m,y,x,S,C){return y===null||y.tag!==7?(y=el(x,m.mode,S,C),y.return=m,y):(y=s(y,x),y.return=m,y)}function h(m,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ev(""+y,m.mode,x),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Af:return x=op(y.type,y.key,y.props,null,m.mode,x),x.ref=Mu(m,null,y),x.return=m,x;case Ll:return y=tv(y,m.mode,x),y.return=m,y;case Ri:var S=y._init;return h(m,S(y._payload),x)}if(Hu(y)||Tu(y))return y=el(y,m.mode,x,null),y.return=m,y;If(m,y)}return null}function f(m,y,x,S){var C=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return C!==null?null:a(m,y,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Af:return x.key===C?l(m,y,x,S):null;case Ll:return x.key===C?u(m,y,x,S):null;case Ri:return C=x._init,f(m,y,C(x._payload),S)}if(Hu(x)||Tu(x))return C!==null?null:d(m,y,x,S,null);If(m,x)}return null}function p(m,y,x,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(x)||null,a(y,m,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Af:return m=m.get(S.key===null?x:S.key)||null,l(y,m,S,C);case Ll:return m=m.get(S.key===null?x:S.key)||null,u(y,m,S,C);case Ri:var T=S._init;return p(m,y,x,T(S._payload),C)}if(Hu(S)||Tu(S))return m=m.get(x)||null,d(y,m,S,C,null);If(y,S)}return null}function v(m,y,x,S){for(var C=null,T=null,k=y,R=y=0,M=null;k!==null&&R<x.length;R++){k.index>R?(M=k,k=null):M=k.sibling;var I=f(m,k,x[R],S);if(I===null){k===null&&(k=M);break}n&&k&&I.alternate===null&&e(m,k),y=i(I,y,R),T===null?C=I:T.sibling=I,T=I,k=M}if(R===x.length)return t(m,k),ze&&Ho(m,R),C;if(k===null){for(;R<x.length;R++)k=h(m,x[R],S),k!==null&&(y=i(k,y,R),T===null?C=k:T.sibling=k,T=k);return ze&&Ho(m,R),C}for(k=r(m,k);R<x.length;R++)M=p(k,m,R,x[R],S),M!==null&&(n&&M.alternate!==null&&k.delete(M.key===null?R:M.key),y=i(M,y,R),T===null?C=M:T.sibling=M,T=M);return n&&k.forEach(function(D){return e(m,D)}),ze&&Ho(m,R),C}function g(m,y,x,S){var C=Tu(x);if(typeof C!="function")throw Error(z(150));if(x=C.call(x),x==null)throw Error(z(151));for(var T=C=null,k=y,R=y=0,M=null,I=x.next();k!==null&&!I.done;R++,I=x.next()){k.index>R?(M=k,k=null):M=k.sibling;var D=f(m,k,I.value,S);if(D===null){k===null&&(k=M);break}n&&k&&D.alternate===null&&e(m,k),y=i(D,y,R),T===null?C=D:T.sibling=D,T=D,k=M}if(I.done)return t(m,k),ze&&Ho(m,R),C;if(k===null){for(;!I.done;R++,I=x.next())I=h(m,I.value,S),I!==null&&(y=i(I,y,R),T===null?C=I:T.sibling=I,T=I);return ze&&Ho(m,R),C}for(k=r(m,k);!I.done;R++,I=x.next())I=p(k,m,R,I.value,S),I!==null&&(n&&I.alternate!==null&&k.delete(I.key===null?R:I.key),y=i(I,y,R),T===null?C=I:T.sibling=I,T=I);return n&&k.forEach(function(j){return e(m,j)}),ze&&Ho(m,R),C}function w(m,y,x,S){if(typeof x=="object"&&x!==null&&x.type===Ml&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Af:e:{for(var C=x.key,T=y;T!==null;){if(T.key===C){if(C=x.type,C===Ml){if(T.tag===7){t(m,T.sibling),y=s(T,x.props.children),y.return=m,m=y;break e}}else if(T.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ri&&ax(C)===T.type){t(m,T.sibling),y=s(T,x.props),y.ref=Mu(m,T,x),y.return=m,m=y;break e}t(m,T);break}else e(m,T);T=T.sibling}x.type===Ml?(y=el(x.props.children,m.mode,S,x.key),y.return=m,m=y):(S=op(x.type,x.key,x.props,null,m.mode,S),S.ref=Mu(m,y,x),S.return=m,m=S)}return o(m);case Ll:e:{for(T=x.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){t(m,y.sibling),y=s(y,x.children||[]),y.return=m,m=y;break e}else{t(m,y);break}else e(m,y);y=y.sibling}y=tv(x,m.mode,S),y.return=m,m=y}return o(m);case Ri:return T=x._init,w(m,y,T(x._payload),S)}if(Hu(x))return v(m,y,x,S);if(Tu(x))return g(m,y,x,S);If(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(t(m,y.sibling),y=s(y,x),y.return=m,m=y):(t(m,y),y=ev(x,m.mode,S),y.return=m,m=y),o(m)):t(m,y)}return w}var fu=pS(!0),gS=pS(!1),Zp=Do(null),eg=null,Bl=null,hw=null;function fw(){hw=Bl=eg=null}function pw(n){var e=Zp.current;De(Zp),n._currentValue=e}function Vv(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function ql(n,e){eg=n,hw=Bl=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(mn=!0),n.firstContext=null)}function or(n){var e=n._currentValue;if(hw!==n)if(n={context:n,memoizedValue:e,next:null},Bl===null){if(eg===null)throw Error(z(308));Bl=n,eg.dependencies={lanes:0,firstContext:n}}else Bl=Bl.next=n;return e}var Ko=null;function gw(n){Ko===null?Ko=[n]:Ko.push(n)}function mS(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,gw(e)):(t.next=s.next,s.next=t),e.interleaved=t,hi(n,r)}function hi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Li=!1;function mw(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vS(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function oi(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function xo(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hi(n,t)}return s=r.interleaved,s===null?(e.next=e,gw(r)):(e.next=s.next,s.next=e),r.interleaved=e,hi(n,t)}function ep(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,tw(n,t)}}function lx(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function tg(n,e,t,r){var s=n.updateQueue;Li=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,g=a;switch(f=e,p=t,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=Xe({},h,f);break e;case 2:Li=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);sl|=o,n.lanes=o,n.memoizedState=h}}function cx(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var cf={},ys=Do(cf),Rd=Do(cf),Ld=Do(cf);function Qo(n){if(n===cf)throw Error(z(174));return n}function vw(n,e){switch(Le(Ld,e),Le(Rd,n),Le(ys,cf),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Sv(e,n)}De(ys),Le(ys,e)}function pu(){De(ys),De(Rd),De(Ld)}function yS(n){Qo(Ld.current);var e=Qo(ys.current),t=Sv(e,n.type);e!==t&&(Le(Rd,n),Le(ys,t))}function yw(n){Rd.current===n&&(De(ys),De(Rd))}var We=Do(0);function ng(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qm=[];function ww(){for(var n=0;n<qm.length;n++)qm[n]._workInProgressVersionPrimary=null;qm.length=0}var tp=yi.ReactCurrentDispatcher,Ym=yi.ReactCurrentBatchConfig,rl=0,Ge=null,dt=null,Et=null,rg=!1,dd=!1,Md=0,fR=0;function Ft(){throw Error(z(321))}function bw(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!zr(n[t],e[t]))return!1;return!0}function xw(n,e,t,r,s,i){if(rl=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tp.current=n===null||n.memoizedState===null?vR:yR,n=t(r,s),dd){i=0;do{if(dd=!1,Md=0,25<=i)throw Error(z(301));i+=1,Et=dt=null,e.updateQueue=null,tp.current=wR,n=t(r,s)}while(dd)}if(tp.current=sg,e=dt!==null&&dt.next!==null,rl=0,Et=dt=Ge=null,rg=!1,e)throw Error(z(300));return n}function Aw(){var n=Md!==0;return Md=0,n}function Xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ge.memoizedState=Et=n:Et=Et.next=n,Et}function ar(){if(dt===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var e=Et===null?Ge.memoizedState:Et.next;if(e!==null)Et=e,dt=n;else{if(n===null)throw Error(z(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Et===null?Ge.memoizedState=Et=n:Et=Et.next=n}return Et}function Id(n,e){return typeof e=="function"?e(n):e}function Km(n){var e=ar(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=dt,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((rl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ge.lanes|=d,sl|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,zr(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,Ge.lanes|=i,sl|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Qm(n){var e=ar(),t=e.queue;if(t===null)throw Error(z(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do i=n(i,o.action),o=o.next;while(o!==s);zr(i,e.memoizedState)||(mn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function wS(){}function bS(n,e){var t=Ge,r=ar(),s=e(),i=!zr(r.memoizedState,s);if(i&&(r.memoizedState=s,mn=!0),r=r.queue,Ew(ES.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Et!==null&&Et.memoizedState.tag&1){if(t.flags|=2048,Fd(9,AS.bind(null,t,r,s,e),void 0,null),St===null)throw Error(z(349));rl&30||xS(t,e,s)}return s}function xS(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function AS(n,e,t,r){e.value=t,e.getSnapshot=r,SS(e)&&_S(n)}function ES(n,e,t){return t(function(){SS(e)&&_S(n)})}function SS(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!zr(n,t)}catch{return!0}}function _S(n){var e=hi(n,1);e!==null&&jr(e,n,1,-1)}function ux(n){var e=Xr();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:n},e.queue=n,n=n.dispatch=mR.bind(null,Ge,n),[e.memoizedState,n]}function Fd(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function CS(){return ar().memoizedState}function np(n,e,t,r){var s=Xr();Ge.flags|=n,s.memoizedState=Fd(1|e,t,void 0,r===void 0?null:r)}function Xg(n,e,t,r){var s=ar();r=r===void 0?null:r;var i=void 0;if(dt!==null){var o=dt.memoizedState;if(i=o.destroy,r!==null&&bw(r,o.deps)){s.memoizedState=Fd(e,t,i,r);return}}Ge.flags|=n,s.memoizedState=Fd(1|e,t,i,r)}function dx(n,e){return np(8390656,8,n,e)}function Ew(n,e){return Xg(2048,8,n,e)}function TS(n,e){return Xg(4,2,n,e)}function kS(n,e){return Xg(4,4,n,e)}function PS(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function RS(n,e,t){return t=t!=null?t.concat([n]):null,Xg(4,4,PS.bind(null,e,n),t)}function Sw(){}function LS(n,e){var t=ar();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&bw(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function MS(n,e){var t=ar();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&bw(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function IS(n,e,t){return rl&21?(zr(t,e)||(t=jE(),Ge.lanes|=t,sl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,mn=!0),n.memoizedState=t)}function pR(n,e){var t=_e;_e=t!==0&&4>t?t:4,n(!0);var r=Ym.transition;Ym.transition={};try{n(!1),e()}finally{_e=t,Ym.transition=r}}function FS(){return ar().memoizedState}function gR(n,e,t){var r=Eo(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},NS(n))DS(e,t);else if(t=mS(n,e,t,r),t!==null){var s=Zt();jr(t,n,r,s),OS(t,e,r)}}function mR(n,e,t){var r=Eo(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(NS(n))DS(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(s.hasEagerState=!0,s.eagerState=a,zr(a,o)){var l=e.interleaved;l===null?(s.next=s,gw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=mS(n,e,s,r),t!==null&&(s=Zt(),jr(t,n,r,s),OS(t,e,r))}}function NS(n){var e=n.alternate;return n===Ge||e!==null&&e===Ge}function DS(n,e){dd=rg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function OS(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,tw(n,t)}}var sg={readContext:or,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},vR={readContext:or,useCallback:function(n,e){return Xr().memoizedState=[n,e===void 0?null:e],n},useContext:or,useEffect:dx,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,np(4194308,4,PS.bind(null,e,n),t)},useLayoutEffect:function(n,e){return np(4194308,4,n,e)},useInsertionEffect:function(n,e){return np(4,2,n,e)},useMemo:function(n,e){var t=Xr();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Xr();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=gR.bind(null,Ge,n),[r.memoizedState,n]},useRef:function(n){var e=Xr();return n={current:n},e.memoizedState=n},useState:ux,useDebugValue:Sw,useDeferredValue:function(n){return Xr().memoizedState=n},useTransition:function(){var n=ux(!1),e=n[0];return n=pR.bind(null,n[1]),Xr().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ge,s=Xr();if(ze){if(t===void 0)throw Error(z(407));t=t()}else{if(t=e(),St===null)throw Error(z(349));rl&30||xS(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,dx(ES.bind(null,r,i,n),[n]),r.flags|=2048,Fd(9,AS.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=Xr(),e=St.identifierPrefix;if(ze){var t=ii,r=si;t=(r&~(1<<32-Or(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Md++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=fR++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},yR={readContext:or,useCallback:LS,useContext:or,useEffect:Ew,useImperativeHandle:RS,useInsertionEffect:TS,useLayoutEffect:kS,useMemo:MS,useReducer:Km,useRef:CS,useState:function(){return Km(Id)},useDebugValue:Sw,useDeferredValue:function(n){var e=ar();return IS(e,dt.memoizedState,n)},useTransition:function(){var n=Km(Id)[0],e=ar().memoizedState;return[n,e]},useMutableSource:wS,useSyncExternalStore:bS,useId:FS,unstable_isNewReconciler:!1},wR={readContext:or,useCallback:LS,useContext:or,useEffect:Ew,useImperativeHandle:RS,useInsertionEffect:TS,useLayoutEffect:kS,useMemo:MS,useReducer:Qm,useRef:CS,useState:function(){return Qm(Id)},useDebugValue:Sw,useDeferredValue:function(n){var e=ar();return dt===null?e.memoizedState=n:IS(e,dt.memoizedState,n)},useTransition:function(){var n=Qm(Id)[0],e=ar().memoizedState;return[n,e]},useMutableSource:wS,useSyncExternalStore:bS,useId:FS,unstable_isNewReconciler:!1};function mr(n,e){if(n&&n.defaultProps){e=Xe({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Wv(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Xe({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var qg={isMounted:function(n){return(n=n._reactInternals)?pl(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Zt(),s=Eo(n),i=oi(r,s);i.payload=e,t!=null&&(i.callback=t),e=xo(n,i,s),e!==null&&(jr(e,n,s,r),ep(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Zt(),s=Eo(n),i=oi(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=xo(n,i,s),e!==null&&(jr(e,n,s,r),ep(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Zt(),r=Eo(n),s=oi(t,r);s.tag=2,e!=null&&(s.callback=e),e=xo(n,s,r),e!==null&&(jr(e,n,r,t),ep(e,n,r))}};function hx(n,e,t,r,s,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Cd(t,r)||!Cd(s,i):!0}function jS(n,e,t){var r=!1,s=Co,i=e.contextType;return typeof i=="object"&&i!==null?i=or(i):(s=wn(e)?tl:Gt.current,r=e.contextTypes,i=(r=r!=null)?du(n,s):Co),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qg,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function fx(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&qg.enqueueReplaceState(e,e.state,null)}function Gv(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},mw(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=or(i):(i=wn(e)?tl:Gt.current,s.context=du(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wv(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&qg.enqueueReplaceState(s,s.state,null),tg(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function gu(n,e){try{var t="",r=e;do t+=Xk(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function Jm(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Xv(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var bR=typeof WeakMap=="function"?WeakMap:Map;function zS(n,e,t){t=oi(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){og||(og=!0,ry=r),Xv(n,e)},t}function BS(n,e,t){t=oi(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){Xv(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Xv(n,e),typeof r!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function px(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new bR;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=FR.bind(null,n,e,t),e.then(n,n))}function gx(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function mx(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=oi(-1,1),e.tag=2,xo(t,e,1))),t.lanes|=1),n)}var xR=yi.ReactCurrentOwner,mn=!1;function Kt(n,e,t,r){e.child=n===null?gS(e,null,t,r):fu(e,n.child,t,r)}function vx(n,e,t,r,s){t=t.render;var i=e.ref;return ql(e,s),r=xw(n,e,t,r,i,s),t=Aw(),n!==null&&!mn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,fi(n,e,s)):(ze&&t&&cw(e),e.flags|=1,Kt(n,e,r,s),e.child)}function yx(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!Mw(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,HS(n,e,i,r,s)):(n=op(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:Cd,t(o,r)&&n.ref===e.ref)return fi(n,e,s)}return e.flags|=1,n=So(i,r),n.ref=e.ref,n.return=e,e.child=n}function HS(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(Cd(i,r)&&n.ref===e.ref)if(mn=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&(mn=!0);else return e.lanes=n.lanes,fi(n,e,s)}return qv(n,e,t,r,s)}function $S(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le($l,Nn),Nn|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Le($l,Nn),Nn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Le($l,Nn),Nn|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Le($l,Nn),Nn|=r;return Kt(n,e,s,t),e.child}function US(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function qv(n,e,t,r,s){var i=wn(t)?tl:Gt.current;return i=du(e,i),ql(e,s),t=xw(n,e,t,r,i,s),r=Aw(),n!==null&&!mn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,fi(n,e,s)):(ze&&r&&cw(e),e.flags|=1,Kt(n,e,t,s),e.child)}function wx(n,e,t,r,s){if(wn(t)){var i=!0;Kp(e)}else i=!1;if(ql(e,s),e.stateNode===null)rp(n,e),jS(e,t,r),Gv(e,t,r,s),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=or(u):(u=wn(t)?tl:Gt.current,u=du(e,u));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&fx(e,o,r,u),Li=!1;var f=e.memoizedState;o.state=f,tg(e,r,o,s),l=e.memoizedState,a!==r||f!==l||yn.current||Li?(typeof d=="function"&&(Wv(e,t,d,r),l=e.memoizedState),(a=Li||hx(e,t,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vS(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:mr(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=or(l):(l=wn(t)?tl:Gt.current,l=du(e,l));var p=t.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&fx(e,o,r,l),Li=!1,f=e.memoizedState,o.state=f,tg(e,r,o,s);var v=e.memoizedState;a!==h||f!==v||yn.current||Li?(typeof p=="function"&&(Wv(e,t,p,r),v=e.memoizedState),(u=Li||hx(e,t,u,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return Yv(n,e,t,r,i,s)}function Yv(n,e,t,r,s,i){US(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&sx(e,t,!1),fi(n,e,i);r=e.stateNode,xR.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=fu(e,n.child,null,i),e.child=fu(e,null,a,i)):Kt(n,e,a,i),e.memoizedState=r.state,s&&sx(e,t,!0),e.child}function VS(n){var e=n.stateNode;e.pendingContext?rx(n,e.pendingContext,e.pendingContext!==e.context):e.context&&rx(n,e.context,!1),vw(n,e.containerInfo)}function bx(n,e,t,r,s){return hu(),dw(s),e.flags|=256,Kt(n,e,t,r),e.child}var Kv={dehydrated:null,treeContext:null,retryLane:0};function Qv(n){return{baseLanes:n,cachePool:null,transitions:null}}function WS(n,e,t){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Le(We,s&1),n===null)return Uv(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Qg(o,r,0,null),n=el(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=Qv(t),e.memoizedState=Kv,n):_w(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return AR(n,e,o,r,a,s,t);if(i){i=r.fallback,o=e.mode,s=n.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=So(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=So(a,i):(i=el(i,o,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=n.child.memoizedState,o=o===null?Qv(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=Kv,r}return i=n.child,n=i.sibling,r=So(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function _w(n,e){return e=Qg({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ff(n,e,t,r){return r!==null&&dw(r),fu(e,n.child,null,t),n=_w(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function AR(n,e,t,r,s,i,o){if(t)return e.flags&256?(e.flags&=-257,r=Jm(Error(z(422))),Ff(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Qg({mode:"visible",children:r.children},s,0,null),i=el(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&fu(e,n.child,null,o),e.child.memoizedState=Qv(o),e.memoizedState=Kv,i);if(!(e.mode&1))return Ff(n,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Jm(i,r,void 0),Ff(n,e,o,r)}if(a=(o&n.childLanes)!==0,mn||a){if(r=St,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hi(n,s),jr(r,n,s,-1))}return Lw(),r=Jm(Error(z(421))),Ff(n,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=NR.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,jn=bo(s.nextSibling),zn=e,ze=!0,Nr=null,n!==null&&(Zn[er++]=si,Zn[er++]=ii,Zn[er++]=nl,si=n.id,ii=n.overflow,nl=e),e=_w(e,r.children),e.flags|=4096,e)}function xx(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Vv(n.return,e,t)}function Zm(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function GS(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Kt(n,e,r.children,t),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xx(n,t,e);else if(n.tag===19)xx(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Le(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&ng(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Zm(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&ng(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Zm(e,!0,t,null,i);break;case"together":Zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rp(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function fi(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),sl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(z(153));if(e.child!==null){for(n=e.child,t=So(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=So(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function ER(n,e,t){switch(e.tag){case 3:VS(e),hu();break;case 5:yS(e);break;case 1:wn(e.type)&&Kp(e);break;case 4:vw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(Zp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(We,We.current&1),e.flags|=128,null):t&e.child.childLanes?WS(n,e,t):(Le(We,We.current&1),n=fi(n,e,t),n!==null?n.sibling:null);Le(We,We.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return GS(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,$S(n,e,t)}return fi(n,e,t)}var XS,Jv,qS,YS;XS=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Jv=function(){};qS=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,Qo(ys.current);var i=null;switch(t){case"input":s=bv(n,s),r=bv(n,r),i=[];break;case"select":s=Xe({},s,{value:void 0}),r=Xe({},r,{value:void 0}),i=[];break;case"textarea":s=Ev(n,s),r=Ev(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=qp)}_v(t,r);var o;t=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wd.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(i||(i=[]),i.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",n),i||a===l||(i=[])):(i=i||[]).push(u,l))}t&&(i=i||[]).push("style",t);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};YS=function(n,e,t,r){t!==r&&(e.flags|=4)};function Iu(n,e){if(!ze)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Nt(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function SR(n,e,t){var r=e.pendingProps;switch(uw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return wn(e.type)&&Yp(),Nt(e),null;case 3:return r=e.stateNode,pu(),De(yn),De(Gt),ww(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Mf(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nr!==null&&(oy(Nr),Nr=null))),Jv(n,e),Nt(e),null;case 5:yw(e);var s=Qo(Ld.current);if(t=e.type,n!==null&&e.stateNode!=null)qS(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Nt(e),null}if(n=Qo(ys.current),Mf(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[gs]=e,r[Pd]=i,n=(e.mode&1)!==0,t){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<Uu.length;s++)Fe(Uu[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Rb(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":Mb(r,i),Fe("invalid",r)}_v(t,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Lf(r.textContent,a,n),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Lf(r.textContent,a,n),s=["children",""+a]):wd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(t){case"input":Ef(r),Lb(r,i,!0);break;case"textarea":Ef(r),Ib(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=EE(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[gs]=e,n[Pd]=r,XS(n,e,!1,!1),e.stateNode=n;e:{switch(o=Cv(t,r),t){case"dialog":Fe("cancel",n),Fe("close",n),s=r;break;case"iframe":case"object":case"embed":Fe("load",n),s=r;break;case"video":case"audio":for(s=0;s<Uu.length;s++)Fe(Uu[s],n);s=r;break;case"source":Fe("error",n),s=r;break;case"img":case"image":case"link":Fe("error",n),Fe("load",n),s=r;break;case"details":Fe("toggle",n),s=r;break;case"input":Rb(n,r),s=bv(n,r),Fe("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=Xe({},r,{value:void 0}),Fe("invalid",n);break;case"textarea":Mb(n,r),s=Ev(n,r),Fe("invalid",n);break;default:s=r}_v(t,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?CE(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SE(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&bd(n,l):typeof l=="number"&&bd(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",n):l!=null&&Y0(n,i,l,o))}switch(t){case"input":Ef(n),Lb(n,r,!1);break;case"textarea":Ef(n),Ib(n);break;case"option":r.value!=null&&n.setAttribute("value",""+_o(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?Vl(n,!!r.multiple,i,!1):r.defaultValue!=null&&Vl(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=qp)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(n&&e.stateNode!=null)YS(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=Qo(Ld.current),Qo(ys.current),Mf(e)){if(r=e.stateNode,t=e.memoizedProps,r[gs]=e,(i=r.nodeValue!==t)&&(n=zn,n!==null))switch(n.tag){case 3:Lf(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Lf(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[gs]=e,e.stateNode=r}return Nt(e),null;case 13:if(De(We),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ze&&jn!==null&&e.mode&1&&!(e.flags&128))fS(),hu(),e.flags|=98560,i=!1;else if(i=Mf(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[gs]=e}else hu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),i=!1}else Nr!==null&&(oy(Nr),Nr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||We.current&1?pt===0&&(pt=3):Lw())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return pu(),Jv(n,e),n===null&&Td(e.stateNode.containerInfo),Nt(e),null;case 10:return pw(e.type._context),Nt(e),null;case 17:return wn(e.type)&&Yp(),Nt(e),null;case 19:if(De(We),i=e.memoizedState,i===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Iu(i,!1);else{if(pt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ng(n),o!==null){for(e.flags|=128,Iu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Le(We,We.current&1|2),e.child}n=n.sibling}i.tail!==null&&Ze()>mu&&(e.flags|=128,r=!0,Iu(i,!1),e.lanes=4194304)}else{if(!r)if(n=ng(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Iu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return Nt(e),null}else 2*Ze()-i.renderingStartTime>mu&&t!==1073741824&&(e.flags|=128,r=!0,Iu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ze(),e.sibling=null,t=We.current,Le(We,r?t&1|2:t&1),e):(Nt(e),null);case 22:case 23:return Rw(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function _R(n,e){switch(uw(e),e.tag){case 1:return wn(e.type)&&Yp(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return pu(),De(yn),De(Gt),ww(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return yw(e),null;case 13:if(De(We),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(z(340));hu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return De(We),null;case 4:return pu(),null;case 10:return pw(e.type._context),null;case 22:case 23:return Rw(),null;case 24:return null;default:return null}}var Nf=!1,Ut=!1,CR=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Hl(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Qe(n,e,r)}else t.current=null}function Zv(n,e,t){try{t()}catch(r){Qe(n,e,r)}}var Ax=!1;function TR(n,e){if(Dv=Wp,n=eS(),lw(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=n,f=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===n)break t;if(f===t&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Ov={focusedElem:n,selectionRange:t},Wp=!1,Y=e;Y!==null;)if(e=Y,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Y=n;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:mr(e.type,g),w);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(S){Qe(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}return v=Ax,Ax=!1,v}function hd(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&Zv(e,t,i)}s=s.next}while(s!==r)}}function Yg(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function ey(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function KS(n){var e=n.alternate;e!==null&&(n.alternate=null,KS(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[gs],delete e[Pd],delete e[Bv],delete e[cR],delete e[uR])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function QS(n){return n.tag===5||n.tag===3||n.tag===4}function Ex(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||QS(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ty(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=qp));else if(r!==4&&(n=n.child,n!==null))for(ty(n,e,t),n=n.sibling;n!==null;)ty(n,e,t),n=n.sibling}function ny(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(ny(n,e,t),n=n.sibling;n!==null;)ny(n,e,t),n=n.sibling}var Rt=null,Fr=!1;function Si(n,e,t){for(t=t.child;t!==null;)JS(n,e,t),t=t.sibling}function JS(n,e,t){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Hg,t)}catch{}switch(t.tag){case 5:Ut||Hl(t,e);case 6:var r=Rt,s=Fr;Rt=null,Si(n,e,t),Rt=r,Fr=s,Rt!==null&&(Fr?(n=Rt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Rt.removeChild(t.stateNode));break;case 18:Rt!==null&&(Fr?(n=Rt,t=t.stateNode,n.nodeType===8?Gm(n.parentNode,t):n.nodeType===1&&Gm(n,t),Sd(n)):Gm(Rt,t.stateNode));break;case 4:r=Rt,s=Fr,Rt=t.stateNode.containerInfo,Fr=!0,Si(n,e,t),Rt=r,Fr=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zv(t,e,o),s=s.next}while(s!==r)}Si(n,e,t);break;case 1:if(!Ut&&(Hl(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Qe(t,e,a)}Si(n,e,t);break;case 21:Si(n,e,t);break;case 22:t.mode&1?(Ut=(r=Ut)||t.memoizedState!==null,Si(n,e,t),Ut=r):Si(n,e,t);break;default:Si(n,e,t)}}function Sx(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new CR),e.forEach(function(r){var s=DR.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function fr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rt=a.stateNode,Fr=!1;break e;case 3:Rt=a.stateNode.containerInfo,Fr=!0;break e;case 4:Rt=a.stateNode.containerInfo,Fr=!0;break e}a=a.return}if(Rt===null)throw Error(z(160));JS(i,o,s),Rt=null,Fr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Qe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZS(e,n),e=e.sibling}function ZS(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fr(e,n),Wr(n),r&4){try{hd(3,n,n.return),Yg(3,n)}catch(g){Qe(n,n.return,g)}try{hd(5,n,n.return)}catch(g){Qe(n,n.return,g)}}break;case 1:fr(e,n),Wr(n),r&512&&t!==null&&Hl(t,t.return);break;case 5:if(fr(e,n),Wr(n),r&512&&t!==null&&Hl(t,t.return),n.flags&32){var s=n.stateNode;try{bd(s,"")}catch(g){Qe(n,n.return,g)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&xE(s,i),Cv(a,o);var u=Cv(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?CE(s,h):d==="dangerouslySetInnerHTML"?SE(s,h):d==="children"?bd(s,h):Y0(s,d,h,u)}switch(a){case"input":xv(s,i);break;case"textarea":AE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Vl(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Vl(s,!!i.multiple,i.defaultValue,!0):Vl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pd]=i}catch(g){Qe(n,n.return,g)}}break;case 6:if(fr(e,n),Wr(n),r&4){if(n.stateNode===null)throw Error(z(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(g){Qe(n,n.return,g)}}break;case 3:if(fr(e,n),Wr(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Sd(e.containerInfo)}catch(g){Qe(n,n.return,g)}break;case 4:fr(e,n),Wr(n);break;case 13:fr(e,n),Wr(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(kw=Ze())),r&4&&Sx(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(Ut=(u=Ut)||d,fr(e,n),Ut=u):fr(e,n),Wr(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!d&&n.mode&1)for(Y=n,d=n.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,p=f.child,f.tag){case 0:case 11:case 14:case 15:hd(4,f,f.return);break;case 1:Hl(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){Qe(r,t,g)}}break;case 5:Hl(f,f.return);break;case 22:if(f.memoizedState!==null){Cx(h);continue}}p!==null?(p.return=f,Y=p):Cx(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_E("display",o))}catch(g){Qe(n,n.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Qe(n,n.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fr(e,n),Wr(n),r&4&&Sx(n);break;case 21:break;default:fr(e,n),Wr(n)}}function Wr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(QS(t)){var r=t;break e}t=t.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(bd(s,""),r.flags&=-33);var i=Ex(n);ny(n,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ex(n);ty(n,a,o);break;default:throw Error(z(161))}}catch(l){Qe(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function kR(n,e,t){Y=n,e_(n)}function e_(n,e,t){for(var r=(n.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Nf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=Nf;var u=Ut;if(Nf=o,(Ut=l)&&!u)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Tx(s):l!==null?(l.return=o,Y=l):Tx(s);for(;i!==null;)Y=i,e_(i),i=i.sibling;Y=s,Nf=a,Ut=u}_x(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):_x(n)}}function _x(n){for(;Y!==null;){var e=Y;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Yg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:mr(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}cx(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Sd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ut||e.flags&512&&ey(e)}catch(f){Qe(e,e.return,f)}}if(e===n){Y=null;break}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}}function Cx(n){for(;Y!==null;){var e=Y;if(e===n){Y=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Y=t;break}Y=e.return}}function Tx(n){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Yg(4,e)}catch(l){Qe(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Qe(e,s,l)}}var i=e.return;try{ey(e)}catch(l){Qe(e,i,l)}break;case 5:var o=e.return;try{ey(e)}catch(l){Qe(e,o,l)}}}catch(l){Qe(e,e.return,l)}if(e===n){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var PR=Math.ceil,ig=yi.ReactCurrentDispatcher,Cw=yi.ReactCurrentOwner,sr=yi.ReactCurrentBatchConfig,ve=0,St=null,it=null,Lt=0,Nn=0,$l=Do(0),pt=0,Nd=null,sl=0,Kg=0,Tw=0,fd=null,gn=null,kw=0,mu=1/0,ks=null,og=!1,ry=null,Ao=null,Df=!1,go=null,ag=0,pd=0,sy=null,sp=-1,ip=0;function Zt(){return ve&6?Ze():sp!==-1?sp:sp=Ze()}function Eo(n){return n.mode&1?ve&2&&Lt!==0?Lt&-Lt:hR.transition!==null?(ip===0&&(ip=jE()),ip):(n=_e,n!==0||(n=window.event,n=n===void 0?16:WE(n.type)),n):1}function jr(n,e,t,r){if(50<pd)throw pd=0,sy=null,Error(z(185));of(n,t,r),(!(ve&2)||n!==St)&&(n===St&&(!(ve&2)&&(Kg|=t),pt===4&&Ii(n,Lt)),bn(n,r),t===1&&ve===0&&!(e.mode&1)&&(mu=Ze()+500,Gg&&Oo()))}function bn(n,e){var t=n.callbackNode;hP(n,e);var r=Vp(n,n===St?Lt:0);if(r===0)t!==null&&Db(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Db(t),e===1)n.tag===0?dR(kx.bind(null,n)):uS(kx.bind(null,n)),aR(function(){!(ve&6)&&Oo()}),t=null;else{switch(zE(r)){case 1:t=ew;break;case 4:t=DE;break;case 16:t=Up;break;case 536870912:t=OE;break;default:t=Up}t=l_(t,t_.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function t_(n,e){if(sp=-1,ip=0,ve&6)throw Error(z(327));var t=n.callbackNode;if(Yl()&&n.callbackNode!==t)return null;var r=Vp(n,n===St?Lt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=lg(n,r);else{e=r;var s=ve;ve|=2;var i=r_();(St!==n||Lt!==e)&&(ks=null,mu=Ze()+500,Za(n,e));do try{MR();break}catch(a){n_(n,a)}while(!0);fw(),ig.current=i,ve=s,it!==null?e=0:(St=null,Lt=0,e=pt)}if(e!==0){if(e===2&&(s=Lv(n),s!==0&&(r=s,e=iy(n,s))),e===1)throw t=Nd,Za(n,0),Ii(n,r),bn(n,Ze()),t;if(e===6)Ii(n,r);else{if(s=n.current.alternate,!(r&30)&&!RR(s)&&(e=lg(n,r),e===2&&(i=Lv(n),i!==0&&(r=i,e=iy(n,i))),e===1))throw t=Nd,Za(n,0),Ii(n,r),bn(n,Ze()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:$o(n,gn,ks);break;case 3:if(Ii(n,r),(r&130023424)===r&&(e=kw+500-Ze(),10<e)){if(Vp(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){Zt(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=zv($o.bind(null,n,gn,ks),e);break}$o(n,gn,ks);break;case 4:if(Ii(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var o=31-Or(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PR(r/1960))-r,10<r){n.timeoutHandle=zv($o.bind(null,n,gn,ks),r);break}$o(n,gn,ks);break;case 5:$o(n,gn,ks);break;default:throw Error(z(329))}}}return bn(n,Ze()),n.callbackNode===t?t_.bind(null,n):null}function iy(n,e){var t=fd;return n.current.memoizedState.isDehydrated&&(Za(n,e).flags|=256),n=lg(n,e),n!==2&&(e=gn,gn=t,e!==null&&oy(e)),n}function oy(n){gn===null?gn=n:gn.push.apply(gn,n)}function RR(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!zr(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(n,e){for(e&=~Tw,e&=~Kg,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Or(e),r=1<<t;n[t]=-1,e&=~r}}function kx(n){if(ve&6)throw Error(z(327));Yl();var e=Vp(n,0);if(!(e&1))return bn(n,Ze()),null;var t=lg(n,e);if(n.tag!==0&&t===2){var r=Lv(n);r!==0&&(e=r,t=iy(n,r))}if(t===1)throw t=Nd,Za(n,0),Ii(n,e),bn(n,Ze()),t;if(t===6)throw Error(z(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,$o(n,gn,ks),bn(n,Ze()),null}function Pw(n,e){var t=ve;ve|=1;try{return n(e)}finally{ve=t,ve===0&&(mu=Ze()+500,Gg&&Oo())}}function il(n){go!==null&&go.tag===0&&!(ve&6)&&Yl();var e=ve;ve|=1;var t=sr.transition,r=_e;try{if(sr.transition=null,_e=1,n)return n()}finally{_e=r,sr.transition=t,ve=e,!(ve&6)&&Oo()}}function Rw(){Nn=$l.current,De($l)}function Za(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,oR(t)),it!==null)for(t=it.return;t!==null;){var r=t;switch(uw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yp();break;case 3:pu(),De(yn),De(Gt),ww();break;case 5:yw(r);break;case 4:pu();break;case 13:De(We);break;case 19:De(We);break;case 10:pw(r.type._context);break;case 22:case 23:Rw()}t=t.return}if(St=n,it=n=So(n.current,null),Lt=Nn=e,pt=0,Nd=null,Tw=Kg=sl=0,gn=fd=null,Ko!==null){for(e=0;e<Ko.length;e++)if(t=Ko[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}t.pending=r}Ko=null}return n}function n_(n,e){do{var t=it;try{if(fw(),tp.current=sg,rg){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rg=!1}if(rl=0,Et=dt=Ge=null,dd=!1,Md=0,Cw.current=null,t===null||t.return===null){pt=1,Nd=e,it=null;break}e:{var i=n,o=t.return,a=t,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gx(o);if(p!==null){p.flags&=-257,mx(p,o,a,i,e),p.mode&1&&px(i,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){px(i,u,e),Lw();break e}l=Error(z(426))}}else if(ze&&a.mode&1){var w=gx(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),mx(w,o,a,i,e),dw(gu(l,a));break e}}i=l=gu(l,a),pt!==4&&(pt=2),fd===null?fd=[i]:fd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=zS(i,l,e);lx(i,m);break e;case 1:a=l;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ao===null||!Ao.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=BS(i,a,e);lx(i,S);break e}}i=i.return}while(i!==null)}i_(t)}catch(C){e=C,it===t&&t!==null&&(it=t=t.return);continue}break}while(!0)}function r_(){var n=ig.current;return ig.current=sg,n===null?sg:n}function Lw(){(pt===0||pt===3||pt===2)&&(pt=4),St===null||!(sl&268435455)&&!(Kg&268435455)||Ii(St,Lt)}function lg(n,e){var t=ve;ve|=2;var r=r_();(St!==n||Lt!==e)&&(ks=null,Za(n,e));do try{LR();break}catch(s){n_(n,s)}while(!0);if(fw(),ve=t,ig.current=r,it!==null)throw Error(z(261));return St=null,Lt=0,pt}function LR(){for(;it!==null;)s_(it)}function MR(){for(;it!==null&&!rP();)s_(it)}function s_(n){var e=a_(n.alternate,n,Nn);n.memoizedProps=n.pendingProps,e===null?i_(n):it=e,Cw.current=null}function i_(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=_R(t,e),t!==null){t.flags&=32767,it=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{pt=6,it=null;return}}else if(t=SR(t,e,Nn),t!==null){it=t;return}if(e=e.sibling,e!==null){it=e;return}it=e=n}while(e!==null);pt===0&&(pt=5)}function $o(n,e,t){var r=_e,s=sr.transition;try{sr.transition=null,_e=1,IR(n,e,t,r)}finally{sr.transition=s,_e=r}return null}function IR(n,e,t,r){do Yl();while(go!==null);if(ve&6)throw Error(z(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(z(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(fP(n,i),n===St&&(it=St=null,Lt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Df||(Df=!0,l_(Up,function(){return Yl(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=sr.transition,sr.transition=null;var o=_e;_e=1;var a=ve;ve|=4,Cw.current=null,TR(n,t),ZS(t,n),ZP(Ov),Wp=!!Dv,Ov=Dv=null,n.current=t,kR(t),sP(),ve=a,_e=o,sr.transition=i}else n.current=t;if(Df&&(Df=!1,go=n,ag=s),i=n.pendingLanes,i===0&&(Ao=null),aP(t.stateNode),bn(n,Ze()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(og)throw og=!1,n=ry,ry=null,n;return ag&1&&n.tag!==0&&Yl(),i=n.pendingLanes,i&1?n===sy?pd++:(pd=0,sy=n):pd=0,Oo(),null}function Yl(){if(go!==null){var n=zE(ag),e=sr.transition,t=_e;try{if(sr.transition=null,_e=16>n?16:n,go===null)var r=!1;else{if(n=go,go=null,ag=0,ve&6)throw Error(z(331));var s=ve;for(ve|=4,Y=n.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:hd(8,d,i)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,p=d.return;if(KS(d),d===u){Y=null;break}if(f!==null){f.return=p,Y=f;break}Y=p}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hd(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,Y=m;break e}Y=i.return}}var y=n.current;for(Y=y;Y!==null;){o=Y;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Y=x;else e:for(o=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yg(9,a)}}catch(C){Qe(a,a.return,C)}if(a===o){Y=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Y=S;break e}Y=a.return}}if(ve=s,Oo(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Hg,n)}catch{}r=!0}return r}finally{_e=t,sr.transition=e}}return!1}function Px(n,e,t){e=gu(t,e),e=zS(n,e,1),n=xo(n,e,1),e=Zt(),n!==null&&(of(n,1,e),bn(n,e))}function Qe(n,e,t){if(n.tag===3)Px(n,n,t);else for(;e!==null;){if(e.tag===3){Px(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ao===null||!Ao.has(r))){n=gu(t,n),n=BS(e,n,1),e=xo(e,n,1),n=Zt(),e!==null&&(of(e,1,n),bn(e,n));break}}e=e.return}}function FR(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Zt(),n.pingedLanes|=n.suspendedLanes&t,St===n&&(Lt&t)===t&&(pt===4||pt===3&&(Lt&130023424)===Lt&&500>Ze()-kw?Za(n,0):Tw|=t),bn(n,e)}function o_(n,e){e===0&&(n.mode&1?(e=Cf,Cf<<=1,!(Cf&130023424)&&(Cf=4194304)):e=1);var t=Zt();n=hi(n,e),n!==null&&(of(n,e,t),bn(n,t))}function NR(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),o_(n,t)}function DR(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),o_(n,t)}var a_;a_=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||yn.current)mn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return mn=!1,ER(n,e,t);mn=!!(n.flags&131072)}else mn=!1,ze&&e.flags&1048576&&dS(e,Jp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rp(n,e),n=e.pendingProps;var s=du(e,Gt.current);ql(e,t),s=xw(null,e,r,n,s,t);var i=Aw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(i=!0,Kp(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mw(e),s.updater=qg,e.stateNode=s,s._reactInternals=e,Gv(e,r,n,t),e=Yv(null,e,r,!0,i,t)):(e.tag=0,ze&&i&&cw(e),Kt(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(rp(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=jR(r),n=mr(r,n),s){case 0:e=qv(null,e,r,n,t);break e;case 1:e=wx(null,e,r,n,t);break e;case 11:e=vx(null,e,r,n,t);break e;case 14:e=yx(null,e,r,mr(r.type,n),t);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),qv(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),wx(n,e,r,s,t);case 3:e:{if(VS(e),n===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,vS(n,e),tg(e,r,null,t);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=gu(Error(z(423)),e),e=bx(n,e,r,t,s);break e}else if(r!==s){s=gu(Error(z(424)),e),e=bx(n,e,r,t,s);break e}else for(jn=bo(e.stateNode.containerInfo.firstChild),zn=e,ze=!0,Nr=null,t=gS(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(hu(),r===s){e=fi(n,e,t);break e}Kt(n,e,r,t)}e=e.child}return e;case 5:return yS(e),n===null&&Uv(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,o=s.children,jv(r,s)?o=null:i!==null&&jv(r,i)&&(e.flags|=32),US(n,e),Kt(n,e,o,t),e.child;case 6:return n===null&&Uv(e),null;case 13:return WS(n,e,t);case 4:return vw(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=fu(e,null,r,t):Kt(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),vx(n,e,r,s,t);case 7:return Kt(n,e,e.pendingProps,t),e.child;case 8:return Kt(n,e,e.pendingProps.children,t),e.child;case 12:return Kt(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(Zp,r._currentValue),r._currentValue=o,i!==null)if(zr(i.value,o)){if(i.children===s.children&&!yn.current){e=fi(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=oi(-1,t&-t),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),Vv(i.return,t,e),a.lanes|=t;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Vv(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Kt(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ql(e,t),s=or(s),r=r(s),e.flags|=1,Kt(n,e,r,t),e.child;case 14:return r=e.type,s=mr(r,e.pendingProps),s=mr(r.type,s),yx(n,e,r,s,t);case 15:return HS(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:mr(r,s),rp(n,e),e.tag=1,wn(r)?(n=!0,Kp(e)):n=!1,ql(e,t),jS(e,r,s),Gv(e,r,s,t),Yv(null,e,r,!0,n,t);case 19:return GS(n,e,t);case 22:return $S(n,e,t)}throw Error(z(156,e.tag))};function l_(n,e){return NE(n,e)}function OR(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(n,e,t,r){return new OR(n,e,t,r)}function Mw(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jR(n){if(typeof n=="function")return Mw(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Q0)return 11;if(n===J0)return 14}return 2}function So(n,e){var t=n.alternate;return t===null?(t=rr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function op(n,e,t,r,s,i){var o=2;if(r=n,typeof n=="function")Mw(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ml:return el(t.children,s,i,e);case K0:o=8,s|=8;break;case mv:return n=rr(12,t,e,s|2),n.elementType=mv,n.lanes=i,n;case vv:return n=rr(13,t,e,s),n.elementType=vv,n.lanes=i,n;case yv:return n=rr(19,t,e,s),n.elementType=yv,n.lanes=i,n;case yE:return Qg(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case mE:o=10;break e;case vE:o=9;break e;case Q0:o=11;break e;case J0:o=14;break e;case Ri:o=16,r=null;break e}throw Error(z(130,n==null?n:typeof n,""))}return e=rr(o,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function el(n,e,t,r){return n=rr(7,n,r,e),n.lanes=t,n}function Qg(n,e,t,r){return n=rr(22,n,r,e),n.elementType=yE,n.lanes=t,n.stateNode={isHidden:!1},n}function ev(n,e,t){return n=rr(6,n,null,e),n.lanes=t,n}function tv(n,e,t){return e=rr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function zR(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Iw(n,e,t,r,s,i,o,a,l){return n=new zR(n,e,t,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=rr(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},mw(i),n}function BR(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ll,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function c_(n){if(!n)return Co;n=n._reactInternals;e:{if(pl(n)!==n||n.tag!==1)throw Error(z(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(n.tag===1){var t=n.type;if(wn(t))return cS(n,t,e)}return e}function u_(n,e,t,r,s,i,o,a,l){return n=Iw(t,r,!0,n,s,i,o,a,l),n.context=c_(null),t=n.current,r=Zt(),s=Eo(t),i=oi(r,s),i.callback=e??null,xo(t,i,s),n.current.lanes=s,of(n,s,r),bn(n,r),n}function Jg(n,e,t,r){var s=e.current,i=Zt(),o=Eo(s);return t=c_(t),e.context===null?e.context=t:e.pendingContext=t,e=oi(i,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=xo(s,e,o),n!==null&&(jr(n,s,o,i),ep(n,s,o)),o}function cg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Rx(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Fw(n,e){Rx(n,e),(n=n.alternate)&&Rx(n,e)}function HR(){return null}var d_=typeof reportError=="function"?reportError:function(n){console.error(n)};function Nw(n){this._internalRoot=n}Zg.prototype.render=Nw.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(z(409));Jg(n,e,null,null)};Zg.prototype.unmount=Nw.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;il(function(){Jg(null,n,null,null)}),e[di]=null}};function Zg(n){this._internalRoot=n}Zg.prototype.unstable_scheduleHydration=function(n){if(n){var e=$E();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Mi.length&&e!==0&&e<Mi[t].priority;t++);Mi.splice(t,0,n),t===0&&VE(n)}};function Dw(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function em(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Lx(){}function $R(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=cg(o);i.call(u)}}var o=u_(e,r,n,0,null,!1,!1,"",Lx);return n._reactRootContainer=o,n[di]=o.current,Td(n.nodeType===8?n.parentNode:n),il(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=cg(l);a.call(u)}}var l=Iw(n,0,!1,null,null,!1,!1,"",Lx);return n._reactRootContainer=l,n[di]=l.current,Td(n.nodeType===8?n.parentNode:n),il(function(){Jg(e,l,t,r)}),l}function tm(n,e,t,r,s){var i=t._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=cg(o);a.call(l)}}Jg(e,o,n,s)}else o=$R(t,e,n,s,r);return cg(o)}BE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=$u(e.pendingLanes);t!==0&&(tw(e,t|1),bn(e,Ze()),!(ve&6)&&(mu=Ze()+500,Oo()))}break;case 13:il(function(){var r=hi(n,1);if(r!==null){var s=Zt();jr(r,n,1,s)}}),Fw(n,1)}};nw=function(n){if(n.tag===13){var e=hi(n,134217728);if(e!==null){var t=Zt();jr(e,n,134217728,t)}Fw(n,134217728)}};HE=function(n){if(n.tag===13){var e=Eo(n),t=hi(n,e);if(t!==null){var r=Zt();jr(t,n,e,r)}Fw(n,e)}};$E=function(){return _e};UE=function(n,e){var t=_e;try{return _e=n,e()}finally{_e=t}};kv=function(n,e,t){switch(e){case"input":if(xv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=Wg(r);if(!s)throw Error(z(90));bE(r),xv(r,s)}}}break;case"textarea":AE(n,t);break;case"select":e=t.value,e!=null&&Vl(n,!!t.multiple,e,!1)}};PE=Pw;RE=il;var UR={usingClientEntryPoint:!1,Events:[lf,Dl,Wg,TE,kE,Pw]},Fu={findFiberByHostInstance:Yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VR={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=IE(n),n===null?null:n.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||HR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{Hg=Of.inject(VR),vs=Of}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UR;Un.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dw(e))throw Error(z(200));return BR(n,e,null,t)};Un.createRoot=function(n,e){if(!Dw(n))throw Error(z(299));var t=!1,r="",s=d_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Iw(n,1,!1,null,null,t,!1,r,s),n[di]=e.current,Td(n.nodeType===8?n.parentNode:n),new Nw(e)};Un.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(z(188)):(n=Object.keys(n).join(","),Error(z(268,n)));return n=IE(e),n=n===null?null:n.stateNode,n};Un.flushSync=function(n){return il(n)};Un.hydrate=function(n,e,t){if(!em(e))throw Error(z(200));return tm(null,n,e,!0,t)};Un.hydrateRoot=function(n,e,t){if(!Dw(n))throw Error(z(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",o=d_;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=u_(e,null,n,1,t??null,s,!1,i,o),n[di]=e.current,Td(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new Zg(e)};Un.render=function(n,e,t){if(!em(e))throw Error(z(200));return tm(null,n,e,!1,t)};Un.unmountComponentAtNode=function(n){if(!em(n))throw Error(z(40));return n._reactRootContainer?(il(function(){tm(null,null,n,!1,function(){n._reactRootContainer=null,n[di]=null})}),!0):!1};Un.unstable_batchedUpdates=Pw;Un.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!em(t))throw Error(z(200));if(n==null||n._reactInternals===void 0)throw Error(z(38));return tm(n,e,t,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function h_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h_)}catch(n){console.error(n)}}h_(),hE.exports=Un;var uf=hE.exports;const f_=$0(uf);var p_,Mx=uf;p_=Mx.createRoot,Mx.hydrateRoot;const WR=1,GR=1e6;let nv=0;function XR(){return nv=(nv+1)%Number.MAX_SAFE_INTEGER,nv.toString()}const rv=new Map,Ix=n=>{if(rv.has(n))return;const e=setTimeout(()=>{rv.delete(n),gd({type:"REMOVE_TOAST",toastId:n})},GR);rv.set(n,e)},qR=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,WR)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Ix(t):n.toasts.forEach(r=>{Ix(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ap=[];let lp={toasts:[]};function gd(n){lp=qR(lp,n),ap.forEach(e=>{e(lp)})}function YR({...n}){const e=XR(),t=s=>gd({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>gd({type:"DISMISS_TOAST",toastId:e});return gd({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function KR(){const[n,e]=_.useState(lp);return _.useEffect(()=>(ap.push(e),()=>{const t=ap.indexOf(e);t>-1&&ap.splice(t,1)}),[n]),{...n,toast:YR,dismiss:t=>gd({type:"DISMISS_TOAST",toastId:t})}}function ht(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Fx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function g_(...n){return e=>{let t=!1;const r=n.map(s=>{const i=Fx(s,e);return!t&&typeof i=="function"&&(t=!0),i});if(t)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Fx(n[s],null)}}}}function Br(...n){return _.useCallback(g_(...n),n)}function nm(n,e=[]){let t=[];function r(i,o){const a=_.createContext(o),l=t.length;t=[...t,o];const u=h=>{var m;const{scope:f,children:p,...v}=h,g=((m=f==null?void 0:f[n])==null?void 0:m[l])||a,w=_.useMemo(()=>v,Object.values(v));return P.jsx(g.Provider,{value:w,children:p})};u.displayName=i+"Provider";function d(h,f){var g;const p=((g=f==null?void 0:f[n])==null?void 0:g[l])||a,v=_.useContext(p);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=t.map(o=>_.createContext(o));return function(a){const l=(a==null?void 0:a[n])||i;return _.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return s.scopeName=n,[r,QR(s,...e)]}function QR(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(i)[`__scope${u}`];return{...a,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function ug(n){const e=ZR(n),t=_.forwardRef((r,s)=>{const{children:i,...o}=r,a=_.Children.toArray(i),l=a.find(tL);if(l){const u=l.props.children,d=a.map(h=>h===l?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return P.jsx(e,{...o,ref:s,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return P.jsx(e,{...o,ref:s,children:i})});return t.displayName=`${n}.Slot`,t}var JR=ug("Slot");function ZR(n){const e=_.forwardRef((t,r)=>{const{children:s,...i}=t;if(_.isValidElement(s)){const o=rL(s),a=nL(i,s.props);return s.type!==_.Fragment&&(a.ref=r?g_(r,o):o),_.cloneElement(s,a)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var m_=Symbol("radix.slottable");function eL(n){const e=({children:t})=>P.jsx(P.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=m_,e}function tL(n){return _.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===m_}function nL(n,e){const t={...e};for(const r in e){const s=n[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?t[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(t[r]=s):r==="style"?t[r]={...s,...i}:r==="className"&&(t[r]=[s,i].filter(Boolean).join(" "))}return{...n,...t}}function rL(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function sL(n){const e=n+"CollectionProvider",[t,r]=nm(e),[s,i]=t(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:m}=g,y=U.useRef(null),x=U.useRef(new Map).current;return P.jsx(s,{scope:w,itemMap:x,collectionRef:y,children:m})};o.displayName=e;const a=n+"CollectionSlot",l=ug(a),u=U.forwardRef((g,w)=>{const{scope:m,children:y}=g,x=i(a,m),S=Br(w,x.collectionRef);return P.jsx(l,{ref:S,children:y})});u.displayName=a;const d=n+"CollectionItemSlot",h="data-radix-collection-item",f=ug(d),p=U.forwardRef((g,w)=>{const{scope:m,children:y,...x}=g,S=U.useRef(null),C=Br(w,S),T=i(d,m);return U.useEffect(()=>(T.itemMap.set(S,{ref:S,...x}),()=>void T.itemMap.delete(S))),P.jsx(f,{[h]:"",ref:C,children:y})});p.displayName=d;function v(g){const w=i(n+"CollectionConsumer",g);return U.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((T,k)=>x.indexOf(T.ref.current)-x.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},v,r]}var iL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],An=iL.reduce((n,e)=>{const t=ug(`Primitive.${e}`),r=_.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function v_(n,e){n&&uf.flushSync(()=>n.dispatchEvent(e))}function To(n){const e=_.useRef(n);return _.useEffect(()=>{e.current=n}),_.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function oL(n,e=globalThis==null?void 0:globalThis.document){const t=To(n);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var aL="DismissableLayer",ay="dismissableLayer.update",lL="dismissableLayer.pointerDownOutside",cL="dismissableLayer.focusOutside",Nx,y_=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ow=_.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=n,u=_.useContext(y_),[d,h]=_.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=_.useState({}),v=Br(e,k=>h(k)),g=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=g.indexOf(w),y=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=m,C=dL(k=>{const R=k.target,M=[...u.branches].some(I=>I.contains(R));!S||M||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},f),T=hL(k=>{const R=k.target;[...u.branches].some(I=>I.contains(R))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},f);return oL(k=>{y===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},f),_.useEffect(()=>{if(d)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Nx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Dx(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Nx)}},[d,f,t,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Dx())},[d,u]),_.useEffect(()=>{const k=()=>p({});return document.addEventListener(ay,k),()=>document.removeEventListener(ay,k)},[]),P.jsx(An.div,{...l,ref:v,style:{pointerEvents:x?S?"auto":"none":void 0,...n.style},onFocusCapture:ht(n.onFocusCapture,T.onFocusCapture),onBlurCapture:ht(n.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ht(n.onPointerDownCapture,C.onPointerDownCapture)})});Ow.displayName=aL;var uL="DismissableLayerBranch",w_=_.forwardRef((n,e)=>{const t=_.useContext(y_),r=_.useRef(null),s=Br(e,r);return _.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),P.jsx(An.div,{...n,ref:s})});w_.displayName=uL;function dL(n,e=globalThis==null?void 0:globalThis.document){const t=To(n),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){b_(lL,t,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function hL(n,e=globalThis==null?void 0:globalThis.document){const t=To(n),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&b_(cL,t,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dx(){const n=new CustomEvent(ay);document.dispatchEvent(n)}function b_(n,e,t,{discrete:r}){const s=t.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?v_(s,i):s.dispatchEvent(i)}var fL=Ow,pL=w_,ko=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},gL="Portal",x_=_.forwardRef((n,e)=>{var a;const{container:t,...r}=n,[s,i]=_.useState(!1);ko(()=>i(!0),[]);const o=t||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?f_.createPortal(P.jsx(An.div,{...r,ref:e}),o):null});x_.displayName=gL;function mL(n,e){return _.useReducer((t,r)=>e[t][r]??t,n)}var jw=n=>{const{present:e,children:t}=n,r=vL(e),s=typeof t=="function"?t({present:r.isPresent}):_.Children.only(t),i=Br(r.ref,yL(s));return typeof t=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};jw.displayName="Presence";function vL(n){const[e,t]=_.useState(),r=_.useRef(null),s=_.useRef(n),i=_.useRef("none"),o=n?"mounted":"unmounted",[a,l]=mL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=jf(r.current);i.current=a==="mounted"?u:"none"},[a]),ko(()=>{const u=r.current,d=s.current;if(d!==n){const f=i.current,p=jf(u);n?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,l]),ko(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const g=jf(r.current).includes(p.animationName);if(p.target===e&&g&&(l("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=p=>{p.target===e&&(i.current=jf(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(u=>{r.current=u?getComputedStyle(u):null,t(u)},[])}}function jf(n){return(n==null?void 0:n.animationName)||"none"}function yL(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var wL=uE[" useInsertionEffect ".trim().toString()]||ko;function bL({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,i,o]=xL({defaultProp:e,onChange:t}),a=n!==void 0,l=a?n:s;{const d=_.useRef(n!==void 0);_.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=_.useCallback(d=>{var h;if(a){const f=AL(d)?d(n):d;f!==n&&((h=o.current)==null||h.call(o,f))}else i(d)},[a,n,i,o]);return[l,u]}function xL({defaultProp:n,onChange:e}){const[t,r]=_.useState(n),s=_.useRef(t),i=_.useRef(e);return wL(()=>{i.current=e},[e]),_.useEffect(()=>{var o;s.current!==t&&((o=i.current)==null||o.call(i,t),s.current=t)},[t,s]),[t,r,i]}function AL(n){return typeof n=="function"}var EL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SL="VisuallyHidden",rm=_.forwardRef((n,e)=>P.jsx(An.span,{...n,ref:e,style:{...EL,...n.style}}));rm.displayName=SL;var _L=rm,zw="ToastProvider",[Bw,CL,TL]=sL("Toast"),[A_,Gj]=nm("Toast",[TL]),[kL,sm]=A_(zw),E_=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=n,[a,l]=_.useState(null),[u,d]=_.useState(0),h=_.useRef(!1),f=_.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${zw}\`. Expected non-empty \`string\`.`),P.jsx(Bw.Provider,{scope:e,children:P.jsx(kL,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:_.useCallback(()=>d(p=>p+1),[]),onToastRemove:_.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};E_.displayName=zw;var S_="ToastViewport",PL=["F8"],ly="toast.viewportPause",cy="toast.viewportResume",__=_.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=PL,label:s="Notifications ({hotkey})",...i}=n,o=sm(S_,t),a=CL(t),l=_.useRef(null),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=Br(e,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;_.useEffect(()=>{const w=m=>{var x;r.length!==0&&r.every(S=>m[S]||m.code===S)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),_.useEffect(()=>{const w=l.current,m=h.current;if(v&&w&&m){const y=()=>{if(!o.isClosePausedRef.current){const T=new CustomEvent(ly);m.dispatchEvent(T),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const T=new CustomEvent(cy);m.dispatchEvent(T),o.isClosePausedRef.current=!1}},S=T=>{!w.contains(T.relatedTarget)&&x()},C=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",y),w.addEventListener("focusout",S),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",S),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[v,o.isClosePausedRef]);const g=_.useCallback(({tabbingDirection:w})=>{const y=a().map(x=>{const S=x.ref.current,C=[S,...$L(S)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?y.reverse():y).flat()},[a]);return _.useEffect(()=>{const w=h.current;if(w){const m=y=>{var C,T,k;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const R=document.activeElement,M=y.shiftKey;if(y.target===w&&M){(C=u.current)==null||C.focus();return}const j=g({tabbingDirection:M?"backwards":"forwards"}),H=j.findIndex(F=>F===R);sv(j.slice(H+1))?y.preventDefault():M?(T=u.current)==null||T.focus():(k=d.current)==null||k.focus()}};return w.addEventListener("keydown",m),()=>w.removeEventListener("keydown",m)}},[a,g]),P.jsxs(pL,{ref:l,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&P.jsx(uy,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});sv(w)}}),P.jsx(Bw.Slot,{scope:t,children:P.jsx(An.ol,{tabIndex:-1,...i,ref:f})}),v&&P.jsx(uy,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});sv(w)}})]})});__.displayName=S_;var C_="ToastFocusProxy",uy=_.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,i=sm(C_,t);return P.jsx(rm,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});uy.displayName=C_;var df="Toast",RL="toast.swipeStart",LL="toast.swipeMove",ML="toast.swipeCancel",IL="toast.swipeEnd",T_=_.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:i,...o}=n,[a,l]=bL({prop:r,defaultProp:s??!0,onChange:i,caller:df});return P.jsx(jw,{present:t||a,children:P.jsx(DL,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:To(n.onPause),onResume:To(n.onResume),onSwipeStart:ht(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ht(n.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ht(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ht(n.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});T_.displayName=df;var[FL,NL]=A_(df,{onClose(){}}),DL=_.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...v}=n,g=sm(df,t),[w,m]=_.useState(null),y=Br(e,F=>m(F)),x=_.useRef(null),S=_.useRef(null),C=s||g.duration,T=_.useRef(0),k=_.useRef(C),R=_.useRef(0),{onToastAdd:M,onToastRemove:I}=g,D=To(()=>{var W;(w==null?void 0:w.contains(document.activeElement))&&((W=g.viewport)==null||W.focus()),o()}),j=_.useCallback(F=>{!F||F===1/0||(window.clearTimeout(R.current),T.current=new Date().getTime(),R.current=window.setTimeout(D,F))},[D]);_.useEffect(()=>{const F=g.viewport;if(F){const W=()=>{j(k.current),u==null||u()},B=()=>{const O=new Date().getTime()-T.current;k.current=k.current-O,window.clearTimeout(R.current),l==null||l()};return F.addEventListener(ly,B),F.addEventListener(cy,W),()=>{F.removeEventListener(ly,B),F.removeEventListener(cy,W)}}},[g.viewport,C,l,u,j]),_.useEffect(()=>{i&&!g.isClosePausedRef.current&&j(C)},[i,C,g.isClosePausedRef,j]),_.useEffect(()=>(M(),()=>I()),[M,I]);const H=_.useMemo(()=>w?F_(w):null,[w]);return g.viewport?P.jsxs(P.Fragment,{children:[H&&P.jsx(OL,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),P.jsx(FL,{scope:t,onClose:D,children:uf.createPortal(P.jsx(Bw.ItemSlot,{scope:t,children:P.jsx(fL,{asChild:!0,onEscapeKeyDown:ht(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||D(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:P.jsx(An.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:ht(n.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ht(n.onPointerDown,F=>{F.button===0&&(x.current={x:F.clientX,y:F.clientY})}),onPointerMove:ht(n.onPointerMove,F=>{if(!x.current)return;const W=F.clientX-x.current.x,B=F.clientY-x.current.y,O=!!S.current,L=["left","right"].includes(g.swipeDirection),N=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,$=L?N(0,W):0,J=L?0:N(0,B),X=F.pointerType==="touch"?10:2,K={x:$,y:J},te={originalEvent:F,delta:K};O?(S.current=K,zf(LL,h,te,{discrete:!1})):Ox(K,g.swipeDirection,X)?(S.current=K,zf(RL,d,te,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(W)>X||Math.abs(B)>X)&&(x.current=null)}),onPointerUp:ht(n.onPointerUp,F=>{const W=S.current,B=F.target;if(B.hasPointerCapture(F.pointerId)&&B.releasePointerCapture(F.pointerId),S.current=null,x.current=null,W){const O=F.currentTarget,L={originalEvent:F,delta:W};Ox(W,g.swipeDirection,g.swipeThreshold)?zf(IL,p,L,{discrete:!0}):zf(ML,f,L,{discrete:!0}),O.addEventListener("click",N=>N.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),OL=n=>{const{__scopeToast:e,children:t,...r}=n,s=sm(df,e),[i,o]=_.useState(!1),[a,l]=_.useState(!1);return BL(()=>o(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:P.jsx(x_,{asChild:!0,children:P.jsx(rm,{...r,children:i&&P.jsxs(P.Fragment,{children:[s.label," ",t]})})})},jL="ToastTitle",k_=_.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return P.jsx(An.div,{...r,ref:e})});k_.displayName=jL;var zL="ToastDescription",P_=_.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return P.jsx(An.div,{...r,ref:e})});P_.displayName=zL;var R_="ToastAction",L_=_.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?P.jsx(I_,{altText:t,asChild:!0,children:P.jsx(Hw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${R_}\`. Expected non-empty \`string\`.`),null)});L_.displayName=R_;var M_="ToastClose",Hw=_.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=NL(M_,t);return P.jsx(I_,{asChild:!0,children:P.jsx(An.button,{type:"button",...r,ref:e,onClick:ht(n.onClick,s.onClose)})})});Hw.displayName=M_;var I_=_.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return P.jsx(An.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function F_(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),HL(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...F_(r))}}),e}function zf(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?v_(s,i):s.dispatchEvent(i)}var Ox=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),i=r>s;return e==="left"||e==="right"?i&&r>t:!i&&s>t};function BL(n=()=>{}){const e=To(n);ko(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function HL(n){return n.nodeType===n.ELEMENT_NODE}function $L(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function sv(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var UL=E_,N_=__,D_=T_,O_=k_,j_=P_,z_=L_,B_=Hw;function H_(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=H_(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Eu(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=H_(n))&&(r&&(r+=" "),r+=e);return r}const jx=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,zx=Eu,$_=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return zx(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=t==null?void 0:t[u],h=i==null?void 0:i[u];if(d===null)return null;const f=jx(d)||jx(h);return s[u][f]}),a=t&&Object.entries(t).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(v=>{let[g,w]=v;return Array.isArray(w)?w.includes({...i,...a}[g]):{...i,...a}[g]===w})?[...u,h,f]:u},[]);return zx(n,o,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U_=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=_.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>_.createElement("svg",{ref:l,...WL,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:U_("lucide",s),...a},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=(n,e)=>{const t=_.forwardRef(({className:r,...s},i)=>_.createElement(GL,{ref:i,iconNode:e,className:U_(`lucide-${VL(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=hf("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=hf("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=hf("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=hf("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=hf("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$w="-",QL=n=>{const e=ZL(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:o=>{const a=o.split($w);return a[0]===""&&a.length!==1&&a.shift(),V_(a,e)||JL(o)},getConflictingClassGroupIds:(o,a)=>{const l=t[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},V_=(n,e)=>{var o;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?V_(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=n.join($w);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Hx=/^\[(.+)\]$/,JL=n=>{if(Hx.test(n)){const e=Hx.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},ZL=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return tM(Object.entries(n.classGroups),t).forEach(([i,o])=>{dy(o,r,i,e)}),r},dy=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const i=s===""?e:$x(e,s);i.classGroupId=t;return}if(typeof s=="function"){if(eM(s)){dy(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([i,o])=>{dy(o,$x(e,i),t,r)})})},$x=(n,e)=>{let t=n;return e.split($w).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},eM=n=>n.isThemeGetter,tM=(n,e)=>e?n.map(([t,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[t,s]}):n,nM=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(i,o)=>{t.set(i,o),e++,e>n&&(e=0,r=t,t=new Map)};return{get(i){let o=t.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){t.has(i)?t.set(i,o):s(i,o)}}},W_="!",rM=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,d=0,h;for(let w=0;w<a.length;w++){let m=a[w];if(u===0){if(m===s&&(r||a.slice(w,w+i)===e)){l.push(a.slice(d,w)),d=w+i;continue}if(m==="/"){h=w;continue}}m==="["?u++:m==="]"&&u--}const f=l.length===0?a:a.substring(d),p=f.startsWith(W_),v=p?f.substring(1):f,g=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return t?a=>t({className:a,parseClassName:o}):o},sM=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},iM=n=>({cache:nM(n.cacheSize),parseClassName:rM(n),...QL(n)}),oM=/\s+/,aM=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=n.trim().split(oM);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let v=!!p,g=r(v?f.substring(0,p):f);if(!g){if(!v){a=u+(a.length>0?" "+a:a);continue}if(g=r(f),!g){a=u+(a.length>0?" "+a:a);continue}v=!1}const w=sM(d).join(":"),m=h?w+W_:w,y=m+g;if(i.includes(y))continue;i.push(y);const x=s(g,v);for(let S=0;S<x.length;++S){const C=x[S];i.push(m+C)}a=u+(a.length>0?" "+a:a)}return a};function lM(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=G_(e))&&(r&&(r+=" "),r+=t);return r}const G_=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=G_(n[r]))&&(t&&(t+=" "),t+=e);return t};function cM(n,...e){let t,r,s,i=o;function o(l){const u=e.reduce((d,h)=>h(d),n());return t=iM(u),r=t.cache.get,s=t.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=aM(l,t);return s(l,d),d}return function(){return i(lM.apply(null,arguments))}}const Ie=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},X_=/^\[(?:([a-z-]+):)?(.+)\]$/i,uM=/^\d+\/\d+$/,dM=new Set(["px","full","screen"]),hM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Es=n=>Kl(n)||dM.has(n)||uM.test(n),_i=n=>Su(n,"length",SM),Kl=n=>!!n&&!Number.isNaN(Number(n)),iv=n=>Su(n,"number",Kl),Nu=n=>!!n&&Number.isInteger(Number(n)),vM=n=>n.endsWith("%")&&Kl(n.slice(0,-1)),ae=n=>X_.test(n),Ci=n=>hM.test(n),yM=new Set(["length","size","percentage"]),wM=n=>Su(n,yM,q_),bM=n=>Su(n,"position",q_),xM=new Set(["image","url"]),AM=n=>Su(n,xM,CM),EM=n=>Su(n,"",_M),Du=()=>!0,Su=(n,e,t)=>{const r=X_.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},SM=n=>fM.test(n)&&!pM.test(n),q_=()=>!1,_M=n=>gM.test(n),CM=n=>mM.test(n),TM=()=>{const n=Ie("colors"),e=Ie("spacing"),t=Ie("blur"),r=Ie("brightness"),s=Ie("borderColor"),i=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),u=Ie("grayscale"),d=Ie("hueRotate"),h=Ie("invert"),f=Ie("gap"),p=Ie("gradientColorStops"),v=Ie("gradientColorStopPositions"),g=Ie("inset"),w=Ie("margin"),m=Ie("opacity"),y=Ie("padding"),x=Ie("saturate"),S=Ie("scale"),C=Ie("sepia"),T=Ie("skew"),k=Ie("space"),R=Ie("translate"),M=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ae,e],j=()=>[ae,e],H=()=>["",Es,_i],F=()=>["auto",Kl,ae],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",ae],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Kl,ae];return{cacheSize:500,separator:":",theme:{colors:[Du],spacing:[Es,_i],blur:["none","",Ci,ae],brightness:J(),borderColor:[n],borderRadius:["none","","full",Ci,ae],borderSpacing:j(),borderWidth:H(),contrast:J(),grayscale:N(),hueRotate:J(),invert:N(),gap:j(),gradientColorStops:[n],gradientColorStopPositions:[vM,_i],inset:D(),margin:D(),opacity:J(),padding:j(),saturate:J(),scale:J(),sepia:N(),skew:J(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[Ci]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),ae]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nu,ae]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Nu,ae]}],"grid-cols":[{"grid-cols":[Du]}],"col-start-end":[{col:["auto",{span:["full",Nu,ae]},ae]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Du]}],"row-start-end":[{row:["auto",{span:[Nu,ae]},ae]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,e]}],"min-w":[{"min-w":[ae,e,"min","max","fit"]}],"max-w":[{"max-w":[ae,e,"none","full","min","max","fit","prose",{screen:[Ci]},Ci]}],h:[{h:[ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ci,_i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",iv]}],"font-family":[{font:[Du]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",Kl,iv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Es,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Es,_i]}],"underline-offset":[{"underline-offset":["auto",Es,ae]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),bM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},AM]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Es,ae]}],"outline-w":[{outline:[Es,_i]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Es,_i]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Ci,EM]}],"shadow-color":[{shadow:[Du]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ci,ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Nu,ae]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Es,_i,iv]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kM=cM(TM);function En(...n){return kM(Eu(n))}const PM=UL,Y_=_.forwardRef(({className:n,...e},t)=>P.jsx(N_,{ref:t,className:En("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));Y_.displayName=N_.displayName;const RM=$_("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),K_=_.forwardRef(({className:n,variant:e,...t},r)=>P.jsx(D_,{ref:r,className:En(RM({variant:e}),n),...t}));K_.displayName=D_.displayName;const LM=_.forwardRef(({className:n,...e},t)=>P.jsx(z_,{ref:t,className:En("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));LM.displayName=z_.displayName;const Q_=_.forwardRef(({className:n,...e},t)=>P.jsx(B_,{ref:t,className:En("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:P.jsx(KL,{className:"h-4 w-4"})}));Q_.displayName=B_.displayName;const J_=_.forwardRef(({className:n,...e},t)=>P.jsx(O_,{ref:t,className:En("text-sm font-semibold",n),...e}));J_.displayName=O_.displayName;const Z_=_.forwardRef(({className:n,...e},t)=>P.jsx(j_,{ref:t,className:En("text-sm opacity-90",n),...e}));Z_.displayName=j_.displayName;function MM(){const{toasts:n}=KR();return P.jsxs(PM,{children:[n.map(function({id:e,title:t,description:r,action:s,...i}){return P.jsxs(K_,{...i,children:[P.jsxs("div",{className:"grid gap-1",children:[t&&P.jsx(J_,{children:t}),r&&P.jsx(Z_,{children:r})]}),s,P.jsx(Q_,{})]},e)}),P.jsx(Y_,{})]})}var Ux=["light","dark"],IM="(prefers-color-scheme: dark)",FM=_.createContext(void 0),NM={setTheme:n=>{},themes:[]},DM=()=>{var n;return(n=_.useContext(FM))!=null?n:NM};_.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",d=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,h=s?Ux.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,g=!1,w=!0)=>{let m=o?o[v]:v,y=g?v+"|| ''":`'${m}'`,x="";return s&&w&&!g&&Ux.includes(v)&&(x+=`d.style.colorScheme = '${v}';`),t==="class"?g||m?x+=`c.add(${y})`:x+="null":m&&(x+=`d[s](n,${y})`),x},p=n?`!function(){${d}${f(n)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${IM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return _.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var OM=n=>{switch(n){case"success":return BM;case"info":return $M;case"warning":return HM;case"error":return UM;default:return null}},jM=Array(12).fill(0),zM=({visible:n,className:e})=>U.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},U.createElement("div",{className:"sonner-spinner"},jM.map((t,r)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),BM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),HM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$M=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),UM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VM=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),WM=()=>{let[n,e]=U.useState(document.hidden);return U.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},hy=1,GM=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,s=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:hy++,i=this.toasts.find(a=>a.id===s),o=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...n,id:s,title:t}),{...a,...n,id:s,dismissible:o,title:t}):a):this.addToast({title:t,...r,dismissible:o,id:s}),s},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),s=t!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],U.isValidElement(l))s=!1,this.create({id:t,type:"default",message:l});else if(qM(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:t,type:"error",message:u,description:d})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"success",message:u,description:d})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,d=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(t),t=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof t!="string"&&typeof t!="number"?{unwrap:a}:Object.assign(t,{unwrap:a})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||hy++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},fn=new GM,XM=(n,e)=>{let t=(e==null?void 0:e.id)||hy++;return fn.addToast({title:n,...e,id:t}),t},qM=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",YM=XM,KM=()=>fn.toasts,QM=()=>fn.getActiveToasts();Object.assign(YM,{success:fn.success,info:fn.info,warning:fn.warning,error:fn.error,custom:fn.custom,message:fn.message,promise:fn.promise,dismiss:fn.dismiss,loading:fn.loading},{getHistory:KM,getToasts:QM});function JM(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}JM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bf(n){return n.label!==void 0}var ZM=3,eI="32px",tI="16px",Vx=4e3,nI=356,rI=14,sI=20,iI=200;function pr(...n){return n.filter(Boolean).join(" ")}function oI(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var aI=n=>{var e,t,r,s,i,o,a,l,u,d,h;let{invert:f,toast:p,unstyled:v,interacting:g,setHeights:w,visibleToasts:m,heights:y,index:x,toasts:S,expanded:C,removeToast:T,defaultRichColors:k,closeButton:R,style:M,cancelButtonStyle:I,actionButtonStyle:D,className:j="",descriptionClassName:H="",duration:F,position:W,gap:B,loadingIcon:O,expandByDefault:L,classNames:N,icons:$,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:X}=n,[K,te]=U.useState(null),[ye,de]=U.useState(null),[Q,_t]=U.useState(!1),[tt,we]=U.useState(!1),[on,Wn]=U.useState(!1),[ge,Me]=U.useState(!1),[nt,Be]=U.useState(!1),[Ur,cr]=U.useState(0),[wi,wf]=U.useState(0),Vr=U.useRef(p.duration||F||Vx),bf=U.useRef(null),As=U.useRef(null),_m=x===0,Cm=x+1<=m,an=p.type,Sn=p.dismissible!==!1,yl=p.className||"",wl=p.descriptionClassName||"",bi=U.useMemo(()=>y.findIndex(ie=>ie.toastId===p.id)||0,[y,p.id]),hk=U.useMemo(()=>{var ie;return(ie=p.closeButton)!=null?ie:R},[p.closeButton,R]),wb=U.useMemo(()=>p.duration||F||Vx,[p.duration,F]),Tm=U.useRef(0),bl=U.useRef(0),bb=U.useRef(0),xl=U.useRef(null),[fk,pk]=W.split("-"),xb=U.useMemo(()=>y.reduce((ie,Ce,Oe)=>Oe>=bi?ie:ie+Ce.height,0),[y,bi]),Ab=WM(),gk=p.invert||f,km=an==="loading";bl.current=U.useMemo(()=>bi*B+xb,[bi,xb]),U.useEffect(()=>{Vr.current=wb},[wb]),U.useEffect(()=>{_t(!0)},[]),U.useEffect(()=>{let ie=As.current;if(ie){let Ce=ie.getBoundingClientRect().height;return wf(Ce),w(Oe=>[{toastId:p.id,height:Ce,position:p.position},...Oe]),()=>w(Oe=>Oe.filter(ur=>ur.toastId!==p.id))}},[w,p.id]),U.useLayoutEffect(()=>{if(!Q)return;let ie=As.current,Ce=ie.style.height;ie.style.height="auto";let Oe=ie.getBoundingClientRect().height;ie.style.height=Ce,wf(Oe),w(ur=>ur.find(dr=>dr.toastId===p.id)?ur.map(dr=>dr.toastId===p.id?{...dr,height:Oe}:dr):[{toastId:p.id,height:Oe,position:p.position},...ur])},[Q,p.title,p.description,w,p.id]);let xi=U.useCallback(()=>{we(!0),cr(bl.current),w(ie=>ie.filter(Ce=>Ce.toastId!==p.id)),setTimeout(()=>{T(p)},iI)},[p,T,w,bl]);U.useEffect(()=>{if(p.promise&&an==="loading"||p.duration===1/0||p.type==="loading")return;let ie;return C||g||X&&Ab?(()=>{if(bb.current<Tm.current){let Ce=new Date().getTime()-Tm.current;Vr.current=Vr.current-Ce}bb.current=new Date().getTime()})():Vr.current!==1/0&&(Tm.current=new Date().getTime(),ie=setTimeout(()=>{var Ce;(Ce=p.onAutoClose)==null||Ce.call(p,p),xi()},Vr.current)),()=>clearTimeout(ie)},[C,g,p,an,X,Ab,xi]),U.useEffect(()=>{p.delete&&xi()},[xi,p.delete]);function mk(){var ie,Ce,Oe;return $!=null&&$.loading?U.createElement("div",{className:pr(N==null?void 0:N.loader,(ie=p==null?void 0:p.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":an==="loading"},$.loading):O?U.createElement("div",{className:pr(N==null?void 0:N.loader,(Ce=p==null?void 0:p.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":an==="loading"},O):U.createElement(zM,{className:pr(N==null?void 0:N.loader,(Oe=p==null?void 0:p.classNames)==null?void 0:Oe.loader),visible:an==="loading"})}return U.createElement("li",{tabIndex:0,ref:As,className:pr(j,yl,N==null?void 0:N.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,N==null?void 0:N.default,N==null?void 0:N[an],(t=p==null?void 0:p.classNames)==null?void 0:t[an]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:k,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":nt,"data-removed":tt,"data-visible":Cm,"data-y-position":fk,"data-x-position":pk,"data-index":x,"data-front":_m,"data-swiping":on,"data-dismissible":Sn,"data-type":an,"data-invert":gk,"data-swipe-out":ge,"data-swipe-direction":ye,"data-expanded":!!(C||L&&Q),style:{"--index":x,"--toasts-before":x,"--z-index":S.length-x,"--offset":`${tt?Ur:bl.current}px`,"--initial-height":L?"auto":`${wi}px`,...M,...p.style},onDragEnd:()=>{Wn(!1),te(null),xl.current=null},onPointerDown:ie=>{km||!Sn||(bf.current=new Date,cr(bl.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(Wn(!0),xl.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Ce,Oe,ur;if(ge||!Sn)return;xl.current=null;let dr=Number(((ie=As.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ai=Number(((Ce=As.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zo=new Date().getTime()-((Oe=bf.current)==null?void 0:Oe.getTime()),hr=K==="x"?dr:Ai,Ei=Math.abs(hr)/zo;if(Math.abs(hr)>=sI||Ei>.11){cr(bl.current),(ur=p.onDismiss)==null||ur.call(p,p),de(K==="x"?dr>0?"right":"left":Ai>0?"down":"up"),xi(),Me(!0),Be(!1);return}Wn(!1),te(null)},onPointerMove:ie=>{var Ce,Oe,ur,dr;if(!xl.current||!Sn||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let Ai=ie.clientY-xl.current.y,zo=ie.clientX-xl.current.x,hr=(Oe=n.swipeDirections)!=null?Oe:oI(W);!K&&(Math.abs(zo)>1||Math.abs(Ai)>1)&&te(Math.abs(zo)>Math.abs(Ai)?"x":"y");let Ei={x:0,y:0};K==="y"?(hr.includes("top")||hr.includes("bottom"))&&(hr.includes("top")&&Ai<0||hr.includes("bottom")&&Ai>0)&&(Ei.y=Ai):K==="x"&&(hr.includes("left")||hr.includes("right"))&&(hr.includes("left")&&zo<0||hr.includes("right")&&zo>0)&&(Ei.x=zo),(Math.abs(Ei.x)>0||Math.abs(Ei.y)>0)&&Be(!0),(ur=As.current)==null||ur.style.setProperty("--swipe-amount-x",`${Ei.x}px`),(dr=As.current)==null||dr.style.setProperty("--swipe-amount-y",`${Ei.y}px`)}},hk&&!p.jsx?U.createElement("button",{"aria-label":J,"data-disabled":km,"data-close-button":!0,onClick:km||!Sn?()=>{}:()=>{var ie;xi(),(ie=p.onDismiss)==null||ie.call(p,p)},className:pr(N==null?void 0:N.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=$==null?void 0:$.close)!=null?i:VM):null,p.jsx||_.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:U.createElement(U.Fragment,null,an||p.icon||p.promise?U.createElement("div",{"data-icon":"",className:pr(N==null?void 0:N.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||mk():null,p.type!=="loading"?p.icon||($==null?void 0:$[an])||OM(an):null):null,U.createElement("div",{"data-content":"",className:pr(N==null?void 0:N.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},U.createElement("div",{"data-title":"",className:pr(N==null?void 0:N.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?U.createElement("div",{"data-description":"",className:pr(H,wl,N==null?void 0:N.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),_.isValidElement(p.cancel)?p.cancel:p.cancel&&Bf(p.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||I,onClick:ie=>{var Ce,Oe;Bf(p.cancel)&&Sn&&((Oe=(Ce=p.cancel).onClick)==null||Oe.call(Ce,ie),xi())},className:pr(N==null?void 0:N.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,_.isValidElement(p.action)?p.action:p.action&&Bf(p.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||D,onClick:ie=>{var Ce,Oe;Bf(p.action)&&((Oe=(Ce=p.action).onClick)==null||Oe.call(Ce,ie),!ie.defaultPrevented&&xi())},className:pr(N==null?void 0:N.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function Wx(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function lI(n,e){let t={};return[n,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?tI:eI;function l(u){["top","right","bottom","left"].forEach(d=>{t[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?t[`${o}-${u}`]=a:t[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),t}var cI=_.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:v=ZM,toastOptions:g,dir:w=Wx(),gap:m=rI,loadingIcon:y,icons:x,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:C}=n,[T,k]=U.useState([]),R=U.useMemo(()=>Array.from(new Set([r].concat(T.filter(X=>X.position).map(X=>X.position)))),[T,r]),[M,I]=U.useState([]),[D,j]=U.useState(!1),[H,F]=U.useState(!1),[W,B]=U.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=U.useRef(null),L=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=U.useRef(null),$=U.useRef(!1),J=U.useCallback(X=>{k(K=>{var te;return(te=K.find(ye=>ye.id===X.id))!=null&&te.delete||fn.dismiss(X.id),K.filter(({id:ye})=>ye!==X.id)})},[]);return U.useEffect(()=>fn.subscribe(X=>{if(X.dismiss){k(K=>K.map(te=>te.id===X.id?{...te,delete:!0}:te));return}setTimeout(()=>{f_.flushSync(()=>{k(K=>{let te=K.findIndex(ye=>ye.id===X.id);return te!==-1?[...K.slice(0,te),{...K[te],...X},...K.slice(te+1)]:[X,...K]})})})}),[]),U.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:K})=>{B(K?"dark":"light")})}catch{X.addListener(({matches:te})=>{try{B(te?"dark":"light")}catch(ye){console.error(ye)}})}},[d]),U.useEffect(()=>{T.length<=1&&j(!1)},[T]),U.useEffect(()=>{let X=K=>{var te,ye;s.every(de=>K[de]||K.code===de)&&(j(!0),(te=O.current)==null||te.focus()),K.code==="Escape"&&(document.activeElement===O.current||(ye=O.current)!=null&&ye.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),U.useEffect(()=>{if(O.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,$.current=!1)}},[O.current]),U.createElement("section",{ref:e,"aria-label":`${S} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((X,K)=>{var te;let[ye,de]=X.split("-");return T.length?U.createElement("ol",{key:X,dir:w==="auto"?Wx():w,tabIndex:-1,ref:O,className:a,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":ye,"data-lifted":D&&T.length>1&&!i,"data-x-position":de,style:{"--front-toast-height":`${((te=M[0])==null?void 0:te.height)||0}px`,"--width":`${nI}px`,"--gap":`${m}px`,...p,...lI(l,u)},onBlur:Q=>{$.current&&!Q.currentTarget.contains(Q.relatedTarget)&&($.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||$.current||($.current=!0,N.current=Q.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{H||j(!1)},onDragEnd:()=>j(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},T.filter(Q=>!Q.position&&K===0||Q.position===X).map((Q,_t)=>{var tt,we;return U.createElement(aI,{key:Q.id,icons:x,index:_t,toast:Q,defaultRichColors:h,duration:(tt=g==null?void 0:g.duration)!=null?tt:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:v,closeButton:(we=g==null?void 0:g.closeButton)!=null?we:o,interacting:H,position:X,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:J,toasts:T.filter(on=>on.position==Q.position),heights:M.filter(on=>on.position==Q.position),setHeights:I,expandByDefault:i,gap:m,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:C,swipeDirections:n.swipeDirections})})):null}))});const uI=({...n})=>{const{theme:e="system"}=DM();return P.jsx(cI,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})},dI=["top","right","bottom","left"],Po=Math.min,Dn=Math.max,dg=Math.round,Hf=Math.floor,ws=n=>({x:n,y:n}),hI={left:"right",right:"left",bottom:"top",top:"bottom"},fI={start:"end",end:"start"};function fy(n,e,t){return Dn(n,Po(e,t))}function pi(n,e){return typeof n=="function"?n(e):n}function gi(n){return n.split("-")[0]}function _u(n){return n.split("-")[1]}function Uw(n){return n==="x"?"y":"x"}function Vw(n){return n==="y"?"height":"width"}function ms(n){return["top","bottom"].includes(gi(n))?"y":"x"}function Ww(n){return Uw(ms(n))}function pI(n,e,t){t===void 0&&(t=!1);const r=_u(n),s=Ww(n),i=Vw(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=hg(o)),[o,hg(o)]}function gI(n){const e=hg(n);return[py(n),e,py(e)]}function py(n){return n.replace(/start|end/g,e=>fI[e])}function mI(n,e,t){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function vI(n,e,t,r){const s=_u(n);let i=mI(gi(n),t==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(py)))),i}function hg(n){return n.replace(/left|right|bottom|top/g,e=>hI[e])}function yI(n){return{top:0,right:0,bottom:0,left:0,...n}}function e1(n){return typeof n!="number"?yI(n):{top:n,right:n,bottom:n,left:n}}function fg(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Gx(n,e,t){let{reference:r,floating:s}=n;const i=ms(e),o=Ww(e),a=Vw(o),l=gi(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(_u(e)){case"start":p[o]-=f*(t&&u?-1:1);break;case"end":p[o]+=f*(t&&u?-1:1);break}return p}const wI=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=t,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:s}),{x:d,y:h}=Gx(u,r,l),f=r,p={},v=0;for(let g=0;g<a.length;g++){const{name:w,fn:m}=a[g],{x:y,y:x,data:S,reset:C}=await m({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:n,floating:e}});d=y??d,h=x??h,p={...p,[w]:{...p[w],...S}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:s}):C.rects),{x:d,y:h}=Gx(u,f,l)),g=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function Dd(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=pi(e,n),v=e1(p),w=a[f?h==="floating"?"reference":"floating":h],m=fg(await i.getClippingRect({element:(t=await(i.isElement==null?void 0:i.isElement(w)))==null||t?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},C=fg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(m.top-C.top+v.top)/S.y,bottom:(C.bottom-m.bottom+v.bottom)/S.y,left:(m.left-C.left+v.left)/S.x,right:(C.right-m.right+v.right)/S.x}}const bI=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=pi(n,e)||{};if(u==null)return{};const h=e1(d),f={x:t,y:r},p=Ww(s),v=Vw(p),g=await o.getDimensions(u),w=p==="y",m=w?"top":"left",y=w?"bottom":"right",x=w?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[p]-f[p]-i.floating[v],C=f[p]-i.reference[p],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=T?T[x]:0;(!k||!await(o.isElement==null?void 0:o.isElement(T)))&&(k=a.floating[x]||i.floating[v]);const R=S/2-C/2,M=k/2-g[v]/2-1,I=Po(h[m],M),D=Po(h[y],M),j=I,H=k-g[v]-D,F=k/2-g[v]/2+R,W=fy(j,F,H),B=!l.arrow&&_u(s)!=null&&F!==W&&i.reference[v]/2-(F<j?I:D)-g[v]/2<0,O=B?F<j?F-j:F-H:0;return{[p]:f[p]+O,data:{[p]:W,centerOffset:F-W-O,...B&&{alignmentOffset:O}},reset:B}}}),xI=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...w}=pi(n,e);if((t=i.arrow)!=null&&t.alignmentOffset)return{};const m=gi(s),y=ms(a),x=gi(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),C=f||(x||!g?[hg(a)]:gI(a)),T=v!=="none";!f&&T&&C.push(...vI(a,g,v,S));const k=[a,...C],R=await Dd(e,w),M=[];let I=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&M.push(R[m]),h){const F=pI(s,o,S);M.push(R[F[0]],R[F[1]])}if(I=[...I,{placement:s,overflows:M}],!M.every(F=>F<=0)){var D,j;const F=(((D=i.flip)==null?void 0:D.index)||0)+1,W=k[F];if(W&&(!(h==="alignment"?y!==ms(W):!1)||I.every(L=>L.overflows[0]>0&&ms(L.placement)===y)))return{data:{index:F,overflows:I},reset:{placement:W}};let B=(j=I.filter(O=>O.overflows[0]<=0).sort((O,L)=>O.overflows[1]-L.overflows[1])[0])==null?void 0:j.placement;if(!B)switch(p){case"bestFit":{var H;const O=(H=I.filter(L=>{if(T){const N=ms(L.placement);return N===y||N==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(N=>N>0).reduce((N,$)=>N+$,0)]).sort((L,N)=>L[1]-N[1])[0])==null?void 0:H[0];O&&(B=O);break}case"initialPlacement":B=a;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function Xx(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function qx(n){return dI.some(e=>n[e]>=0)}const AI=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=pi(n,e);switch(r){case"referenceHidden":{const i=await Dd(e,{...s,elementContext:"reference"}),o=Xx(i,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qx(o)}}}case"escaped":{const i=await Dd(e,{...s,altBoundary:!0}),o=Xx(i,t.floating);return{data:{escapedOffsets:o,escaped:qx(o)}}}default:return{}}}}};async function EI(n,e){const{placement:t,platform:r,elements:s}=n,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=gi(t),a=_u(t),l=ms(t)==="y",u=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,h=pi(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const SI=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await EI(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},_I=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:m,y}=w;return{x:m,y}}},...l}=pi(n,e),u={x:t,y:r},d=await Dd(e,l),h=ms(gi(s)),f=Uw(h);let p=u[f],v=u[h];if(i){const w=f==="y"?"top":"left",m=f==="y"?"bottom":"right",y=p+d[w],x=p-d[m];p=fy(y,p,x)}if(o){const w=h==="y"?"top":"left",m=h==="y"?"bottom":"right",y=v+d[w],x=v-d[m];v=fy(y,v,x)}const g=a.fn({...e,[f]:p,[h]:v});return{...g,data:{x:g.x-t,y:g.y-r,enabled:{[f]:i,[h]:o}}}}}},CI=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=pi(n,e),d={x:t,y:r},h=ms(s),f=Uw(h);let p=d[f],v=d[h];const g=pi(a,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const x=f==="y"?"height":"width",S=i.reference[f]-i.floating[x]+w.mainAxis,C=i.reference[f]+i.reference[x]-w.mainAxis;p<S?p=S:p>C&&(p=C)}if(u){var m,y;const x=f==="y"?"width":"height",S=["top","left"].includes(gi(s)),C=i.reference[h]-i.floating[x]+(S&&((m=o.offset)==null?void 0:m[h])||0)+(S?0:w.crossAxis),T=i.reference[h]+i.reference[x]+(S?0:((y=o.offset)==null?void 0:y[h])||0)-(S?w.crossAxis:0);v<C?v=C:v>T&&(v=T)}return{[f]:p,[h]:v}}}},TI=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=pi(n,e),d=await Dd(e,u),h=gi(s),f=_u(s),p=ms(s)==="y",{width:v,height:g}=i.floating;let w,m;h==="top"||h==="bottom"?(w=h,m=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(m=h,w=f==="end"?"top":"bottom");const y=g-d.top-d.bottom,x=v-d.left-d.right,S=Po(g-d[w],y),C=Po(v-d[m],x),T=!e.middlewareData.shift;let k=S,R=C;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=y),T&&!f){const I=Dn(d.left,0),D=Dn(d.right,0),j=Dn(d.top,0),H=Dn(d.bottom,0);p?R=v-2*(I!==0||D!==0?I+D:Dn(d.left,d.right)):k=g-2*(j!==0||H!==0?j+H:Dn(d.top,d.bottom))}await l({...e,availableWidth:R,availableHeight:k});const M=await o.getDimensions(a.floating);return v!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function im(){return typeof window<"u"}function Cu(n){return t1(n)?(n.nodeName||"").toLowerCase():"#document"}function Bn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function xs(n){var e;return(e=(t1(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function t1(n){return im()?n instanceof Node||n instanceof Bn(n).Node:!1}function Hr(n){return im()?n instanceof Element||n instanceof Bn(n).Element:!1}function bs(n){return im()?n instanceof HTMLElement||n instanceof Bn(n).HTMLElement:!1}function Yx(n){return!im()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Bn(n).ShadowRoot}function ff(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=$r(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function kI(n){return["table","td","th"].includes(Cu(n))}function om(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Gw(n){const e=Xw(),t=Hr(n)?$r(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function PI(n){let e=Ro(n);for(;bs(e)&&!vu(e);){if(Gw(e))return e;if(om(e))return null;e=Ro(e)}return null}function Xw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vu(n){return["html","body","#document"].includes(Cu(n))}function $r(n){return Bn(n).getComputedStyle(n)}function am(n){return Hr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ro(n){if(Cu(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Yx(n)&&n.host||xs(n);return Yx(e)?e.host:e}function n1(n){const e=Ro(n);return vu(e)?n.ownerDocument?n.ownerDocument.body:n.body:bs(e)&&ff(e)?e:n1(e)}function Od(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=n1(n),i=s===((r=n.ownerDocument)==null?void 0:r.body),o=Bn(s);if(i){const a=gy(o);return e.concat(o,o.visualViewport||[],ff(s)?s:[],a&&t?Od(a):[])}return e.concat(s,Od(s,[],t))}function gy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function r1(n){const e=$r(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=bs(n),i=s?n.offsetWidth:t,o=s?n.offsetHeight:r,a=dg(t)!==i||dg(r)!==o;return a&&(t=i,r=o),{width:t,height:r,$:a}}function qw(n){return Hr(n)?n:n.contextElement}function Ql(n){const e=qw(n);if(!bs(e))return ws(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:i}=r1(e);let o=(i?dg(t.width):t.width)/r,a=(i?dg(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const RI=ws(0);function s1(n){const e=Bn(n);return!Xw()||!e.visualViewport?RI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LI(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Bn(n)?!1:e}function ol(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),i=qw(n);let o=ws(1);e&&(r?Hr(r)&&(o=Ql(r)):o=Ql(n));const a=LI(i,t,r)?s1(i):ws(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Bn(i),p=r&&Hr(r)?Bn(r):r;let v=f,g=gy(v);for(;g&&r&&p!==v;){const w=Ql(g),m=g.getBoundingClientRect(),y=$r(g),x=m.left+(g.clientLeft+parseFloat(y.paddingLeft))*w.x,S=m.top+(g.clientTop+parseFloat(y.paddingTop))*w.y;l*=w.x,u*=w.y,d*=w.x,h*=w.y,l+=x,u+=S,v=Bn(g),g=gy(v)}}return fg({width:d,height:h,x:l,y:u})}function Yw(n,e){const t=am(n).scrollLeft;return e?e.left+t:ol(xs(n)).left+t}function i1(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:Yw(n,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function MI(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const i=s==="fixed",o=xs(r),a=e?om(e.floating):!1;if(r===o||a&&i)return t;let l={scrollLeft:0,scrollTop:0},u=ws(1);const d=ws(0),h=bs(r);if((h||!h&&!i)&&((Cu(r)!=="body"||ff(o))&&(l=am(r)),bs(r))){const p=ol(r);u=Ql(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?i1(o,l,!0):ws(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+d.x+f.x,y:t.y*u.y-l.scrollTop*u.y+d.y+f.y}}function II(n){return Array.from(n.getClientRects())}function FI(n){const e=xs(n),t=am(n),r=n.ownerDocument.body,s=Dn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Dn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Yw(n);const a=-t.scrollTop;return $r(r).direction==="rtl"&&(o+=Dn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function NI(n,e){const t=Bn(n),r=xs(n),s=t.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Xw();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function DI(n,e){const t=ol(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,i=bs(n)?Ql(n):ws(1),o=n.clientWidth*i.x,a=n.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function Kx(n,e,t){let r;if(e==="viewport")r=NI(n,t);else if(e==="document")r=FI(xs(n));else if(Hr(e))r=DI(e,t);else{const s=s1(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return fg(r)}function o1(n,e){const t=Ro(n);return t===e||!Hr(t)||vu(t)?!1:$r(t).position==="fixed"||o1(t,e)}function OI(n,e){const t=e.get(n);if(t)return t;let r=Od(n,[],!1).filter(a=>Hr(a)&&Cu(a)!=="body"),s=null;const i=$r(n).position==="fixed";let o=i?Ro(n):n;for(;Hr(o)&&!vu(o);){const a=$r(o),l=Gw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ff(o)&&!l&&o1(n,o))?r=r.filter(d=>d!==o):s=a,o=Ro(o)}return e.set(n,r),r}function jI(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const o=[...t==="clippingAncestors"?om(e)?[]:OI(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((u,d)=>{const h=Kx(e,d,s);return u.top=Dn(h.top,u.top),u.right=Po(h.right,u.right),u.bottom=Po(h.bottom,u.bottom),u.left=Dn(h.left,u.left),u},Kx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zI(n){const{width:e,height:t}=r1(n);return{width:e,height:t}}function BI(n,e,t){const r=bs(e),s=xs(e),i=t==="fixed",o=ol(n,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=ws(0);function u(){l.x=Yw(s)}if(r||!r&&!i)if((Cu(e)!=="body"||ff(s))&&(a=am(e)),r){const p=ol(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?i1(s,a):ws(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function ov(n){return $r(n).position==="static"}function Qx(n,e){if(!bs(n)||$r(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return xs(n)===t&&(t=t.ownerDocument.body),t}function a1(n,e){const t=Bn(n);if(om(n))return t;if(!bs(n)){let s=Ro(n);for(;s&&!vu(s);){if(Hr(s)&&!ov(s))return s;s=Ro(s)}return t}let r=Qx(n,e);for(;r&&kI(r)&&ov(r);)r=Qx(r,e);return r&&vu(r)&&ov(r)&&!Gw(r)?t:r||PI(n)||t}const HI=async function(n){const e=this.getOffsetParent||a1,t=this.getDimensions,r=await t(n.floating);return{reference:BI(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function $I(n){return $r(n).direction==="rtl"}const UI={convertOffsetParentRelativeRectToViewportRelativeRect:MI,getDocumentElement:xs,getClippingRect:jI,getOffsetParent:a1,getElementRects:HI,getClientRects:II,getDimensions:zI,getScale:Ql,isElement:Hr,isRTL:$I};function l1(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function VI(n,e){let t=null,r;const s=xs(n);function i(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const u=n.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(a||e(),!f||!p)return;const v=Hf(h),g=Hf(s.clientWidth-(d+f)),w=Hf(s.clientHeight-(h+p)),m=Hf(d),x={rootMargin:-v+"px "+-g+"px "+-w+"px "+-m+"px",threshold:Dn(0,Po(1,l))||1};let S=!0;function C(T){const k=T[0].intersectionRatio;if(k!==l){if(!S)return o();k?o(!1,k):r=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!l1(u,n.getBoundingClientRect())&&o(),S=!1}try{t=new IntersectionObserver(C,{...x,root:s.ownerDocument})}catch{t=new IntersectionObserver(C,x)}t.observe(n)}return o(!0),i}function WI(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=qw(n),d=s||i?[...u?Od(u):[],...Od(e)]:[];d.forEach(m=>{s&&m.addEventListener("scroll",t,{passive:!0}),i&&m.addEventListener("resize",t)});const h=u&&a?VI(u,t):null;let f=-1,p=null;o&&(p=new ResizeObserver(m=>{let[y]=m;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(e)})),t()}),u&&!l&&p.observe(u),p.observe(e));let v,g=l?ol(n):null;l&&w();function w(){const m=ol(n);g&&!l1(g,m)&&t(),g=m,v=requestAnimationFrame(w)}return t(),()=>{var m;d.forEach(y=>{s&&y.removeEventListener("scroll",t),i&&y.removeEventListener("resize",t)}),h==null||h(),(m=p)==null||m.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const GI=SI,XI=_I,qI=xI,YI=TI,KI=AI,Jx=bI,QI=CI,JI=(n,e,t)=>{const r=new Map,s={platform:UI,...t},i={...s.platform,_c:r};return wI(n,e,{...s,platform:i})};var ZI=typeof document<"u",eF=function(){},cp=ZI?_.useLayoutEffect:eF;function pg(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!pg(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const i=s[r];if(!(i==="_owner"&&n.$$typeof)&&!pg(n[i],e[i]))return!1}return!0}return n!==n&&e!==e}function c1(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Zx(n,e){const t=c1(n);return Math.round(e*t)/t}function av(n){const e=_.useRef(n);return cp(()=>{e.current=n}),e}function tF(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=n,[d,h]=_.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=_.useState(r);pg(f,r)||p(r);const[v,g]=_.useState(null),[w,m]=_.useState(null),y=_.useCallback(L=>{L!==T.current&&(T.current=L,g(L))},[]),x=_.useCallback(L=>{L!==k.current&&(k.current=L,m(L))},[]),S=i||v,C=o||w,T=_.useRef(null),k=_.useRef(null),R=_.useRef(d),M=l!=null,I=av(l),D=av(s),j=av(u),H=_.useCallback(()=>{if(!T.current||!k.current)return;const L={placement:e,strategy:t,middleware:f};D.current&&(L.platform=D.current),JI(T.current,k.current,L).then(N=>{const $={...N,isPositioned:j.current!==!1};F.current&&!pg(R.current,$)&&(R.current=$,uf.flushSync(()=>{h($)}))})},[f,e,t,D,j]);cp(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[u]);const F=_.useRef(!1);cp(()=>(F.current=!0,()=>{F.current=!1}),[]),cp(()=>{if(S&&(T.current=S),C&&(k.current=C),S&&C){if(I.current)return I.current(S,C,H);H()}},[S,C,H,I,M]);const W=_.useMemo(()=>({reference:T,floating:k,setReference:y,setFloating:x}),[y,x]),B=_.useMemo(()=>({reference:S,floating:C}),[S,C]),O=_.useMemo(()=>{const L={position:t,left:0,top:0};if(!B.floating)return L;const N=Zx(B.floating,d.x),$=Zx(B.floating,d.y);return a?{...L,transform:"translate("+N+"px, "+$+"px)",...c1(B.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:N,top:$}},[t,a,B.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:H,refs:W,elements:B,floatingStyles:O}),[d,H,W,B,O])}const nF=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Jx({element:r.current,padding:s}).fn(t):{}:r?Jx({element:r,padding:s}).fn(t):{}}}},rF=(n,e)=>({...GI(n),options:[n,e]}),sF=(n,e)=>({...XI(n),options:[n,e]}),iF=(n,e)=>({...QI(n),options:[n,e]}),oF=(n,e)=>({...qI(n),options:[n,e]}),aF=(n,e)=>({...YI(n),options:[n,e]}),lF=(n,e)=>({...KI(n),options:[n,e]}),cF=(n,e)=>({...nF(n),options:[n,e]});var uF="Arrow",u1=_.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...i}=n;return P.jsx(An.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});u1.displayName=uF;var dF=u1;function hF(n){const[e,t]=_.useState(void 0);return ko(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var d1="Popper",[h1,f1]=nm(d1),[Xj,p1]=h1(d1),g1="PopperAnchor",m1=_.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,i=p1(g1,t),o=_.useRef(null),a=Br(e,o);return _.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:P.jsx(An.div,{...s,ref:a})});m1.displayName=g1;var Kw="PopperContent",[fF,pF]=h1(Kw),v1=_.forwardRef((n,e)=>{var Q,_t,tt,we,on,Wn;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=n,w=p1(Kw,t),[m,y]=_.useState(null),x=Br(e,ge=>y(ge)),[S,C]=_.useState(null),T=hF(S),k=(T==null?void 0:T.width)??0,R=(T==null?void 0:T.height)??0,M=r+(i!=="center"?"-"+i:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],j=D.length>0,H={padding:I,boundary:D.filter(mF),altBoundary:j},{refs:F,floatingStyles:W,placement:B,isPositioned:O,middlewareData:L}=tF({strategy:"fixed",placement:M,whileElementsMounted:(...ge)=>WI(...ge,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[rF({mainAxis:s+R,alignmentAxis:o}),l&&sF({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?iF():void 0,...H}),l&&oF({...H}),aF({...H,apply:({elements:ge,rects:Me,availableWidth:nt,availableHeight:Be})=>{const{width:Ur,height:cr}=Me.reference,wi=ge.floating.style;wi.setProperty("--radix-popper-available-width",`${nt}px`),wi.setProperty("--radix-popper-available-height",`${Be}px`),wi.setProperty("--radix-popper-anchor-width",`${Ur}px`),wi.setProperty("--radix-popper-anchor-height",`${cr}px`)}}),S&&cF({element:S,padding:a}),vF({arrowWidth:k,arrowHeight:R}),f&&lF({strategy:"referenceHidden",...H})]}),[N,$]=b1(B),J=To(v);ko(()=>{O&&(J==null||J())},[O,J]);const X=(Q=L.arrow)==null?void 0:Q.x,K=(_t=L.arrow)==null?void 0:_t.y,te=((tt=L.arrow)==null?void 0:tt.centerOffset)!==0,[ye,de]=_.useState();return ko(()=>{m&&de(window.getComputedStyle(m).zIndex)},[m]),P.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:O?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(we=L.transformOrigin)==null?void 0:we.x,(on=L.transformOrigin)==null?void 0:on.y].join(" "),...((Wn=L.hide)==null?void 0:Wn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:P.jsx(fF,{scope:t,placedSide:N,onArrowChange:C,arrowX:X,arrowY:K,shouldHideArrow:te,children:P.jsx(An.div,{"data-side":N,"data-align":$,...g,ref:x,style:{...g.style,animation:O?void 0:"none"}})})})});v1.displayName=Kw;var y1="PopperArrow",gF={top:"bottom",right:"left",bottom:"top",left:"right"},w1=_.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,i=pF(y1,r),o=gF[i.placedSide];return P.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:P.jsx(dF,{...s,ref:t,style:{...s.style,display:"block"}})})});w1.displayName=y1;function mF(n){return n!==null}var vF=n=>({name:"transformOrigin",options:n,fn(e){var w,m,y;const{placement:t,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,a=o?0:n.arrowWidth,l=o?0:n.arrowHeight,[u,d]=b1(t),h={start:"0%",center:"50%",end:"100%"}[d],f=(((m=s.arrow)==null?void 0:m.x)??0)+a/2,p=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let v="",g="";return u==="bottom"?(v=o?h:`${f}px`,g=`${-l}px`):u==="top"?(v=o?h:`${f}px`,g=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,g=o?h:`${p}px`):u==="left"&&(v=`${r.floating.width+l}px`,g=o?h:`${p}px`),{data:{x:v,y:g}}}});function b1(n){const[e,t="center"]=n.split("-");return[e,t]}var yF=m1,wF=v1,bF=w1,[lm,qj]=nm("Tooltip",[f1]),Qw=f1(),x1="TooltipProvider",xF=700,eA="tooltip.open",[AF,A1]=lm(x1),E1=n=>{const{__scopeTooltip:e,delayDuration:t=xF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=n,o=_.useRef(!0),a=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),P.jsx(AF,{scope:e,isOpenDelayedRef:o,delayDuration:t,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};E1.displayName=x1;var S1="Tooltip",[Yj,cm]=lm(S1),my="TooltipTrigger",EF=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=cm(my,t),i=A1(my,t),o=Qw(t),a=_.useRef(null),l=Br(e,a,s.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),h=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),P.jsx(yF,{asChild:!0,...o,children:P.jsx(An.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ht(n.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ht(n.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ht(n.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ht(n.onFocus,()=>{u.current||s.onOpen()}),onBlur:ht(n.onBlur,s.onClose),onClick:ht(n.onClick,s.onClose)})})});EF.displayName=my;var SF="TooltipPortal",[Kj,_F]=lm(SF,{forceMount:void 0}),yu="TooltipContent",_1=_.forwardRef((n,e)=>{const t=_F(yu,n.__scopeTooltip),{forceMount:r=t.forceMount,side:s="top",...i}=n,o=cm(yu,n.__scopeTooltip);return P.jsx(jw,{present:r||o.open,children:o.disableHoverableContent?P.jsx(C1,{side:s,...i,ref:e}):P.jsx(CF,{side:s,...i,ref:e})})}),CF=_.forwardRef((n,e)=>{const t=cm(yu,n.__scopeTooltip),r=A1(yu,n.__scopeTooltip),s=_.useRef(null),i=Br(e,s),[o,a]=_.useState(null),{trigger:l,onClose:u}=t,d=s.current,{onPointerInTransitChange:h}=r,f=_.useCallback(()=>{a(null),h(!1)},[h]),p=_.useCallback((v,g)=>{const w=v.currentTarget,m={x:v.clientX,y:v.clientY},y=LF(m,w.getBoundingClientRect()),x=MF(m,y),S=IF(g.getBoundingClientRect()),C=NF([...x,...S]);a(C),h(!0)},[h]);return _.useEffect(()=>()=>f(),[f]),_.useEffect(()=>{if(l&&d){const v=w=>p(w,d),g=w=>p(w,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[l,d,p,f]),_.useEffect(()=>{if(o){const v=g=>{const w=g.target,m={x:g.clientX,y:g.clientY},y=(l==null?void 0:l.contains(w))||(d==null?void 0:d.contains(w)),x=!FF(m,o);y?f():x&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,u,f]),P.jsx(C1,{...n,ref:i})}),[TF,kF]=lm(S1,{isInside:!1}),PF=eL("TooltipContent"),C1=_.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=n,l=cm(yu,t),u=Qw(t),{onClose:d}=l;return _.useEffect(()=>(document.addEventListener(eA,d),()=>document.removeEventListener(eA,d)),[d]),_.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),P.jsx(Ow,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:P.jsxs(wF,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(PF,{children:r}),P.jsx(TF,{scope:t,isInside:!0,children:P.jsx(_L,{id:l.contentId,role:"tooltip",children:s||r})})]})})});_1.displayName=yu;var T1="TooltipArrow",RF=_.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,s=Qw(t);return kF(T1,t).isInside?null:P.jsx(bF,{...s,...r,ref:e})});RF.displayName=T1;function LF(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),i=Math.abs(e.left-n.x);switch(Math.min(t,r,s,i)){case i:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MF(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function IF(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function FF(n,e){const{x:t,y:r}=n;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],u=a.x,d=a.y,h=l.x,f=l.y;d>r!=f>r&&t<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function NF(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),DF(e)}function DF(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var OF=E1,k1=_1;const jF=OF,zF=_.forwardRef(({className:n,sideOffset:e=4,...t},r)=>P.jsx(k1,{ref:r,sideOffset:e,className:En("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));zF.displayName=k1.displayName;var um=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dm=typeof window>"u"||"Deno"in globalThis;function vr(){}function BF(n,e){return typeof n=="function"?n(e):n}function HF(n){return typeof n=="number"&&n>=0&&n!==1/0}function $F(n,e){return Math.max(n+(e||0)-Date.now(),0)}function vy(n,e){return typeof n=="function"?n(e):n}function UF(n,e){return typeof n=="function"?n(e):n}function tA(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=n;if(o){if(r){if(e.queryHash!==Jw(o,e.options))return!1}else if(!zd(e.queryKey,o))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function nA(n,e){const{exact:t,status:r,predicate:s,mutationKey:i}=n;if(i){if(!e.options.mutationKey)return!1;if(t){if(jd(e.options.mutationKey)!==jd(i))return!1}else if(!zd(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Jw(n,e){return((e==null?void 0:e.queryKeyHashFn)||jd)(n)}function jd(n){return JSON.stringify(n,(e,t)=>yy(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function zd(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>zd(n[t],e[t])):!1}function P1(n,e){if(n===e)return n;const t=rA(n)&&rA(e);if(t||yy(n)&&yy(e)){const r=t?n:Object.keys(n),s=r.length,i=t?e:Object.keys(e),o=i.length,a=t?[]:{},l=new Set(r);let u=0;for(let d=0;d<o;d++){const h=t?d:i[d];(!t&&l.has(h)||t)&&n[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=P1(n[h],e[h]),a[h]===n[h]&&n[h]!==void 0&&u++)}return s===o&&u===s?n:a}return e}function rA(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function yy(n){if(!sA(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!sA(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function sA(n){return Object.prototype.toString.call(n)==="[object Object]"}function VF(n){return new Promise(e=>{setTimeout(e,n)})}function WF(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?P1(n,e):e}function GF(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function XF(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Zw=Symbol();function R1(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Zw?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Jo,Ni,rc,VA,qF=(VA=class extends um{constructor(){super();E(this,Jo);E(this,Ni);E(this,rc);b(this,rc,e=>{if(!dm&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){c(this,Ni)||this.setEventListener(c(this,rc))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,Ni))==null||e.call(this),b(this,Ni,void 0))}setEventListener(e){var t;b(this,rc,e),(t=c(this,Ni))==null||t.call(this),b(this,Ni,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){c(this,Jo)!==e&&(b(this,Jo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof c(this,Jo)=="boolean"?c(this,Jo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Jo=new WeakMap,Ni=new WeakMap,rc=new WeakMap,VA),L1=new qF,sc,Di,ic,WA,YF=(WA=class extends um{constructor(){super();E(this,sc,!0);E(this,Di);E(this,ic);b(this,ic,e=>{if(!dm&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){c(this,Di)||this.setEventListener(c(this,ic))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,Di))==null||e.call(this),b(this,Di,void 0))}setEventListener(e){var t;b(this,ic,e),(t=c(this,Di))==null||t.call(this),b(this,Di,e(this.setOnline.bind(this)))}setOnline(e){c(this,sc)!==e&&(b(this,sc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return c(this,sc)}},sc=new WeakMap,Di=new WeakMap,ic=new WeakMap,WA),gg=new YF;function KF(){let n,e;const t=new Promise((s,i)=>{n=s,e=i});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}function QF(n){return Math.min(1e3*2**n,3e4)}function M1(n){return(n??"online")==="online"?gg.isOnline():!0}var I1=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function lv(n){return n instanceof I1}function F1(n){let e=!1,t=0,r=!1,s;const i=KF(),o=g=>{var w;r||(f(new I1(g)),(w=n.abort)==null||w.call(n))},a=()=>{e=!0},l=()=>{e=!1},u=()=>L1.isFocused()&&(n.networkMode==="always"||gg.isOnline())&&n.canRun(),d=()=>M1(n.networkMode)&&n.canRun(),h=g=>{var w;r||(r=!0,(w=n.onSuccess)==null||w.call(n,g),s==null||s(),i.resolve(g))},f=g=>{var w;r||(r=!0,(w=n.onError)==null||w.call(n,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var w;s=m=>{(r||u())&&g(m)},(w=n.onPause)==null||w.call(n)}).then(()=>{var g;s=void 0,r||(g=n.onContinue)==null||g.call(n)}),v=()=>{if(r)return;let g;const w=t===0?n.initialPromise:void 0;try{g=w??n.fn()}catch(m){g=Promise.reject(m)}Promise.resolve(g).then(h).catch(m=>{var T;if(r)return;const y=n.retry??(dm?0:3),x=n.retryDelay??QF,S=typeof x=="function"?x(t,m):x,C=y===!0||typeof y=="number"&&t<y||typeof y=="function"&&y(t,m);if(e||!C){f(m);return}t++,(T=n.onFail)==null||T.call(n,t,m),VF(S).then(()=>u()?void 0:p()).then(()=>{e?f(m):v()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():p().then(v),i)}}var JF=n=>setTimeout(n,0);function ZF(){let n=[],e=0,t=a=>{a()},r=a=>{a()},s=JF;const i=a=>{e?n.push(a):s(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{t(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Qt=ZF(),Zo,GA,N1=(GA=class{constructor(){E(this,Zo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HF(this.gcTime)&&b(this,Zo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(dm?1/0:5*60*1e3))}clearGcTimeout(){c(this,Zo)&&(clearTimeout(c(this,Zo)),b(this,Zo,void 0))}},Zo=new WeakMap,GA),oc,ac,Xn,ea,jt,Hd,ta,wr,Cs,XA,eN=(XA=class extends N1{constructor(e){super();E(this,wr);E(this,oc);E(this,ac);E(this,Xn);E(this,ea);E(this,jt);E(this,Hd);E(this,ta);b(this,ta,!1),b(this,Hd,e.defaultOptions),this.setOptions(e.options),this.observers=[],b(this,ea,e.client),b(this,Xn,c(this,ea).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,b(this,oc,nN(this.options)),this.state=e.state??c(this,oc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=c(this,jt))==null?void 0:e.promise}setOptions(e){this.options={...c(this,Hd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&c(this,Xn).remove(this)}setData(e,t){const r=WF(this.state.data,e,this.options);return A(this,wr,Cs).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){A(this,wr,Cs).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,s;const t=(r=c(this,jt))==null?void 0:r.promise;return(s=c(this,jt))==null||s.cancel(e),t?t.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(c(this,oc))}isActive(){return this.observers.some(e=>UF(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Zw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>vy(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!$F(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,jt))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,jt))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),c(this,Xn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(c(this,jt)&&(c(this,ta)?c(this,jt).cancel({revert:!0}):c(this,jt).cancelRetry()),this.scheduleGc()),c(this,Xn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||A(this,wr,Cs).call(this,{type:"invalidate"})}fetch(e,t){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(c(this,jt))return c(this,jt).continueRetry(),c(this,jt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(b(this,ta,!0),r.signal)})},i=()=>{const f=R1(this.options,t),v=(()=>{const g={client:c(this,ea),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return b(this,ta,!1),this.options.persister?this.options.persister(f,v,this):f(v)},a=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:c(this,ea),state:this.state,fetchFn:i};return s(f),f})();(u=this.options.behavior)==null||u.onFetch(a,this),b(this,ac,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&A(this,wr,Cs).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const l=f=>{var p,v,g,w;lv(f)&&f.silent||A(this,wr,Cs).call(this,{type:"error",error:f}),lv(f)||((v=(p=c(this,Xn).config).onError)==null||v.call(p,f,this),(w=(g=c(this,Xn).config).onSettled)==null||w.call(g,this.state.data,f,this)),this.scheduleGc()};return b(this,jt,F1({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,v,g,w;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(m){l(m);return}(v=(p=c(this,Xn).config).onSuccess)==null||v.call(p,f,this),(w=(g=c(this,Xn).config).onSettled)==null||w.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{A(this,wr,Cs).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{A(this,wr,Cs).call(this,{type:"pause"})},onContinue:()=>{A(this,wr,Cs).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),c(this,jt).start()}},oc=new WeakMap,ac=new WeakMap,Xn=new WeakMap,ea=new WeakMap,jt=new WeakMap,Hd=new WeakMap,ta=new WeakMap,wr=new WeakSet,Cs=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tN(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return lv(s)&&s.revert&&c(this,ac)?{...c(this,ac),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Qt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),c(this,Xn).notify({query:this,type:"updated",action:e})})},XA);function tN(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:M1(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function nN(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var qr,qA,rN=(qA=class extends um{constructor(e={}){super();E(this,qr);this.config=e,b(this,qr,new Map)}build(e,t,r){const s=t.queryKey,i=t.queryHash??Jw(s,t);let o=this.get(i);return o||(o=new eN({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){c(this,qr).has(e.queryHash)||(c(this,qr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=c(this,qr).get(e.queryHash);t&&(e.destroy(),t===e&&c(this,qr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Qt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return c(this,qr).get(e)}getAll(){return[...c(this,qr).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>tA(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>tA(e,r)):t}notify(e){Qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},qr=new WeakMap,qA),Yr,Yt,na,Kr,Ti,YA,sN=(YA=class extends N1{constructor(e){super();E(this,Kr);E(this,Yr);E(this,Yt);E(this,na);this.mutationId=e.mutationId,b(this,Yt,e.mutationCache),b(this,Yr,[]),this.state=e.state||iN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){c(this,Yr).includes(e)||(c(this,Yr).push(e),this.clearGcTimeout(),c(this,Yt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){b(this,Yr,c(this,Yr).filter(t=>t!==e)),this.scheduleGc(),c(this,Yt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){c(this,Yr).length||(this.state.status==="pending"?this.scheduleGc():c(this,Yt).remove(this))}continue(){var e;return((e=c(this,na))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,o,a,l,u,d,h,f,p,v,g,w,m,y,x,S,C,T,k,R;const t=()=>{A(this,Kr,Ti).call(this,{type:"continue"})};b(this,na,F1({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,I)=>{A(this,Kr,Ti).call(this,{type:"failed",failureCount:M,error:I})},onPause:()=>{A(this,Kr,Ti).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>c(this,Yt).canRun(this)}));const r=this.state.status==="pending",s=!c(this,na).canStart();try{if(r)t();else{A(this,Kr,Ti).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(i=c(this,Yt).config).onMutate)==null?void 0:o.call(i,e,this));const I=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));I!==this.state.context&&A(this,Kr,Ti).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const M=await c(this,na).start();return await((d=(u=c(this,Yt).config).onSuccess)==null?void 0:d.call(u,M,e,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,M,e,this.state.context)),await((v=(p=c(this,Yt).config).onSettled)==null?void 0:v.call(p,M,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,M,null,e,this.state.context)),A(this,Kr,Ti).call(this,{type:"success",data:M}),M}catch(M){try{throw await((y=(m=c(this,Yt).config).onError)==null?void 0:y.call(m,M,e,this.state.context,this)),await((S=(x=this.options).onError)==null?void 0:S.call(x,M,e,this.state.context)),await((T=(C=c(this,Yt).config).onSettled)==null?void 0:T.call(C,void 0,M,this.state.variables,this.state.context,this)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,M,e,this.state.context)),M}finally{A(this,Kr,Ti).call(this,{type:"error",error:M})}}finally{c(this,Yt).runNext(this)}}},Yr=new WeakMap,Yt=new WeakMap,na=new WeakMap,Kr=new WeakSet,Ti=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Qt.batch(()=>{c(this,Yr).forEach(r=>{r.onMutationUpdate(e)}),c(this,Yt).notify({mutation:this,type:"updated",action:e})})},YA);function iN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ms,br,$d,KA,oN=(KA=class extends um{constructor(e={}){super();E(this,Ms);E(this,br);E(this,$d);this.config=e,b(this,Ms,new Set),b(this,br,new Map),b(this,$d,0)}build(e,t,r){const s=new sN({mutationCache:this,mutationId:++mt(this,$d)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){c(this,Ms).add(e);const t=$f(e);if(typeof t=="string"){const r=c(this,br).get(t);r?r.push(e):c(this,br).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(c(this,Ms).delete(e)){const t=$f(e);if(typeof t=="string"){const r=c(this,br).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&c(this,br).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=$f(e);if(typeof t=="string"){const r=c(this,br).get(t),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=$f(e);if(typeof t=="string"){const s=(r=c(this,br).get(t))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qt.batch(()=>{c(this,Ms).forEach(e=>{this.notify({type:"removed",mutation:e})}),c(this,Ms).clear(),c(this,br).clear()})}getAll(){return Array.from(c(this,Ms))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>nA(t,r))}findAll(e={}){return this.getAll().filter(t=>nA(e,t))}notify(e){Qt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Qt.batch(()=>Promise.all(e.map(t=>t.continue().catch(vr))))}},Ms=new WeakMap,br=new WeakMap,$d=new WeakMap,KA);function $f(n){var e;return(e=n.options.scope)==null?void 0:e.id}function iA(n){return{onFetch:(e,t)=>{var d,h,f,p,v;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},m=R1(e.options,e.fetchOptions),y=async(x,S,C)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const k=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:S,direction:C?"backward":"forward",meta:e.options.meta};return w(D),D})(),R=await m(k),{maxPages:M}=e.options,I=C?XF:GF;return{pages:I(x.pages,R,M),pageParams:I(x.pageParams,S,M)}};if(s&&i.length){const x=s==="backward",S=x?aN:oA,C={pages:i,pageParams:o},T=S(r,C);a=await y(C,T,x)}else{const x=n??i.length;do{const S=l===0?o[0]??r.initialPageParam:oA(r,a);if(l>0&&S==null)break;a=await y(a,S),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function oA(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function aN(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var qe,Oi,ji,lc,cc,zi,uc,dc,QA,lN=(QA=class{constructor(n={}){E(this,qe);E(this,Oi);E(this,ji);E(this,lc);E(this,cc);E(this,zi);E(this,uc);E(this,dc);b(this,qe,n.queryCache||new rN),b(this,Oi,n.mutationCache||new oN),b(this,ji,n.defaultOptions||{}),b(this,lc,new Map),b(this,cc,new Map),b(this,zi,0)}mount(){mt(this,zi)._++,c(this,zi)===1&&(b(this,uc,L1.subscribe(async n=>{n&&(await this.resumePausedMutations(),c(this,qe).onFocus())})),b(this,dc,gg.subscribe(async n=>{n&&(await this.resumePausedMutations(),c(this,qe).onOnline())})))}unmount(){var n,e;mt(this,zi)._--,c(this,zi)===0&&((n=c(this,uc))==null||n.call(this),b(this,uc,void 0),(e=c(this,dc))==null||e.call(this),b(this,dc,void 0))}isFetching(n){return c(this,qe).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return c(this,Oi).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=c(this,qe).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=c(this,qe).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(vy(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return c(this,qe).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=c(this,qe).get(r.queryHash),i=s==null?void 0:s.state.data,o=BF(e,i);if(o!==void 0)return c(this,qe).build(this,r).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return Qt.batch(()=>c(this,qe).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=c(this,qe).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=c(this,qe);Qt.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=c(this,qe);return Qt.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Qt.batch(()=>c(this,qe).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(vr).catch(vr)}invalidateQueries(n,e={}){return Qt.batch(()=>(c(this,qe).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Qt.batch(()=>c(this,qe).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(vr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(vr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=c(this,qe).build(this,e);return t.isStaleByTime(vy(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(vr).catch(vr)}fetchInfiniteQuery(n){return n.behavior=iA(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(vr).catch(vr)}ensureInfiniteQueryData(n){return n.behavior=iA(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return gg.isOnline()?c(this,Oi).resumePausedMutations():Promise.resolve()}getQueryCache(){return c(this,qe)}getMutationCache(){return c(this,Oi)}getDefaultOptions(){return c(this,ji)}setDefaultOptions(n){b(this,ji,n)}setQueryDefaults(n,e){c(this,lc).set(jd(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...c(this,lc).values()],t={};return e.forEach(r=>{zd(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){c(this,cc).set(jd(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...c(this,cc).values()],t={};return e.forEach(r=>{zd(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...c(this,ji).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Jw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Zw&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...c(this,ji).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){c(this,qe).clear(),c(this,Oi).clear()}},qe=new WeakMap,Oi=new WeakMap,ji=new WeakMap,lc=new WeakMap,cc=new WeakMap,zi=new WeakMap,uc=new WeakMap,dc=new WeakMap,QA),cN=_.createContext(void 0),uN=({client:n,children:e})=>(_.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),P.jsx(cN.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mg(){return mg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mg.apply(this,arguments)}var mo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(mo||(mo={}));const aA="popstate";function dN(n){n===void 0&&(n={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=pf(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),wy("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:D1(i))}function r(s,i){eb(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return fN(e,t,r,n)}function xn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function eb(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hN(){return Math.random().toString(36).substr(2,8)}function lA(n,e){return{usr:n.state,key:n.key,idx:e}}function wy(n,e,t,r){return t===void 0&&(t=null),mg({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?pf(e):e,{state:t,key:e&&e.key||r||hN()})}function D1(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function fN(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=mo.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(mg({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=mo.Pop;let w=d(),m=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:m})}function f(w,m){a=mo.Push;let y=wy(g.location,w,m);t&&t(y,w),u=d()+1;let x=lA(y,u),S=g.createHref(y);try{o.pushState(x,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(w,m){a=mo.Replace;let y=wy(g.location,w,m);t&&t(y,w),u=d();let x=lA(y,u),S=g.createHref(y);o.replaceState(x,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function v(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:D1(w);return y=y.replace(/ $/,"%20"),xn(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return n(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(aA,h),l=w,()=>{s.removeEventListener(aA,h),l=null}},createHref(w){return e(s,w)},createURL:v,encodeLocation(w){let m=v(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(w){return o.go(w)}};return g}var cA;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(cA||(cA={}));function pN(n,e,t){return t===void 0&&(t="/"),gN(n,e,t)}function gN(n,e,t,r){let s=typeof e=="string"?pf(e):e,i=z1(s.pathname||"/",t);if(i==null)return null;let o=O1(n);mN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=kN(i);a=_N(o[l],u)}return a}function O1(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(xn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Jl([r,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(xn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),O1(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:EN(u,i.index),routesMeta:d})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of j1(i.path))s(i,o,l)}),e}function j1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=j1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function mN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:SN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const vN=/^:[\w-]+$/,yN=3,wN=2,bN=1,xN=10,AN=-2,uA=n=>n==="*";function EN(n,e){let t=n.split("/"),r=t.length;return t.some(uA)&&(r+=AN),e&&(r+=wN),t.filter(s=>!uA(s)).reduce((s,i)=>s+(vN.test(i)?yN:i===""?bN:xN),r)}function SN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function _N(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=CN({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Jl([i,h.pathname]),pathnameBase:PN(Jl([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Jl([i,h.pathnameBase]))}return o}function CN(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=TN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=a[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function TN(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),eb(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function kN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eb(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function z1(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const Jl=n=>n.join("/").replace(/\/\/+/g,"/"),PN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function RN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const B1=["post","put","patch","delete"];new Set(B1);const LN=["get",...B1];new Set(LN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vg(){return vg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vg.apply(this,arguments)}const MN=_.createContext(null),IN=_.createContext(null),H1=_.createContext(null),hm=_.createContext(null),fm=_.createContext({outlet:null,matches:[],isDataRoute:!1}),$1=_.createContext(null);function tb(){return _.useContext(hm)!=null}function U1(){return tb()||xn(!1),_.useContext(hm).location}function FN(n,e){return NN(n,e)}function NN(n,e,t,r){tb()||xn(!1);let{navigator:s}=_.useContext(H1),{matches:i}=_.useContext(fm),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=U1(),d;if(e){var h;let w=typeof e=="string"?pf(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||xn(!1),d=w}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=pN(n,{pathname:p}),g=BN(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Jl([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Jl([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,t,r);return e&&g?_.createElement(hm.Provider,{value:{location:vg({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:mo.Pop}},g):g}function DN(){let n=VN(),e=RN(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),t?_.createElement("pre",{style:s},t):null,null)}const ON=_.createElement(DN,null);class jN extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?_.createElement(fm.Provider,{value:this.props.routeContext},_.createElement($1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zN(n){let{routeContext:e,match:t,children:r}=n,s=_.useContext(MN);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),_.createElement(fm.Provider,{value:e},r)}function BN(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(s=t)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||xn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=t,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,g=null,w=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||ON,l&&(u<0&&f===0?(WN("route-fallback"),v=!0,w=null):u===f&&(v=!0,w=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),y=()=>{let x;return p?x=g:v?x=w:h.route.Component?x=_.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,_.createElement(zN,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(jN,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var V1=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(V1||{});function HN(n){let e=_.useContext(IN);return e||xn(!1),e}function $N(n){let e=_.useContext(fm);return e||xn(!1),e}function UN(n){let e=$N(),t=e.matches[e.matches.length-1];return t.route.id||xn(!1),t.route.id}function VN(){var n;let e=_.useContext($1),t=HN(V1.UseRouteError),r=UN();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}const dA={};function WN(n,e,t){dA[n]||(dA[n]=!0)}function GN(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function by(n){xn(!1)}function XN(n){let{basename:e="/",children:t=null,location:r,navigationType:s=mo.Pop,navigator:i,static:o=!1,future:a}=n;tb()&&xn(!1);let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:i,static:o,future:vg({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=pf(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=r,g=_.useMemo(()=>{let w=z1(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:v},navigationType:s}},[l,d,h,f,p,v,s]);return g==null?null:_.createElement(H1.Provider,{value:u},_.createElement(hm.Provider,{children:t,value:g}))}function qN(n){let{children:e,location:t}=n;return FN(xy(e),t)}new Promise(()=>{});function xy(n,e){e===void 0&&(e=[]);let t=[];return _.Children.forEach(n,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){t.push.apply(t,xy(r.props.children,i));return}r.type!==by&&xn(!1),!r.props.index||!r.props.children||xn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xy(r.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const YN="6";try{window.__reactRouterVersion=YN}catch{}const KN="startTransition",hA=uE[KN];function QN(n){let{basename:e,children:t,future:r,window:s}=n,i=_.useRef();i.current==null&&(i.current=dN({window:s,v5Compat:!0}));let o=i.current,[a,l]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=_.useCallback(h=>{u&&hA?hA(()=>l(h)):l(h)},[l,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>GN(r),[r]),_.createElement(XN,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var fA;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(fA||(fA={}));var pA;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(pA||(pA={}));const JN=$_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W1=_.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},i)=>{const o=r?JR:"button";return P.jsx(o,{className:En(JN({variant:e,size:t,className:n})),ref:i,...s})});W1.displayName="Button";const G1=_.forwardRef(({className:n,...e},t)=>P.jsx("div",{ref:t,className:En("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));G1.displayName="Card";const ZN=_.forwardRef(({className:n,...e},t)=>P.jsx("div",{ref:t,className:En("flex flex-col space-y-1.5 p-6",n),...e}));ZN.displayName="CardHeader";const eD=_.forwardRef(({className:n,...e},t)=>P.jsx("h3",{ref:t,className:En("text-2xl font-semibold leading-none tracking-tight",n),...e}));eD.displayName="CardTitle";const tD=_.forwardRef(({className:n,...e},t)=>P.jsx("p",{ref:t,className:En("text-sm text-muted-foreground",n),...e}));tD.displayName="CardDescription";const nD=_.forwardRef(({className:n,...e},t)=>P.jsx("div",{ref:t,className:En("p-6 pt-0",n),...e}));nD.displayName="CardContent";const rD=_.forwardRef(({className:n,...e},t)=>P.jsx("div",{ref:t,className:En("flex items-center p-6 pt-0",n),...e}));rD.displayName="CardFooter";const sD="modulepreload",iD=function(n){return"/lexmaile-future-unveiled/"+n},gA={},Uf=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(t.map(l=>{if(l=iD(l),l in gA)return;gA[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":sD,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var md={};md.d=(n,e)=>{for(var t in e)md.o(e,t)&&!md.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};md.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var se=globalThis.pdfjsLib={};md.d(se,{AbortException:()=>ml,AnnotationEditorLayer:()=>I0,AnnotationEditorParamsType:()=>re,AnnotationEditorType:()=>le,AnnotationEditorUIManager:()=>ll,AnnotationLayer:()=>r2,AnnotationMode:()=>Fi,ColorPicker:()=>xg,DOMSVGFactory:()=>fb,DrawLayer:()=>O0,FeatureTest:()=>en,GlobalWorkerOptions:()=>ri,ImageKind:()=>up,InvalidPDFException:()=>q1,MissingPDFException:()=>gl,OPS:()=>yr,OutputScale:()=>Cy,PDFDataRangeTransport:()=>VC,PDFDateString:()=>ob,PDFWorker:()=>ec,PasswordResponses:()=>cD,PermissionFlag:()=>lD,PixelsPerInch:()=>Lo,RenderingCancelledException:()=>sb,TextLayer:()=>e0,UnexpectedResponseException:()=>vm,Util:()=>Z,VerbosityLevel:()=>pm,XfaLayer:()=>GC,build:()=>OO,createValidAbsoluteUrl:()=>fD,fetchData:()=>wm,getDocument:()=>kO,getFilenameFromUrl:()=>AD,getPdfFilenameFromUrl:()=>ED,getXfaPageViewport:()=>SD,isDataScheme:()=>bm,isPdfFile:()=>ib,noContextMenu:()=>lr,normalizeUnicode:()=>wD,setLayerDimensions:()=>al,shadow:()=>me,version:()=>DO});const Wt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),X1=[1,0,0,1,0,0],Ay=[.001,0,0,.001,0,0],oD=1e7,cv=1.35,Fn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Fi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},aD="pdfjs_internal_editor_",le={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},re={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},lD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Dt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},up={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},at={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Ou={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},pm={ERRORS:0,WARNINGS:1,INFOS:5},yr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},cD={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let gm=pm.WARNINGS;function uD(n){Number.isInteger(n)&&(gm=n)}function dD(){return gm}function mm(n){gm>=pm.INFOS&&console.log(`Info: ${n}`)}function ue(n){gm>=pm.WARNINGS&&console.log(`Warning: ${n}`)}function Ne(n){throw new Error(n)}function ft(n,e){n||Ne(e)}function hD(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function fD(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=yD(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(hD(r))return r}catch{}return null}function me(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const jo=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class Ey extends jo{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Sy extends jo{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class q1 extends jo{constructor(e){super(e,"InvalidPDFException")}}class gl extends jo{constructor(e){super(e,"MissingPDFException")}}class vm extends jo{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class pD extends jo{constructor(e){super(e,"FormatError")}}class ml extends jo{constructor(e){super(e,"AbortException")}}function Y1(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ne("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let s=0;s<e;s+=t){const i=Math.min(s+t,e),o=n.subarray(s,i);r.push(String.fromCharCode.apply(null,o))}return r.join("")}function ym(n){typeof n!="string"&&Ne("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function gD(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function nb(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function mD(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function vD(){try{return new Function(""),!0}catch{return!1}}class en{static get isLittleEndian(){return me(this,"isLittleEndian",mD())}static get isEvalSupported(){return me(this,"isEvalSupported",vD())}static get isOffscreenCanvasSupported(){return me(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?me(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):me(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return me(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const uv=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var li,dp,_y;class Z{static makeHexColor(e,t,r){return`#${uv[e]}${uv[t]}${uv[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[r,s]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,i=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[s,i]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),o=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],s[0],i[0],o[0]),Math.min(r[1],s[1],i[1],o[1]),Math.max(r[0],s[0],i[0],o[0]),Math.max(r[1],s[1],i[1],o[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,l=Math.sqrt((r+o)**2-4*(r*o-i*s))/2,u=a+l||1,d=a-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>s)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>o?null:[r,i,s,o]}static bezierBoundingBox(e,t,r,s,i,o,a,l,u){return u?(u[0]=Math.min(u[0],e,a),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,a),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,a),Math.min(t,l),Math.max(e,a),Math.max(t,l)],A(this,li,_y).call(this,e,r,i,a,t,s,o,l,3*(-e+3*(r-i)+a),6*(e-2*r+i),3*(r-e),u),A(this,li,_y).call(this,e,r,i,a,t,s,o,l,3*(-t+3*(s-o)+l),6*(t-2*s+o),3*(s-t),u),u}}li=new WeakSet,dp=function(e,t,r,s,i,o,a,l,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,v=h*(h*(h*e+3*u*t)+3*f*r)+p*s,g=h*(h*(h*i+3*u*o)+3*f*a)+p*l;d[0]=Math.min(d[0],v),d[1]=Math.min(d[1],g),d[2]=Math.max(d[2],v),d[3]=Math.max(d[3],g)},_y=function(e,t,r,s,i,o,a,l,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&A(this,li,dp).call(this,e,t,r,s,i,o,a,l,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const v=Math.sqrt(p),g=2*u;A(this,li,dp).call(this,e,t,r,s,i,o,a,l,(-d+v)/g,f),A(this,li,dp).call(this,e,t,r,s,i,o,a,l,(-d-v)/g,f)},E(Z,li);function yD(n){return decodeURIComponent(escape(n))}let dv=null,mA=null;function wD(n){return dv||(dv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,mA=new Map([["","t"]])),n.replaceAll(dv,(e,t,r)=>t?t.normalize("NFKC"):mA.get(r))}function bD(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return Y1(n)}const rb="pdfjs_internal_id_",Ss={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function xD(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(Y1(n))}const Ts="http://www.w3.org/2000/svg",Xo=class Xo{};ne(Xo,"CSS",96),ne(Xo,"PDF",72),ne(Xo,"PDF_TO_CSS_UNITS",Xo.CSS/Xo.PDF);let Lo=Xo;async function wm(n,e="text"){if(Vu(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}r(new Error(s.statusText))}},s.send(null)})}class gf{constructor({viewBox:e,scale:t,rotation:r,offsetX:s=0,offsetY:i=0,dontFlip:o=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=s,this.offsetY=i;const a=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let u,d,h,f;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,d=0,h=0,f=1;break;case 90:u=0,d=1,h=1,f=0;break;case 270:u=0,d=-1,h=-1,f=0;break;case 0:u=1,d=0,h=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,f=-f);let p,v,g,w;u===0?(p=Math.abs(l-e[1])*t+s,v=Math.abs(a-e[0])*t+i,g=(e[3]-e[1])*t,w=(e[2]-e[0])*t):(p=Math.abs(a-e[0])*t+s,v=Math.abs(l-e[1])*t+i,g=(e[2]-e[0])*t,w=(e[3]-e[1])*t),this.transform=[u*t,d*t,h*t,f*t,p-u*t*a-h*t*l,v-d*t*a-f*t*l],this.width=g,this.height=w}get rawDims(){const{viewBox:e}=this;return me(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:s=this.offsetY,dontFlip:i=!1}={}){return new gf({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}convertToViewportPoint(e,t){return Z.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Z.applyTransform([e[0],e[1]],this.transform),r=Z.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return Z.applyInverseTransform([e,t],this.transform)}}class sb extends jo{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function bm(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function ib(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function AD(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function ED(n,e="document.pdf"){if(typeof n!="string")return e;if(bm(n))return ue('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n);let i=r.exec(s[1])||r.exec(s[2])||r.exec(s[3]);if(i&&(i=i[0],i.includes("%")))try{i=r.exec(decodeURIComponent(i))[0]}catch{}return i||e}class vA{constructor(){ne(this,"started",Object.create(null));ne(this,"times",[])}time(e){e in this.started&&ue(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||ue(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:s,end:i}of this.times)e.push(`${r.padEnd(t)} ${i-s}ms
`);return e.join("")}}function Vu(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function lr(n){n.preventDefault()}function yA(n){console.log("Deprecated API usage: "+n)}var Ud;class ob{static toDateObject(e){if(!e||typeof e!="string")return null;c(this,Ud)||b(this,Ud,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=c(this,Ud).exec(e);if(!t)return null;const r=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(t[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(o+=d,a+=h):u==="+"&&(o-=d,a-=h),new Date(Date.UTC(r,s,i,o,a,l))}}Ud=new WeakMap,E(ob,Ud);function SD(n,{scale:e=1,rotation:t=0}){const{width:r,height:s}=n.attributes.style,i=[0,0,parseInt(r),parseInt(s)];return new gf({viewBox:i,scale:e,rotation:t})}function ab(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ue(`Not a valid color format: "${n}"`),[0,0,0])}function _D(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,ab(r))}e.remove()}function Ve(n){const{a:e,b:t,c:r,d:s,e:i,f:o}=n.getTransform();return[e,t,r,s,i,o]}function _s(n){const{a:e,b:t,c:r,d:s,e:i,f:o}=n.getTransform().invertSelf();return[e,t,r,s,i,o]}function al(n,e,t=!1,r=!0){if(e instanceof gf){const{pageWidth:s,pageHeight:i}=e.rawDims,{style:o}=n,a=en.isCSSRoundSupported,l=`var(--scale-factor) * ${s}px`,u=`var(--scale-factor) * ${i}px`,d=a?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=a?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(o.width=d,o.height=h):(o.width=h,o.height=d)}r&&n.setAttribute("data-main-rotation",e.rotation)}class Cy{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Bi,ra,xr,sa,Vd,Wd,Eg,K1,tn,Q1,J1,hp,Z1,ky;const Ps=class Ps{constructor(e){E(this,tn);E(this,Bi,null);E(this,ra,null);E(this,xr);E(this,sa,null);E(this,Vd,null);b(this,xr,e),c(Ps,Wd)||b(Ps,Wd,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=b(this,Bi,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=c(this,xr)._uiManager._signal;e.addEventListener("contextmenu",lr,{signal:t}),e.addEventListener("pointerdown",A(Ps,Eg,K1),{signal:t});const r=b(this,sa,document.createElement("div"));r.className="buttons",e.append(r);const s=c(this,xr).toolbarPosition;if(s){const{style:i}=e,o=c(this,xr)._uiManager.direction==="ltr"?1-s[0]:s[0];i.insetInlineEnd=`${100*o}%`,i.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return A(this,tn,Z1).call(this),e}get div(){return c(this,Bi)}hide(){var e;c(this,Bi).classList.add("hidden"),(e=c(this,ra))==null||e.hideDropdown()}show(){var e;c(this,Bi).classList.remove("hidden"),(e=c(this,Vd))==null||e.shown()}async addAltText(e){const t=await e.render();A(this,tn,hp).call(this,t),c(this,sa).prepend(t,c(this,tn,ky)),b(this,Vd,e)}addColorPicker(e){b(this,ra,e);const t=e.renderButton();A(this,tn,hp).call(this,t),c(this,sa).prepend(t,c(this,tn,ky))}remove(){var e;c(this,Bi).remove(),(e=c(this,ra))==null||e.destroy(),b(this,ra,null)}};Bi=new WeakMap,ra=new WeakMap,xr=new WeakMap,sa=new WeakMap,Vd=new WeakMap,Wd=new WeakMap,Eg=new WeakSet,K1=function(e){e.stopPropagation()},tn=new WeakSet,Q1=function(e){c(this,xr)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},J1=function(e){c(this,xr)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},hp=function(e){const t=c(this,xr)._uiManager._signal;e.addEventListener("focusin",A(this,tn,Q1).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,tn,J1).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",lr,{signal:t})},Z1=function(){const{editorType:e,_uiManager:t}=c(this,xr),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",c(Ps,Wd)[e]),A(this,tn,hp).call(this,r),r.addEventListener("click",s=>{t.delete()},{signal:t._signal}),c(this,sa).append(r)},ky=function(){const e=document.createElement("div");return e.className="divider",e},E(Ps,Eg),E(Ps,Wd,null);let Ty=Ps;var Gd,ia,oa,Io,eC,tC,nC;class CD{constructor(e){E(this,Io);E(this,Gd,null);E(this,ia,null);E(this,oa);b(this,oa,e)}show(e,t,r){const[s,i]=A(this,Io,tC).call(this,t,r),{style:o}=c(this,ia)||b(this,ia,A(this,Io,eC).call(this));e.append(c(this,ia)),o.insetInlineEnd=`${100*s}%`,o.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,ia).remove()}}Gd=new WeakMap,ia=new WeakMap,oa=new WeakMap,Io=new WeakSet,eC=function(){const e=b(this,ia,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",lr,{signal:c(this,oa)._signal});const t=b(this,Gd,document.createElement("div"));return t.className="buttons",e.append(t),A(this,Io,nC).call(this),e},tC=function(e,t){let r=0,s=0;for(const i of e){const o=i.y+i.height;if(o<r)continue;const a=i.x+(t?i.width:0);if(o>r){s=a,r=o;continue}t?a>s&&(s=a):a<s&&(s=a)}return[t?1-s:s,r]},nC=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=c(this,oa)._signal;e.addEventListener("contextmenu",lr,{signal:r}),e.addEventListener("click",()=>{c(this,oa).highlightSelection("floating_button")},{signal:r}),c(this,Gd).append(e)};function yg(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}function TD(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var Sg;class kD{constructor(){E(this,Sg,0)}get id(){return`${aD}${mt(this,Sg)._++}`}}Sg=new WeakMap;var hc,Xd,zt,fc,fp;const mb=class mb{constructor(){E(this,fc);E(this,hc,bD());E(this,Xd,0);E(this,zt,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const i=s.decode().then(()=>(r.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return me(this,"_isSVGFittingCanvas",i)}async getFromFile(e){const{lastModified:t,name:r,size:s,type:i}=e;return A(this,fc,fp).call(this,`${t}_${r}_${s}_${i}`,e)}async getFromUrl(e){return A(this,fc,fp).call(this,e,e)}async getFromBlob(e,t){const r=await t;return A(this,fc,fp).call(this,e,r)}async getFromId(e){c(this,zt)||b(this,zt,new Map);const t=c(this,zt).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){c(this,zt)||b(this,zt,new Map);let r=c(this,zt).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),r={bitmap:s.transferToImageBitmap(),id:`image_${c(this,hc)}_${mt(this,Xd)._++}`,refCounter:1,isSvg:!1},c(this,zt).set(e,r),c(this,zt).set(r.id,r),r}getSvgUrl(e){const t=c(this,zt).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;c(this,zt)||b(this,zt,new Map);const t=c(this,zt).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=i.convertToBlob()}(s=r.close)==null||s.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,hc)}_`)}};hc=new WeakMap,Xd=new WeakMap,zt=new WeakMap,fc=new WeakSet,fp=async function(e,t){c(this,zt)||b(this,zt,new Map);let r=c(this,zt).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${c(this,hc)}_${mt(this,Xd)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(r.url=t,s=await wm(t,"blob")):t instanceof File?s=r.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const i=mb._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((u,d)=>{a.onload=()=>{r.bitmap=a,r.isSvg=!0,u()},o.onload=async()=>{const h=r.svgUrl=o.result;a.src=await i?`${h}#svgView(preserveAspectRatio(none))`:h},a.onerror=o.onerror=d});o.readAsDataURL(s),await l}else r.bitmap=await createImageBitmap(s);r.refCounter=1}catch(s){console.error(s),r=null}return c(this,zt).set(e,r),r&&c(this,zt).set(r.id,r),r};let Py=mb;var yt,Hi,qd,wt;class PD{constructor(e=128){E(this,yt,[]);E(this,Hi,!1);E(this,qd);E(this,wt,-1);b(this,qd,e)}add({cmd:e,undo:t,post:r,mustExec:s,type:i=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(s&&e(),c(this,Hi))return;const l={cmd:e,undo:t,post:r,type:i};if(c(this,wt)===-1){c(this,yt).length>0&&(c(this,yt).length=0),b(this,wt,0),c(this,yt).push(l);return}if(o&&c(this,yt)[c(this,wt)].type===i){a&&(l.undo=c(this,yt)[c(this,wt)].undo),c(this,yt)[c(this,wt)]=l;return}const u=c(this,wt)+1;u===c(this,qd)?c(this,yt).splice(0,1):(b(this,wt,u),u<c(this,yt).length&&c(this,yt).splice(u)),c(this,yt).push(l)}undo(){if(c(this,wt)===-1)return;b(this,Hi,!0);const{undo:e,post:t}=c(this,yt)[c(this,wt)];e(),t==null||t(),b(this,Hi,!1),b(this,wt,c(this,wt)-1)}redo(){if(c(this,wt)<c(this,yt).length-1){b(this,wt,c(this,wt)+1),b(this,Hi,!0);const{cmd:e,post:t}=c(this,yt)[c(this,wt)];e(),t==null||t(),b(this,Hi,!1)}}hasSomethingToUndo(){return c(this,wt)!==-1}hasSomethingToRedo(){return c(this,wt)<c(this,yt).length-1}destroy(){b(this,yt,null)}}yt=new WeakMap,Hi=new WeakMap,qd=new WeakMap,wt=new WeakMap;var _g,rC;class mf{constructor(e){E(this,_g);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=en.platform;for(const[r,s,i={}]of e)for(const o of r){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:s,options:i}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(A(this,_g,rC).call(this,t));if(!r)return;const{callback:s,options:{bubbles:i=!1,args:o=[],checker:a=null}}=r;a&&!a(e,t)||(s.bind(e,...o,t)(),i||(t.stopPropagation(),t.preventDefault()))}}_g=new WeakSet,rC=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Cg=class Cg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return _D(e),me(this,"_colors",e)}convert(e){const t=ab(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,s]of this._colors)if(s.every((i,o)=>i===t[o]))return Cg._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Z.makeHexColor(...t):e}};ne(Cg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Ry=Cg;var pc,Cn,lt,Tt,gc,Is,mc,Ar,$i,vc,aa,Qr,Er,la,Yd,Kd,yc,Qd,Jr,Ui,wc,Vi,Zr,Tg,Wi,Jd,Gi,ca,Zd,eh,bt,Ae,Fs,ua,th,nh,Xi,es,Ns,rh,qn,G,pp,Ly,sC,iC,gp,oC,aC,lC,My,cC,Iy,Fy,uC,Xt,ki,dC,hC,Ny,fC,Wu,Dy;const Ul=class Ul{constructor(e,t,r,s,i,o,a,l,u,d,h){E(this,G);E(this,pc,new AbortController);E(this,Cn,null);E(this,lt,new Map);E(this,Tt,new Map);E(this,gc,null);E(this,Is,null);E(this,mc,null);E(this,Ar,new PD);E(this,$i,null);E(this,vc,0);E(this,aa,new Set);E(this,Qr,null);E(this,Er,null);E(this,la,new Set);E(this,Yd,!1);E(this,Kd,!1);E(this,yc,!1);E(this,Qd,null);E(this,Jr,null);E(this,Ui,null);E(this,wc,null);E(this,Vi,!1);E(this,Zr,null);E(this,Tg,new kD);E(this,Wi,!1);E(this,Jd,!1);E(this,Gi,null);E(this,ca,null);E(this,Zd,null);E(this,eh,null);E(this,bt,le.NONE);E(this,Ae,new Set);E(this,Fs,null);E(this,ua,null);E(this,th,null);E(this,nh,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});E(this,Xi,[0,0]);E(this,es,null);E(this,Ns,null);E(this,rh,null);E(this,qn,null);const f=this._signal=c(this,pc).signal;b(this,Ns,e),b(this,rh,t),b(this,gc,r),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:f}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:f}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:f}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:f}),s._on("setpreference",this.onSetPreference.bind(this),{signal:f}),s._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:f}),A(this,G,oC).call(this),A(this,G,uC).call(this),A(this,G,My).call(this),b(this,Is,i.annotationStorage),b(this,Qd,i.filterFactory),b(this,ua,o),b(this,wc,a||null),b(this,Yd,l),b(this,Kd,u),b(this,yc,d),b(this,eh,h||null),this.viewParameters={realScale:Lo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Ul.prototype,t=o=>c(o,Ns).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),r=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return me(this,"_keyboardManager",new mf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Ns).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&c(o,Ns).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}destroy(){var e,t,r,s;(e=c(this,qn))==null||e.resolve(),b(this,qn,null),(t=c(this,pc))==null||t.abort(),b(this,pc,null),this._signal=null;for(const i of c(this,Tt).values())i.destroy();c(this,Tt).clear(),c(this,lt).clear(),c(this,la).clear(),b(this,Cn,null),c(this,Ae).clear(),c(this,Ar).destroy(),(r=c(this,gc))==null||r.destroy(),(s=c(this,Zr))==null||s.hide(),b(this,Zr,null),c(this,Jr)&&(clearTimeout(c(this,Jr)),b(this,Jr,null)),c(this,es)&&(clearTimeout(c(this,es)),b(this,es,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,eh)}get useNewAltTextFlow(){return c(this,Kd)}get useNewAltTextWhenAddingImage(){return c(this,yc)}get hcmFilter(){return me(this,"hcmFilter",c(this,ua)?c(this,Qd).addHCMFilter(c(this,ua).foreground,c(this,ua).background):"none")}get direction(){return me(this,"direction",getComputedStyle(c(this,Ns)).direction)}get highlightColors(){return me(this,"highlightColors",c(this,wc)?new Map(c(this,wc).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return me(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){b(this,Zd,e)}editAltText(e,t=!1){var r;(r=c(this,gc))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":b(this,yc,t);break}}onPageChanging({pageNumber:e}){b(this,vc,e-1)}focusMainContainer(){c(this,Ns).focus()}findParent(e,t){for(const r of c(this,Tt).values()){const{x:s,y:i,width:o,height:a}=r.div.getBoundingClientRect();if(e>=s&&e<=s+o&&t>=i&&t<=i+a)return r}return null}disableUserSelect(e=!1){c(this,rh).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,la).add(e)}removeShouldRescale(e){c(this,la).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Lo.PDF_TO_CSS_UNITS;for(const t of c(this,la))t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:o}=t,a=t.toString(),u=A(this,G,pp).call(this,t).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;t.empty();const h=A(this,G,Ly).call(this,u),f=c(this,bt)===le.NONE,p=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(le.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&c(this,Is)&&!c(this,Is).has(e.id)&&c(this,Is).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,Vi)&&(b(this,Vi,!1),A(this,G,gp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,Ae))if(t.div.contains(e)){b(this,ca,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,ca))return;const[e,t]=c(this,ca);b(this,ca,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,G,My).call(this),A(this,G,Iy).call(this)}removeEditListeners(){A(this,G,cC).call(this),A(this,G,Fy).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of c(this,Er))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of c(this,Er))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=c(this,Cn))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of c(this,Ae)){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const i of t.items)for(const o of c(this,Er))if(o.isHandlingMimeForPasting(i.type)){o.paste(i,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(i){ue(`paste: "${i.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const s=this.currentLayer;try{const i=[];for(const l of r){const u=await s.deserialize(l);if(!u)return;i.push(u)}const o=()=>{for(const l of i)A(this,G,Ny).call(this,l);A(this,G,Dy).call(this,i)},a=()=>{for(const l of i)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(i){ue(`paste: "${i.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,bt)!==le.NONE&&!this.isEditorHandlingKeyboard&&Ul._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,Vi)&&(b(this,Vi,!1),A(this,G,gp).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(A(this,G,aC).call(this),A(this,G,Iy).call(this),A(this,G,Xt).call(this,{isEditing:c(this,bt)!==le.NONE,isEmpty:A(this,G,Wu).call(this),hasSomethingToUndo:c(this,Ar).hasSomethingToUndo(),hasSomethingToRedo:c(this,Ar).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,G,lC).call(this),A(this,G,Fy).call(this),A(this,G,Xt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,Er)){b(this,Er,e);for(const t of c(this,Er))A(this,G,ki).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Tg).id}get currentLayer(){return c(this,Tt).get(c(this,vc))}getLayer(e){return c(this,Tt).get(e)}get currentPageIndex(){return c(this,vc)}addLayer(e){c(this,Tt).set(e.pageIndex,e),c(this,Wi)?e.enable():e.disable()}removeLayer(e){c(this,Tt).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){if(c(this,bt)!==e&&!(c(this,qn)&&(await c(this,qn).promise,!c(this,qn)))){if(b(this,qn,Promise.withResolvers()),b(this,bt,e),e===le.NONE){this.setEditingState(!1),A(this,G,hC).call(this),c(this,qn).resolve();return}this.setEditingState(!0),await A(this,G,dC).call(this),this.unselectAll();for(const s of c(this,Tt).values())s.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),c(this,qn).resolve();return}for(const s of c(this,lt).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();c(this,qn).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,bt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(c(this,Er)){switch(e){case re.CREATE:this.currentLayer.addNewEditor();return;case re.HIGHLIGHT_DEFAULT_COLOR:(r=c(this,Zd))==null||r.updateColor(t);break;case re.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,th)||b(this,th,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const s of c(this,Ae))s.updateParams(e,t);for(const s of c(this,Er))s.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var i;for(const o of c(this,lt).values())o.editorType===e&&o.show(t);(((i=c(this,th))==null?void 0:i.get(re.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,G,ki).call(this,[[re.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,Jd)!==e){b(this,Jd,e);for(const t of c(this,Tt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of c(this,lt).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return c(this,lt).get(e)}addEditor(e){c(this,lt).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(c(this,Jr)&&clearTimeout(c(this,Jr)),b(this,Jr,setTimeout(()=>{this.focusMainContainer(),b(this,Jr,null)},0))),c(this,lt).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,aa).has(e.annotationElementId))&&((t=c(this,Is))==null||t.remove(e.id))}addDeletedAnnotationElement(e){c(this,aa).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,aa).has(e)}removeDeletedAnnotationElement(e){c(this,aa).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Cn)!==e&&(b(this,Cn,e),e&&A(this,G,ki).call(this,e.propertiesToUpdate))}updateUI(e){c(this,G,fC)===e&&A(this,G,ki).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Ae).has(e)){c(this,Ae).delete(e),e.unselect(),A(this,G,Xt).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Ae).add(e),e.select(),A(this,G,ki).call(this,e.propertiesToUpdate),A(this,G,Xt).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of c(this,Ae))t!==e&&t.unselect();c(this,Ae).clear(),c(this,Ae).add(e),e.select(),A(this,G,ki).call(this,e.propertiesToUpdate),A(this,G,Xt).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Ae).has(e)}get firstSelectedEditor(){return c(this,Ae).values().next().value}unselect(e){e.unselect(),c(this,Ae).delete(e),A(this,G,Xt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Ae).size!==0}get isEnterHandled(){return c(this,Ae).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,Ar).undo(),A(this,G,Xt).call(this,{hasSomethingToUndo:c(this,Ar).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,G,Wu).call(this)})}redo(){c(this,Ar).redo(),A(this,G,Xt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,Ar).hasSomethingToRedo(),isEmpty:A(this,G,Wu).call(this)})}addCommands(e){c(this,Ar).add(e),A(this,G,Xt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,G,Wu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Ae)],t=()=>{for(const s of e)s.remove()},r=()=>{for(const s of e)A(this,G,Ny).call(this,s)};this.addCommands({cmd:t,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Cn))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Cn)||this.hasSelection}selectAll(){for(const e of c(this,Ae))e.commit();A(this,G,Dy).call(this,c(this,lt).values())}unselectAll(){if(!(c(this,Cn)&&(c(this,Cn).commitOrRemove(),c(this,bt)!==le.NONE))&&this.hasSelection){for(const e of c(this,Ae))e.unselect();c(this,Ae).clear(),A(this,G,Xt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;c(this,Xi)[0]+=e,c(this,Xi)[1]+=t;const[s,i]=c(this,Xi),o=[...c(this,Ae)],a=1e3;c(this,es)&&clearTimeout(c(this,es)),b(this,es,setTimeout(()=>{b(this,es,null),c(this,Xi)[0]=c(this,Xi)[1]=0,this.addCommands({cmd:()=>{for(const l of o)c(this,lt).has(l.id)&&l.translateInPage(s,i)},undo:()=>{for(const l of o)c(this,lt).has(l.id)&&l.translateInPage(-s,-i)},mustExec:!1})},a));for(const l of o)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),b(this,Qr,new Map);for(const e of c(this,Ae))c(this,Qr).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Qr))return!1;this.disableUserSelect(!1);const e=c(this,Qr);b(this,Qr,null);let t=!1;for(const[{x:s,y:i,pageIndex:o},a]of e)a.newX=s,a.newY=i,a.newPageIndex=o,t||(t=s!==a.savedX||i!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const r=(s,i,o,a)=>{if(c(this,lt).has(s.id)){const l=c(this,Tt).get(a);l?s._setParentAndPosition(l,i,o):(s.pageIndex=a,s.x=i,s.y=o)}};return this.addCommands({cmd:()=>{for(const[s,{newX:i,newY:o,newPageIndex:a}]of e)r(s,i,o,a)},undo:()=>{for(const[s,{savedX:i,savedY:o,savedPageIndex:a}]of e)r(s,i,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Qr))for(const r of c(this,Qr).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Ae).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Cn)===e}getActive(){return c(this,Cn)}getMode(){return c(this,bt)}get imageManager(){return me(this,"imageManager",new Py)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,d=t.rangeCount;u<d;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:s,width:i,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(u,d,h,f)=>({x:(d-s)/o,y:1-(u+h-r)/i,width:f/o,height:h/i});break;case"180":a=(u,d,h,f)=>({x:1-(u+h-r)/i,y:1-(d+f-s)/o,width:h/i,height:f/o});break;case"270":a=(u,d,h,f)=>({x:1-(d+f-s)/o,y:(u-r)/i,width:f/o,height:h/i});break;default:a=(u,d,h,f)=>({x:(u-r)/i,y:(d-s)/o,width:h/i,height:f/o});break}const l=[];for(let u=0,d=t.rangeCount;u<d;u++){const h=t.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:v,height:g}of h.getClientRects())v===0||g===0||l.push(a(f,p,v,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,mc)||b(this,mc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,mc))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=c(this,mc))==null?void 0:s.get(e.data.id);if(!t)return;const r=c(this,Is).getRawValue(t);r&&(c(this,bt)===le.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};pc=new WeakMap,Cn=new WeakMap,lt=new WeakMap,Tt=new WeakMap,gc=new WeakMap,Is=new WeakMap,mc=new WeakMap,Ar=new WeakMap,$i=new WeakMap,vc=new WeakMap,aa=new WeakMap,Qr=new WeakMap,Er=new WeakMap,la=new WeakMap,Yd=new WeakMap,Kd=new WeakMap,yc=new WeakMap,Qd=new WeakMap,Jr=new WeakMap,Ui=new WeakMap,wc=new WeakMap,Vi=new WeakMap,Zr=new WeakMap,Tg=new WeakMap,Wi=new WeakMap,Jd=new WeakMap,Gi=new WeakMap,ca=new WeakMap,Zd=new WeakMap,eh=new WeakMap,bt=new WeakMap,Ae=new WeakMap,Fs=new WeakMap,ua=new WeakMap,th=new WeakMap,nh=new WeakMap,Xi=new WeakMap,es=new WeakMap,Ns=new WeakMap,rh=new WeakMap,qn=new WeakMap,G=new WeakSet,pp=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Ly=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of c(this,Tt).values())if(r.hasTextLayer(e))return r;return null},sC=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=A(this,G,pp).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(r);s&&(c(this,Zr)||b(this,Zr,new CD(this)),c(this,Zr).show(r,s,this.direction==="ltr"))},iC=function(){var i,o,a;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Fs)&&((i=c(this,Zr))==null||i.hide(),b(this,Fs,null),A(this,G,Xt).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,Fs))return;const s=A(this,G,pp).call(this,e).closest(".textLayer");if(!s){c(this,Fs)&&((o=c(this,Zr))==null||o.hide(),b(this,Fs,null),A(this,G,Xt).call(this,{hasSelectedText:!1}));return}if((a=c(this,Zr))==null||a.hide(),b(this,Fs,t),A(this,G,Xt).call(this,{hasSelectedText:!0}),!(c(this,bt)!==le.HIGHLIGHT&&c(this,bt)!==le.NONE)&&(c(this,bt)===le.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),b(this,Vi,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=c(this,bt)===le.HIGHLIGHT?A(this,G,Ly).call(this,s):null;l==null||l.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&A(this,G,gp).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},gp=function(e=""){c(this,bt)===le.HIGHLIGHT?this.highlightSelection(e):c(this,Yd)&&A(this,G,sC).call(this)},oC=function(){document.addEventListener("selectionchange",A(this,G,iC).bind(this),{signal:this._signal})},aC=function(){if(c(this,Ui))return;b(this,Ui,new AbortController);const e=this.combinedSignal(c(this,Ui));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},lC=function(){var e;(e=c(this,Ui))==null||e.abort(),b(this,Ui,null)},My=function(){if(c(this,Gi))return;b(this,Gi,new AbortController);const e=this.combinedSignal(c(this,Gi));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},cC=function(){var e;(e=c(this,Gi))==null||e.abort(),b(this,Gi,null)},Iy=function(){if(c(this,$i))return;b(this,$i,new AbortController);const e=this.combinedSignal(c(this,$i));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Fy=function(){var e;(e=c(this,$i))==null||e.abort(),b(this,$i,null)},uC=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Xt=function(e){Object.entries(e).some(([r,s])=>c(this,nh)[r]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,nh),e)}),c(this,bt)===le.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,G,ki).call(this,[[re.HIGHLIGHT_FREE,!0]]))},ki=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},dC=async function(){if(!c(this,Wi)){b(this,Wi,!0);const e=[];for(const t of c(this,Tt).values())e.push(t.enable());await Promise.all(e);for(const t of c(this,lt).values())t.enable()}},hC=function(){if(this.unselectAll(),c(this,Wi)){b(this,Wi,!1);for(const e of c(this,Tt).values())e.disable();for(const e of c(this,lt).values())e.disable()}},Ny=function(e){const t=c(this,Tt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},fC=function(){let e=null;for(e of c(this,Ae));return e},Wu=function(){if(c(this,lt).size===0)return!0;if(c(this,lt).size===1)for(const e of c(this,lt).values())return e.isEmpty();return!1},Dy=function(e){for(const t of c(this,Ae))t.unselect();c(this,Ae).clear();for(const t of e)t.isEmpty()||(c(this,Ae).add(t),t.select());A(this,G,Xt).call(this,{hasSelectedEditor:this.hasSelection})},ne(Ul,"TRANSLATE_SMALL",1),ne(Ul,"TRANSLATE_BIG",10);let ll=Ul;var xt,ts,Sr,bc,ns,Tn,xc,rs,un,Ds,da,ss,qi,Dr,Gu,mp;const qt=class qt{constructor(e){E(this,Dr);E(this,xt,null);E(this,ts,!1);E(this,Sr,null);E(this,bc,null);E(this,ns,null);E(this,Tn,null);E(this,xc,!1);E(this,rs,null);E(this,un,null);E(this,Ds,null);E(this,da,null);E(this,ss,!1);b(this,un,e),b(this,ss,e._uiManager.useNewAltTextFlow),c(qt,qi)||b(qt,qi,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){qt._l10n??(qt._l10n=e)}async render(){const e=b(this,Sr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=b(this,bc,document.createElement("span"));e.append(t),c(this,ss)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(qt,qi).missing),t.setAttribute("data-l10n-id",c(qt,qi)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=c(this,un)._uiManager._signal;e.addEventListener("contextmenu",lr,{signal:r}),e.addEventListener("pointerdown",i=>i.stopPropagation(),{signal:r});const s=i=>{i.preventDefault(),c(this,un)._uiManager.editAltText(c(this,un)),c(this,ss)&&c(this,un)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,Dr,Gu)}})};return e.addEventListener("click",s,{capture:!0,signal:r}),e.addEventListener("keydown",i=>{i.target===e&&i.key==="Enter"&&(b(this,xc,!0),s(i))},{signal:r}),await A(this,Dr,mp).call(this),e}finish(){c(this,Sr)&&(c(this,Sr).focus({focusVisible:c(this,xc)}),b(this,xc,!1))}isEmpty(){return c(this,ss)?c(this,xt)===null:!c(this,xt)&&!c(this,ts)}hasData(){return c(this,ss)?c(this,xt)!==null||!!c(this,Ds):this.isEmpty()}get guessedText(){return c(this,Ds)}async setGuessedText(e){c(this,xt)===null&&(b(this,Ds,e),b(this,da,await qt._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),A(this,Dr,mp).call(this))}toggleAltTextBadge(e=!1){var t;if(!c(this,ss)||c(this,xt)){(t=c(this,rs))==null||t.remove(),b(this,rs,null);return}if(!c(this,rs)){const r=b(this,rs,document.createElement("div"));r.className="noAltTextBadge",c(this,un).div.append(r)}c(this,rs).classList.toggle("hidden",!e)}serialize(e){let t=c(this,xt);return!e&&c(this,Ds)===t&&(t=c(this,da)),{altText:t,decorative:c(this,ts),guessedText:c(this,Ds),textWithDisclaimer:c(this,da)}}get data(){return{altText:c(this,xt),decorative:c(this,ts)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:s,cancel:i=!1}){r&&(b(this,Ds,r),b(this,da,s)),!(c(this,xt)===e&&c(this,ts)===t)&&(i||(b(this,xt,e),b(this,ts,t)),A(this,Dr,mp).call(this))}toggle(e=!1){c(this,Sr)&&(!e&&c(this,Tn)&&(clearTimeout(c(this,Tn)),b(this,Tn,null)),c(this,Sr).disabled=!e)}shown(){c(this,un)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,Dr,Gu)}})}destroy(){var e,t;(e=c(this,Sr))==null||e.remove(),b(this,Sr,null),b(this,bc,null),b(this,ns,null),(t=c(this,rs))==null||t.remove(),b(this,rs,null)}};xt=new WeakMap,ts=new WeakMap,Sr=new WeakMap,bc=new WeakMap,ns=new WeakMap,Tn=new WeakMap,xc=new WeakMap,rs=new WeakMap,un=new WeakMap,Ds=new WeakMap,da=new WeakMap,ss=new WeakMap,qi=new WeakMap,Dr=new WeakSet,Gu=function(){return c(this,xt)&&"added"||c(this,xt)===null&&this.guessedText&&"review"||"missing"},mp=async function(){var s,i,o;const e=c(this,Sr);if(!e)return;if(c(this,ss)){if(e.classList.toggle("done",!!c(this,xt)),e.setAttribute("data-l10n-id",c(qt,qi)[c(this,Dr,Gu)]),(s=c(this,bc))==null||s.setAttribute("data-l10n-id",c(qt,qi)[`${c(this,Dr,Gu)}-label`]),!c(this,xt)){(i=c(this,ns))==null||i.remove();return}}else{if(!c(this,xt)&&!c(this,ts)){e.classList.remove("done"),(o=c(this,ns))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=c(this,ns);if(!t){b(this,ns,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${c(this,un).id}`;const a=100,l=c(this,un)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(c(this,Tn)),b(this,Tn,null)},{once:!0}),e.addEventListener("mouseenter",()=>{b(this,Tn,setTimeout(()=>{b(this,Tn,null),c(this,ns).classList.add("show"),c(this,un)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;c(this,Tn)&&(clearTimeout(c(this,Tn)),b(this,Tn,null)),(u=c(this,ns))==null||u.classList.remove("show")},{signal:l})}c(this,ts)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=c(this,xt)),t.parentNode||e.append(t);const r=c(this,un).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},E(qt,qi,null),ne(qt,"_l10n",null);let wg=qt;var ha,_r,$e,Ac,fa,kt,pa,Yi,sh,ga,Ki,ih,ma,Os,is,Ec,Sc,Yn,oh,kg,ce,Oy,ah,jy,zy,pC,gC,By,Hy,$y,mC,Uy,vC,yC,wC,Vy,Xu;const xe=class xe{constructor(e){E(this,ce);E(this,ha,null);E(this,_r,null);E(this,$e,null);E(this,Ac,!1);E(this,fa,!1);E(this,kt,null);E(this,pa,null);E(this,Yi,null);E(this,sh,"");E(this,ga,!1);E(this,Ki,null);E(this,ih,!1);E(this,ma,!1);E(this,Os,!1);E(this,is,null);E(this,Ec,0);E(this,Sc,0);E(this,Yn,null);ne(this,"_editToolbar",null);ne(this,"_initialOptions",Object.create(null));ne(this,"_initialData",null);ne(this,"_isVisible",!0);ne(this,"_uiManager",null);ne(this,"_focusEventsAllowed",!0);E(this,oh,!1);E(this,kg,xe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:s,pageX:i,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,s],this.pageTranslation=[i,o];const[a,l]=this.parentDimensions;this.x=e.x/a,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=xe.prototype._resizeWithKeyboard,t=ll.TRANSLATE_SMALL,r=ll.TRANSLATE_BIG;return me(this,"_resizerKeyboardManager",new mf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],xe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return me(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new RD({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(xe._l10n??(xe._l10n=e),xe._l10nResizer||(xe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),xe._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);xe._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ne("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,oh)}set _isDraggable(e){var t;b(this,oh,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,kg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):A(this,ce,Xu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,ga)?b(this,ga,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,s){const[i,o]=this.parentDimensions;[r,s]=this.screenToPageTranslation(r,s),this.x=(e+r)/i,this.y=(t+s)/o,this.fixAndSetPosition()}translate(e,t){A(this,ce,Oy).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,Ki)||b(this,Ki,[this.x,this.y]),A(this,ce,Oy).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){c(this,Ki)||b(this,Ki,[this.x,this.y]);const[r,s]=this.parentDimensions;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:u,y:d}=this.div.getBoundingClientRect();this.parent.findNewParent(this,u,d)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:o}=this;const[a,l]=this.getBaseTranslation();i+=a,o+=l,this.div.style.left=`${(100*i).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,Ki)&&(c(this,Ki)[0]!==this.x||c(this,Ki)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=xe,s=r/e,i=r/t;switch(this.rotation){case 90:return[-s,i];case 180:return[s,i];case 270:return[s,-i];default:return[-s,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[t,r]=this.pageDimensions;let{x:s,y:i,width:o,height:a}=this;if(o*=t,a*=r,s*=t,i*=r,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-o,s)),i=Math.max(0,Math.min(r-a,i));break;case 90:s=Math.max(0,Math.min(t-a,s)),i=Math.min(r,Math.max(o,i));break;case 180:s=Math.min(t,Math.max(o,s)),i=Math.min(r,Math.max(a,i));break;case 270:s=Math.min(t,Math.max(a,s)),i=Math.max(0,Math.min(r-o,i));break}this.x=s/=t,this.y=i/=r;const[l,u]=this.getBaseTranslation();s+=l,i+=u;const{style:d}=this.div;d.left=`${(100*s).toFixed(2)}%`,d.top=`${(100*i).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return A(r=xe,ah,jy).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return A(r=xe,ah,jy).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,s]=this.parentDimensions;this.div.style.width=`${(100*e/r).toFixed(2)}%`,c(this,fa)||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,s=r.endsWith("%"),i=!c(this,fa)&&t.endsWith("%");if(s&&i)return;const[o,a]=this.parentDimensions;s||(e.width=`${(100*parseFloat(r)/o).toFixed(2)}%`),!c(this,fa)&&!i&&(e.height=`${(100*parseFloat(t)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,$e))==null||e.finish()}async addEditToolbar(){return this._editToolbar||c(this,ma)?this._editToolbar:(this._editToolbar=new Ty(this),this.div.append(this._editToolbar.render()),c(this,$e)&&await this._editToolbar.addAltText(c(this,$e)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=c(this,$e))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,$e)||(wg.initialize(xe._l10n),b(this,$e,new wg(this)),c(this,ha)&&(c(this,$e).data=c(this,ha),b(this,ha,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,$e))==null?void 0:e.data}set altTextData(e){c(this,$e)&&(c(this,$e).data=e)}get guessedAltText(){var e;return(e=c(this,$e))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=c(this,$e))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=c(this,$e))==null?void 0:t.serialize(e)}hasAltText(){return!!c(this,$e)&&!c(this,$e).isEmpty()}hasAltTextData(){var e;return((e=c(this,$e))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,Ac)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),A(this,ce,Uy).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),yg(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=en.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(b(this,ga,!0),this._isDraggable){A(this,ce,mC).call(this,e);return}A(this,ce,$y).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){c(this,is)&&clearTimeout(c(this,is)),b(this,is,setTimeout(()=>{var e;b(this,is,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){const s=this.parentScale,[i,o]=this.pageDimensions,[a,l]=this.pageTranslation,u=e/s,d=t/s,h=this.x*i,f=this.y*o,p=this.width*i,v=this.height*o;switch(r){case 0:return[h+u+a,o-f-d-v+l,h+u+p+a,o-f-d+l];case 90:return[h+d+a,o-f+u+l,h+d+v+a,o-f+u+p+l];case 180:return[h-u-p+a,o-f+d+l,h-u+a,o-f+d+v+l];case 270:return[h-d-v+a,o-f-u-p+l,h-d+a,o-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,s,i,o]=e,a=i-r,l=o-s;switch(this.rotation){case 0:return[r,t-o,a,l];case 90:return[r,t-s,l,a];case 180:return[i,t-s,a,l];case 270:return[i,t-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){b(this,ma,!0)}disableEditMode(){b(this,ma,!1)}isInEditMode(){return c(this,ma)}shouldGetKeyboardEvents(){return c(this,Os)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){A(this,ce,Uy).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Ne("An editor must be serializable")}static async deserialize(e,t,r){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});s.rotation=e.rotation,b(s,ha,e.accessibilityData);const[i,o]=s.pageDimensions,[a,l,u,d]=s.getRectInCurrentCoords(e.rect,o);return s.x=a/i,s.y=l/o,s.width=u/i,s.height=d/o,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=c(this,Yi))==null||e.abort(),b(this,Yi,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,is)&&(clearTimeout(c(this,is)),b(this,is,null)),A(this,ce,Xu).call(this),this.removeEditToolbar(),c(this,Yn)){for(const t of c(this,Yn).values())clearTimeout(t);b(this,Yn,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,ce,pC).call(this),c(this,kt).classList.remove("hidden"),yg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),b(this,pa,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,kt).children;if(!c(this,_r)){b(this,_r,Array.from(t));const o=A(this,ce,vC).bind(this),a=A(this,ce,yC).bind(this),l=this._uiManager._signal;for(const u of c(this,_r)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",o,{signal:l}),u.addEventListener("blur",a,{signal:l}),u.addEventListener("focus",A(this,ce,wC).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",xe._l10nResizer[d])}}const r=c(this,_r)[0];let s=0;for(const o of t){if(o===r)break;s++}const i=(360-this.rotation+this.parentRotation)%360/90*(c(this,_r).length/4);if(i!==s){if(i<s)for(let a=0;a<s-i;a++)c(this,kt).append(c(this,kt).firstChild);else if(i>s)for(let a=0;a<i-s;a++)c(this,kt).firstChild.before(c(this,kt).lastChild);let o=0;for(const a of t){const u=c(this,_r)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",xe._l10nResizer[u])}}A(this,ce,Vy).call(this,0),b(this,Os,!0),c(this,kt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,Os)&&A(this,ce,Hy).call(this,c(this,sh),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){A(this,ce,Xu).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,i;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((i=this._editToolbar)==null||i.show())});return}(t=this._editToolbar)==null||t.show(),(r=c(this,$e))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,s,i;(e=c(this,kt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(i=c(this,$e))==null||i.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,ih)}set isEditing(e){b(this,ih,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){b(this,fa,!0);const r=e/t,{style:s}=this.div;s.aspectRatio=r,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,Yn)||b(this,Yn,new Map);const{action:r}=e;let s=c(this,Yn).get(r);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),c(this,Yn).delete(r),c(this,Yn).size===0&&b(this,Yn,null)},xe._telemetryTimeout),c(this,Yn).set(r,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),b(this,Ac,!1)}disable(){this.div&&(this.div.tabIndex=-1),b(this,Ac,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};ha=new WeakMap,_r=new WeakMap,$e=new WeakMap,Ac=new WeakMap,fa=new WeakMap,kt=new WeakMap,pa=new WeakMap,Yi=new WeakMap,sh=new WeakMap,ga=new WeakMap,Ki=new WeakMap,ih=new WeakMap,ma=new WeakMap,Os=new WeakMap,is=new WeakMap,Ec=new WeakMap,Sc=new WeakMap,Yn=new WeakMap,oh=new WeakMap,kg=new WeakMap,ce=new WeakSet,Oy=function([e,t],r,s){[r,s]=this.screenToPageTranslation(r,s),this.x+=r/e,this.y+=s/t,this.fixAndSetPosition()},ah=new WeakSet,jy=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},zy=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},pC=function(){if(c(this,kt))return;b(this,kt,document.createElement("div")),c(this,kt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const s=document.createElement("div");c(this,kt).append(s),s.classList.add("resizer",r),s.setAttribute("data-resizer-name",r),s.addEventListener("pointerdown",A(this,ce,gC).bind(this,r),{signal:t}),s.addEventListener("contextmenu",lr,{signal:t}),s.tabIndex=-1}this.div.prepend(c(this,kt))},gC=function(e,t){var v;t.preventDefault();const{isMac:r}=en.platform;if(t.button!==0||t.ctrlKey&&r)return;(v=c(this,$e))==null||v.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const i=new AbortController,o=this._uiManager.combinedSignal(i);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,ce,Hy).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("contextmenu",lr,{signal:o});const a=this.x,l=this.y,u=this.width,d=this.height,h=this.parent.div.style.cursor,f=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var g;i.abort(),this.parent.togglePointerEvents(!0),(g=c(this,$e))==null||g.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=h,this.div.style.cursor=f,A(this,ce,By).call(this,a,l,u,d)};window.addEventListener("pointerup",p,{signal:o}),window.addEventListener("blur",p,{signal:o})},By=function(e,t,r,s){const i=this.x,o=this.y,a=this.width,l=this.height;i===e&&o===t&&a===r&&l===s||this.addCommands({cmd:()=>{this.width=a,this.height=l,this.x=i,this.y=o;const[u,d]=this.parentDimensions;this.setDims(u*a,d*l),this.fixAndSetPosition()},undo:()=>{this.width=r,this.height=s,this.x=e,this.y=t;const[u,d]=this.parentDimensions;this.setDims(u*r,d*s),this.fixAndSetPosition()},mustExec:!0})},Hy=function(e,t){const[r,s]=this.parentDimensions,i=this.x,o=this.y,a=this.width,l=this.height,u=xe.MIN_SIZE/r,d=xe.MIN_SIZE/s,h=O=>Math.round(O*1e4)/1e4,f=A(this,ce,zy).call(this,this.rotation),p=(O,L)=>[f[0]*O+f[2]*L,f[1]*O+f[3]*L],v=A(this,ce,zy).call(this,360-this.rotation),g=(O,L)=>[v[0]*O+v[2]*L,v[1]*O+v[3]*L];let w,m,y=!1,x=!1;switch(e){case"topLeft":y=!0,w=(O,L)=>[0,0],m=(O,L)=>[O,L];break;case"topMiddle":w=(O,L)=>[O/2,0],m=(O,L)=>[O/2,L];break;case"topRight":y=!0,w=(O,L)=>[O,0],m=(O,L)=>[0,L];break;case"middleRight":x=!0,w=(O,L)=>[O,L/2],m=(O,L)=>[0,L/2];break;case"bottomRight":y=!0,w=(O,L)=>[O,L],m=(O,L)=>[0,0];break;case"bottomMiddle":w=(O,L)=>[O/2,L],m=(O,L)=>[O/2,0];break;case"bottomLeft":y=!0,w=(O,L)=>[0,L],m=(O,L)=>[O,0];break;case"middleLeft":x=!0,w=(O,L)=>[0,L/2],m=(O,L)=>[O,L/2];break}const S=w(a,l),C=m(a,l);let T=p(...C);const k=h(i+T[0]),R=h(o+T[1]);let M=1,I=1,[D,j]=this.screenToPageTranslation(t.movementX,t.movementY);if([D,j]=g(D/r,j/s),y){const O=Math.hypot(a,l);M=I=Math.max(Math.min(Math.hypot(C[0]-S[0]-D,C[1]-S[1]-j)/O,1/a,1/l),u/a,d/l)}else x?M=Math.max(u,Math.min(1,Math.abs(C[0]-S[0]-D)))/a:I=Math.max(d,Math.min(1,Math.abs(C[1]-S[1]-j)))/l;const H=h(a*M),F=h(l*I);T=p(...m(H,F));const W=k-T[0],B=R-T[1];this.width=H,this.height=F,this.x=W,this.y=B,this.setDims(r*H,s*F),this.fixAndSetPosition()},$y=function(e){const{isMac:t}=en.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},mC=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const r=new AbortController,s=this._uiManager.combinedSignal(r);if(t){this.div.classList.add("moving"),b(this,Ec,e.clientX),b(this,Sc,e.clientY);const o=a=>{const{clientX:l,clientY:u}=a,[d,h]=this.screenToPageTranslation(l-c(this,Ec),u-c(this,Sc));b(this,Ec,l),b(this,Sc,u),this._uiManager.dragSelectedEditors(d,h)};window.addEventListener("pointermove",o,{passive:!0,capture:!0,signal:s})}const i=()=>{r.abort(),t&&this.div.classList.remove("moving"),b(this,ga,!1),this._uiManager.endDragSession()||A(this,ce,$y).call(this,e)};window.addEventListener("pointerup",i,{signal:s}),window.addEventListener("blur",i,{signal:s})},Uy=function(){if(c(this,Yi)||!this.div)return;b(this,Yi,new AbortController);const e=this._uiManager.combinedSignal(c(this,Yi));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},vC=function(e){xe._resizerKeyboardManager.exec(this,e)},yC=function(e){var t;c(this,Os)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,kt)&&A(this,ce,Xu).call(this)},wC=function(e){b(this,sh,c(this,Os)?e:"")},Vy=function(e){if(c(this,_r))for(const t of c(this,_r))t.tabIndex=e},Xu=function(){if(b(this,Os,!1),A(this,ce,Vy).call(this,-1),c(this,pa)){const{savedX:e,savedY:t,savedWidth:r,savedHeight:s}=c(this,pa);A(this,ce,By).call(this,e,t,r,s),b(this,pa,null)}},E(xe,ah),ne(xe,"_l10n",null),ne(xe,"_l10nResizer",null),ne(xe,"_borderLineWidth",-1),ne(xe,"_colorManager",new Ry),ne(xe,"_zIndex",1),ne(xe,"_telemetryTimeout",1e3);let Se=xe;class RD extends Se{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const wA=3285377520,Gn=4294901760,Gr=65535;class bC{constructor(e){this.h1=e?e&4294967295:wA,this.h2=e?e&4294967295:wA}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let g=0,w=e.length;g<w;g++){const m=e.charCodeAt(g);m<=255?t[r++]=m:(t[r++]=m>>>8,t[r++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=r>>2,i=r-s*4,o=new Uint32Array(t.buffer,0,s);let a=0,l=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&Gr,v=f&Gr;for(let g=0;g<s;g++)g&1?(a=o[g],a=a*h&Gn|a*p&Gr,a=a<<15|a>>>17,a=a*f&Gn|a*v&Gr,u^=a,u=u<<13|u>>>19,u=u*5+3864292196):(l=o[g],l=l*h&Gn|l*p&Gr,l=l<<15|l>>>17,l=l*f&Gn|l*v&Gr,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(a=0,i){case 3:a^=t[s*4+2]<<16;case 2:a^=t[s*4+1]<<8;case 1:a^=t[s*4],a=a*h&Gn|a*p&Gr,a=a<<15|a>>>17,a=a*f&Gn|a*v&Gr,s&1?u^=a:d^=a}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Gn|e*36045&Gr,t=t*4283543511&Gn|((t<<16|e>>>16)*2950163797&Gn)>>>16,e^=t>>>1,e=e*444984403&Gn|e*60499&Gr,t=t*3301882366&Gn|((t<<16|e>>>16)*3120437893&Gn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Wy=Object.freeze({map:null,hash:"",transfer:void 0});var va,ya,At,Pg,xC;class lb{constructor(){E(this,Pg);E(this,va,!1);E(this,ya,null);E(this,At,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=c(this,At).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return c(this,At).get(e)}remove(e){if(c(this,At).delete(e),c(this,At).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of c(this,At).values())if(t instanceof Se)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=c(this,At).get(e);let s=!1;if(r!==void 0)for(const[i,o]of Object.entries(t))r[i]!==o&&(s=!0,r[i]=o);else s=!0,c(this,At).set(e,t);s&&A(this,Pg,xC).call(this),t instanceof Se&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return c(this,At).has(e)}getAll(){return c(this,At).size>0?nb(c(this,At)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return c(this,At).size}resetModified(){c(this,va)&&(b(this,va,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new AC(this)}get serializable(){if(c(this,At).size===0)return Wy;const e=new Map,t=new bC,r=[],s=Object.create(null);let i=!1;for(const[o,a]of c(this,At)){const l=a instanceof Se?a.serialize(!1,s):a;l&&(e.set(o,l),t.update(`${o}:${JSON.stringify(l)}`),i||(i=!!l.bitmap))}if(i)for(const o of e.values())o.bitmap&&r.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:Wy}get editorStats(){let e=null;const t=new Map;for(const r of c(this,At).values()){if(!(r instanceof Se))continue;const s=r.telemetryFinalData;if(!s)continue;const{type:i}=s;t.has(i)||t.set(i,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[i]||(e[i]=new Map);for(const[a,l]of Object.entries(s)){if(a==="type")continue;let u=o.get(a);u||(u=new Map,o.set(a,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[r,s]of t)e[r]=s.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){b(this,ya,null)}get modifiedIds(){if(c(this,ya))return c(this,ya);const e=[];for(const t of c(this,At).values())!(t instanceof Se)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return b(this,ya,{ids:new Set(e),hash:e.join(",")})}}va=new WeakMap,ya=new WeakMap,At=new WeakMap,Pg=new WeakSet,xC=function(){c(this,va)||(b(this,va,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var lh;class AC extends lb{constructor(t){super();E(this,lh);const{map:r,hash:s,transfer:i}=t.serializable,o=structuredClone(r,i?{transfer:i}:null);b(this,lh,{map:o,hash:s,transfer:i})}get print(){Ne("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,lh)}get modifiedIds(){return me(this,"modifiedIds",{ids:new Set,hash:""})}}lh=new WeakMap;var _c;class LD{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){E(this,_c,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,_c).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||c(this,_c).has(e.loadedName))){if(ft(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:i}=e,o=new FontFace(r,s,i);this.addNativeFontFace(o);try{await o.load(),c(this,_c).add(r),t==null||t(e)}catch{ue(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ne("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(s){throw ue(`Failed to load font '${r.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const s=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return me(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Wt||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),me(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(ft(!s.done,"completeRequest() cannot be called twice."),s.done=!0;r.length>0&&r[0].done;){const i=r.shift();setTimeout(i.callback,0)}}const{loadingRequests:r}=this,s={done:!1,complete:t,callback:e};return r.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return me(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(S,C){return S.charCodeAt(C)<<24|S.charCodeAt(C+1)<<16|S.charCodeAt(C+2)<<8|S.charCodeAt(C+3)&255}function s(S,C,T,k){const R=S.substring(0,C),M=S.substring(C+T);return R+k+M}let i,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let u=0;function d(S,C){if(++u>30){ue("Load test font never loaded."),C();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){C();return}setTimeout(d.bind(null,S,C))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=s(f,976,h.length,h);const v=16,g=1482184792;let w=r(f,v);for(i=0,o=h.length-3;i<o;i+=4)w=w-g+r(h,i)|0;i<h.length&&(w=w-g+r(h+"XXX",i)|0),f=s(f,v,4,gD(w));const m=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${h}";src:${m}}`;this.insertRule(y);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const S of[e.loadedName,h]){const C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=S,x.append(C)}this._document.body.append(x),d(h,()=>{x.remove(),t.complete()})}}_c=new WeakMap;class MD{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=r}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${xD(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let r;try{r=e.get(this.loadedName+"_path_"+t)}catch(i){ue(`getPathGenerator - ignoring character: "${i}".`)}if(!Array.isArray(r)||r.length===0)return this.compiledGlyphs[t]=function(i,o){};const s=[];for(let i=0,o=r.length;i<o;)switch(r[i++]){case Ss.BEZIER_CURVE_TO:{const[a,l,u,d,h,f]=r.slice(i,i+6);s.push(p=>p.bezierCurveTo(a,l,u,d,h,f)),i+=6}break;case Ss.MOVE_TO:{const[a,l]=r.slice(i,i+2);s.push(u=>u.moveTo(a,l)),i+=2}break;case Ss.LINE_TO:{const[a,l]=r.slice(i,i+2);s.push(u=>u.lineTo(a,l)),i+=2}break;case Ss.QUADRATIC_CURVE_TO:{const[a,l,u,d]=r.slice(i,i+4);s.push(h=>h.quadraticCurveTo(a,l,u,d)),i+=4}break;case Ss.RESTORE:s.push(a=>a.restore());break;case Ss.SAVE:s.push(a=>a.save());break;case Ss.SCALE:ft(s.length===2,"Scale command is only valid at the third position.");break;case Ss.TRANSFORM:{const[a,l,u,d,h,f]=r.slice(i,i+6);s.push(p=>p.transform(a,l,u,d,h,f)),i+=6}break;case Ss.TRANSLATE:{const[a,l]=r.slice(i,i+2);s.push(u=>u.translate(a,l)),i+=2}break}return this.compiledGlyphs[t]=function(o,a){s[0](o),s[1](o),o.scale(a,-a);for(let l=2,u=s.length;l<u;l++)s[l](o)}}}var ch;class EC{constructor({enableHWA:e=!1}){E(this,ch,!1);b(this,ch,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!c(this,ch)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ne("Abstract method `_createCanvas` called.")}}ch=new WeakMap;class ID extends EC{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class SC{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ne("Abstract method `_fetch` called.")}}class _C extends SC{async _fetch(e){const t=await wm(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):ym(t)}}class CC{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,s,i){return"none"}destroy(e=!1){}}var wa,ba,os,js,Bt,Rg,xa,q,Ot,El,Sl,vp,_l,TC,Gy,Cl,qu,Yu,Xy,Ku;class FD extends CC{constructor({docId:t,ownerDocument:r=globalThis.document}){super();E(this,q);E(this,wa);E(this,ba);E(this,os);E(this,js);E(this,Bt);E(this,Rg);E(this,xa,0);b(this,js,t),b(this,Bt,r)}addFilter(t){if(!t)return"none";let r=c(this,q,Ot).get(t);if(r)return r;const[s,i,o]=A(this,q,vp).call(this,t),a=t.length===1?s:`${s}${i}${o}`;if(r=c(this,q,Ot).get(a),r)return c(this,q,Ot).set(t,r),r;const l=`g_${c(this,js)}_transfer_map_${mt(this,xa)._++}`,u=A(this,q,_l).call(this,l);c(this,q,Ot).set(t,u),c(this,q,Ot).set(a,u);const d=A(this,q,Cl).call(this,l);return A(this,q,Yu).call(this,s,i,o,d),u}addHCMFilter(t,r){var v;const s=`${t}-${r}`,i="base";let o=c(this,q,El).get(i);if((o==null?void 0:o.key)===s||(o?((v=o.filter)==null||v.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},c(this,q,El).set(i,o)),!t||!r))return o.url;const a=A(this,q,Ku).call(this,t);t=Z.makeHexColor(...a);const l=A(this,q,Ku).call(this,r);if(r=Z.makeHexColor(...l),c(this,q,Sl).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return o.url;const u=new Array(256);for(let g=0;g<=255;g++){const w=g/255;u[g]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const d=u.join(","),h=`g_${c(this,js)}_hcm_filter`,f=o.filter=A(this,q,Cl).call(this,h);A(this,q,Yu).call(this,d,d,d,f),A(this,q,Gy).call(this,f);const p=(g,w)=>{const m=a[g]/255,y=l[g]/255,x=new Array(w+1);for(let S=0;S<=w;S++)x[S]=m+S/w*(y-m);return x.join(",")};return A(this,q,Yu).call(this,p(0,5),p(1,5),p(2,5),f),o.url=A(this,q,_l).call(this,h),o.url}addAlphaFilter(t){let r=c(this,q,Ot).get(t);if(r)return r;const[s]=A(this,q,vp).call(this,[t]),i=`alpha_${s}`;if(r=c(this,q,Ot).get(i),r)return c(this,q,Ot).set(t,r),r;const o=`g_${c(this,js)}_alpha_map_${mt(this,xa)._++}`,a=A(this,q,_l).call(this,o);c(this,q,Ot).set(t,a),c(this,q,Ot).set(i,a);const l=A(this,q,Cl).call(this,o);return A(this,q,Xy).call(this,s,l),a}addLuminosityFilter(t){let r=c(this,q,Ot).get(t||"luminosity");if(r)return r;let s,i;if(t?([s]=A(this,q,vp).call(this,[t]),i=`luminosity_${s}`):i="luminosity",r=c(this,q,Ot).get(i),r)return c(this,q,Ot).set(t,r),r;const o=`g_${c(this,js)}_luminosity_map_${mt(this,xa)._++}`,a=A(this,q,_l).call(this,o);c(this,q,Ot).set(t,a),c(this,q,Ot).set(i,a);const l=A(this,q,Cl).call(this,o);return A(this,q,TC).call(this,l),t&&A(this,q,Xy).call(this,s,l),a}addHighlightHCMFilter(t,r,s,i,o){var y;const a=`${r}-${s}-${i}-${o}`;let l=c(this,q,El).get(t);if((l==null?void 0:l.key)===a||(l?((y=l.filter)==null||y.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},c(this,q,El).set(t,l)),!r||!s))return l.url;const[u,d]=[r,s].map(A(this,q,Ku).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,v]=[i,o].map(A(this,q,Ku).bind(this));f<h&&([h,f,p,v]=[f,h,v,p]),c(this,q,Sl).style.color="";const g=(x,S,C)=>{const T=new Array(256),k=(f-h)/C,R=x/255,M=(S-x)/(255*C);let I=0;for(let D=0;D<=C;D++){const j=Math.round(h+D*k),H=R+D*M;for(let F=I;F<=j;F++)T[F]=H;I=j+1}for(let D=I;D<256;D++)T[D]=T[I-1];return T.join(",")},w=`g_${c(this,js)}_hcm_${t}_filter`,m=l.filter=A(this,q,Cl).call(this,w);return A(this,q,Gy).call(this,m),A(this,q,Yu).call(this,g(p[0],v[0],5),g(p[1],v[1],5),g(p[2],v[2],5),m),l.url=A(this,q,_l).call(this,w),l.url}destroy(t=!1){t&&c(this,q,El).size!==0||(c(this,os)&&(c(this,os).parentNode.parentNode.remove(),b(this,os,null)),c(this,ba)&&(c(this,ba).clear(),b(this,ba,null)),b(this,xa,0))}}wa=new WeakMap,ba=new WeakMap,os=new WeakMap,js=new WeakMap,Bt=new WeakMap,Rg=new WeakMap,xa=new WeakMap,q=new WeakSet,Ot=function(){return c(this,ba)||b(this,ba,new Map)},El=function(){return c(this,Rg)||b(this,Rg,new Map)},Sl=function(){if(!c(this,os)){const t=c(this,Bt).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const s=c(this,Bt).createElementNS(Ts,"svg");s.setAttribute("width",0),s.setAttribute("height",0),b(this,os,c(this,Bt).createElementNS(Ts,"defs")),t.append(s),s.append(c(this,os)),c(this,Bt).body.append(t)}return c(this,os)},vp=function(t){if(t.length===1){const u=t[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[r,s,i]=t,o=new Array(256),a=new Array(256),l=new Array(256);for(let u=0;u<256;u++)o[u]=r[u]/255,a[u]=s[u]/255,l[u]=i[u]/255;return[o.join(","),a.join(","),l.join(",")]},_l=function(t){if(c(this,wa)===void 0){b(this,wa,"");const r=c(this,Bt).URL;r!==c(this,Bt).baseURI&&(bm(r)?ue('#createUrl: ignore "data:"-URL for performance reasons.'):b(this,wa,r.split("#",1)[0]))}return`url(${c(this,wa)}#${t})`},TC=function(t){const r=c(this,Bt).createElementNS(Ts,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},Gy=function(t){const r=c(this,Bt).createElementNS(Ts,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Cl=function(t){const r=c(this,Bt).createElementNS(Ts,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),c(this,q,Sl).append(r),r},qu=function(t,r,s){const i=c(this,Bt).createElementNS(Ts,r);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),t.append(i)},Yu=function(t,r,s,i){const o=c(this,Bt).createElementNS(Ts,"feComponentTransfer");i.append(o),A(this,q,qu).call(this,o,"feFuncR",t),A(this,q,qu).call(this,o,"feFuncG",r),A(this,q,qu).call(this,o,"feFuncB",s)},Xy=function(t,r){const s=c(this,Bt).createElementNS(Ts,"feComponentTransfer");r.append(s),A(this,q,qu).call(this,s,"feFuncA",t)},Ku=function(t){return c(this,q,Sl).style.color=t,ab(getComputedStyle(c(this,q,Sl)).getPropertyValue("color"))};class kC{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ne("Abstract method `_fetch` called.")}}class PC extends kC{async _fetch(e){const t=await wm(e,"arraybuffer");return new Uint8Array(t)}}if(Wt){var qy=Promise.withResolvers(),vd=null;(async()=>{const e=await Uf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),t=await Uf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),r=await Uf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await Uf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let i,o;return new Map(Object.entries({fs:e,http:t,https:r,url:s,canvas:i,path2d:o}))})().then(e=>{vd=e,qy.resolve()},e=>{ue(`loadPackages: ${e}`),vd=new Map,qy.resolve()})}class Mo{static get promise(){return qy.promise}static get(e){return vd==null?void 0:vd.get(e)}}async function RC(n){const t=await Mo.get("fs").promises.readFile(n);return new Uint8Array(t)}class ND extends CC{}class DD extends EC{_createCanvas(e,t){return Mo.get("canvas").createCanvas(e,t)}}class OD extends SC{async _fetch(e){return RC(e)}}class jD extends kC{async _fetch(e){return RC(e)}}const Jt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Yy(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,r),n.clip(s)}class cb{getPattern(){Ne("Abstract method `getPattern` called.")}}class zD extends cb{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,s){let i;if(s===Jt.STROKE||s===Jt.FILL){const o=t.current.getClippedPathBoundingBox(s,Ve(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,u=t.cachedCanvases.getCanvas("pattern",a,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-o[0],-o[1]),r=Z.transform(r,[1,0,0,1,o[0],o[1]]),d.transform(...t.baseTransform),this.matrix&&d.transform(...this.matrix),Yy(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),i=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(r);i.setTransform(h)}else Yy(e,this._bbox),i=this._createGradient(e);return i}}function hv(n,e,t,r,s,i,o,a){const l=e.coords,u=e.colors,d=n.data,h=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=i,i=o,o=f),l[r+1]>l[s+1]&&(f=r,r=s,s=f,f=o,o=a,a=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=i,i=o,o=f);const p=(l[t]+e.offsetX)*e.scaleX,v=(l[t+1]+e.offsetY)*e.scaleY,g=(l[r]+e.offsetX)*e.scaleX,w=(l[r+1]+e.offsetY)*e.scaleY,m=(l[s]+e.offsetX)*e.scaleX,y=(l[s+1]+e.offsetY)*e.scaleY;if(v>=y)return;const x=u[i],S=u[i+1],C=u[i+2],T=u[o],k=u[o+1],R=u[o+2],M=u[a],I=u[a+1],D=u[a+2],j=Math.round(v),H=Math.round(y);let F,W,B,O,L,N,$,J;for(let X=j;X<=H;X++){if(X<w){const Q=X<v?0:(v-X)/(v-w);F=p-(p-g)*Q,W=x-(x-T)*Q,B=S-(S-k)*Q,O=C-(C-R)*Q}else{let Q;X>y?Q=1:w===y?Q=0:Q=(w-X)/(w-y),F=g-(g-m)*Q,W=T-(T-M)*Q,B=k-(k-I)*Q,O=R-(R-D)*Q}let K;X<v?K=0:X>y?K=1:K=(v-X)/(v-y),L=p-(p-m)*K,N=x-(x-M)*K,$=S-(S-I)*K,J=C-(C-D)*K;const te=Math.round(Math.min(F,L)),ye=Math.round(Math.max(F,L));let de=h*X+te*4;for(let Q=te;Q<=ye;Q++)K=(F-Q)/(F-L),K<0?K=0:K>1&&(K=1),d[de++]=W-(W-N)*K|0,d[de++]=B-(B-$)*K|0,d[de++]=O-(O-J)*K|0,d[de++]=255}}function BD(n,e,t){const r=e.coords,s=e.colors;let i,o;switch(e.type){case"lattice":const a=e.verticesPerRow,l=Math.floor(r.length/a)-1,u=a-1;for(i=0;i<l;i++){let d=i*a;for(let h=0;h<u;h++,d++)hv(n,t,r[d],r[d+1],r[d+a],s[d],s[d+1],s[d+a]),hv(n,t,r[d+a+1],r[d+1],r[d+a],s[d+a+1],s[d+1],s[d+a])}break;case"triangles":for(i=0,o=r.length;i<o;i+=3)hv(n,t,r[i],r[i+1],r[i+2],s[i],s[i+1],s[i+2]);break;default:throw new Error("illegal figure")}}class HD extends cb{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-a,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,v=d/f,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/v},w=h+2*2,m=f+2*2,y=r.getCanvas("mesh",w,m),x=y.context,S=x.createImageData(h,f);if(t){const T=S.data;for(let k=0,R=T.length;k<R;k+=4)T[k]=t[0],T[k+1]=t[1],T[k+2]=t[2],T[k+3]=255}for(const T of this._figures)BD(S,T,g);return x.putImageData(S,2,2),{canvas:y.canvas,offsetX:a-2*p,offsetY:l-2*v,scaleX:p,scaleY:v}}getPattern(e,t,r,s){Yy(e,this._bbox);let i;if(s===Jt.SHADING)i=Z.singularValueDecompose2dScale(Ve(e));else if(i=Z.singularValueDecompose2dScale(t.baseTransform),this.matrix){const a=Z.singularValueDecompose2dScale(this.matrix);i=[i[0]*a[0],i[1]*a[1]]}const o=this._createMeshCanvas(i,s===Jt.SHADING?null:this._background,t.cachedCanvases);return s!==Jt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class $D extends cb{getPattern(){return"hotpink"}}function UD(n){switch(n[0]){case"RadialAxial":return new zD(n);case"Mesh":return new HD(n);case"Dummy":return new $D}throw new Error(`Unknown IR type: ${n[0]}`)}const bA={COLORED:1,UNCOLORED:2},Lg=class Lg{constructor(e,t,r,s,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:s,tilingType:i,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),mm("TilingType: "+i);const d=t[0],h=t[1],f=t[2],p=t[3],v=f-d,g=p-h,w=Z.singularValueDecompose2dScale(this.matrix),m=Z.singularValueDecompose2dScale(this.baseTransform),y=w[0]*m[0],x=w[1]*m[1];let S=v,C=g,T=!1,k=!1;const R=Math.ceil(l*y),M=Math.ceil(u*x),I=Math.ceil(v*y),D=Math.ceil(g*x);R>=I?S=l:T=!0,M>=D?C=u:k=!0;const j=this.getSizeAndScale(S,this.ctx.canvas.width,y),H=this.getSizeAndScale(C,this.ctx.canvas.height,x),F=e.cachedCanvases.getCanvas("pattern",j.size,H.size),W=F.context,B=a.createCanvasGraphics(W);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,s,o),W.translate(-j.scale*d,-H.scale*h),B.transform(j.scale,0,0,H.scale,0,0),W.save(),this.clipBbox(B,d,h,f,p),B.baseTransform=Ve(B.ctx),B.executeOperatorList(r),B.endDrawing(),W.restore(),T||k){const O=F.canvas;T&&(S=l),k&&(C=u);const L=this.getSizeAndScale(S,this.ctx.canvas.width,y),N=this.getSizeAndScale(C,this.ctx.canvas.height,x),$=L.size,J=N.size,X=e.cachedCanvases.getCanvas("pattern-workaround",$,J),K=X.context,te=T?Math.floor(v/l):0,ye=k?Math.floor(g/u):0;for(let de=0;de<=te;de++)for(let Q=0;Q<=ye;Q++)K.drawImage(O,$*de,J*Q,$,J,0,0,$,J);return{canvas:X.canvas,scaleX:L.scale,scaleY:N.scale,offsetX:d,offsetY:h}}return{canvas:F.canvas,scaleX:j.scale,scaleY:H.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,t,r){const s=Math.max(Lg.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*r);return i>=s?i=s:r=i/e,{scale:r,size:i}}clipBbox(e,t,r,s,i){const o=s-t,a=i-r;e.ctx.rect(t,r,o,a),e.current.updateRectMinMax(Ve(e.ctx),[t,r,s,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const s=e.ctx,i=e.current;switch(t){case bA.COLORED:const o=this.ctx;s.fillStyle=o.fillStyle,s.strokeStyle=o.strokeStyle,i.fillColor=o.fillStyle,i.strokeColor=o.strokeStyle;break;case bA.UNCOLORED:const a=Z.makeHexColor(r[0],r[1],r[2]);s.fillStyle=a,s.strokeStyle=a,i.fillColor=a,i.strokeColor=a;break;default:throw new pD(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,s){let i=r;s!==Jt.SHADING&&(i=Z.transform(i,t.baseTransform),this.matrix&&(i=Z.transform(i,this.matrix)));const o=this.createPatternCanvas(t);let a=new DOMMatrix(i);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=e.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};ne(Lg,"MAX_PATTERN_SIZE",3e3);let Ky=Lg;function VD({src:n,srcPos:e=0,dest:t,width:r,height:s,nonBlackColor:i=4294967295,inverseDecode:o=!1}){const a=en.isLittleEndian?4278190080:255,[l,u]=o?[i,a]:[a,i],d=r>>3,h=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let v=0;v<s;v++){for(const w=e+d;e<w;e++){const m=e<f?n[e]:255;t[p++]=m&128?u:l,t[p++]=m&64?u:l,t[p++]=m&32?u:l,t[p++]=m&16?u:l,t[p++]=m&8?u:l,t[p++]=m&4?u:l,t[p++]=m&2?u:l,t[p++]=m&1?u:l}if(h===0)continue;const g=e<f?n[e++]:255;for(let w=0;w<h;w++)t[p++]=g&1<<7-w?u:l}return{srcPos:e,destPos:p}}const xA=16,AA=100,WD=15,EA=10,SA=1e3,pn=16;function GD(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,s){e.translate(r,s),this.__originalTranslate(r,s)},n.scale=function(r,s){e.scale(r,s),this.__originalScale(r,s)},n.transform=function(r,s,i,o,a,l){e.transform(r,s,i,o,a,l),this.__originalTransform(r,s,i,o,a,l)},n.setTransform=function(r,s,i,o,a,l){e.setTransform(r,s,i,o,a,l),this.__originalSetTransform(r,s,i,o,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,s,i,o,a){e.bezierCurveTo(t,r,s,i,o,a),this.__originalBezierCurveTo(t,r,s,i,o,a)},n.rect=function(t,r,s,i){e.rect(t,r,s,i),this.__originalRect(t,r,s,i)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class XD{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,r)):(s=this.canvasFactory.create(t,r),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Vf(n,e,t,r,s,i,o,a,l,u){const[d,h,f,p,v,g]=Ve(n);if(h===0&&f===0){const y=o*d+v,x=Math.round(y),S=a*p+g,C=Math.round(S),T=(o+l)*d+v,k=Math.abs(Math.round(T)-x)||1,R=(a+u)*p+g,M=Math.abs(Math.round(R)-C)||1;return n.setTransform(Math.sign(d),0,0,Math.sign(p),x,C),n.drawImage(e,t,r,s,i,0,0,k,M),n.setTransform(d,h,f,p,v,g),[k,M]}if(d===0&&p===0){const y=a*f+v,x=Math.round(y),S=o*h+g,C=Math.round(S),T=(a+u)*f+v,k=Math.abs(Math.round(T)-x)||1,R=(o+l)*h+g,M=Math.abs(Math.round(R)-C)||1;return n.setTransform(0,Math.sign(h),Math.sign(f),0,x,C),n.drawImage(e,t,r,s,i,0,0,M,k),n.setTransform(d,h,f,p,v,g),[M,k]}n.drawImage(e,t,r,s,i,o,a,l,u);const w=Math.hypot(d,h),m=Math.hypot(f,p);return[w*l,m*u]}function qD(n){const{width:e,height:t}=n;if(e>SA||t>SA)return null;const r=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=e+1;let o=new Uint8Array(i*(t+1)),a,l,u;const d=e+7&-8;let h=new Uint8Array(d*t),f=0;for(const m of n.data){let y=128;for(;y>0;)h[f++]=m&y?0:255,y>>=1}let p=0;for(f=0,h[f]!==0&&(o[0]=1,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[l]=h[f]?2:1,++p),f++;for(h[f]!==0&&(o[l]=2,++p),a=1;a<t;a++){f=a*d,u=a*i,h[f-d]!==h[f]&&(o[u]=h[f]?1:8,++p);let m=(h[f]?4:0)+(h[f-d]?8:0);for(l=1;l<e;l++)m=(m>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),s[m]&&(o[u+l]=s[m],++p),f++;if(h[f-d]!==h[f]&&(o[u+l]=h[f]?2:4,++p),p>r)return null}for(f=d*(t-1),u=a*i,h[f]!==0&&(o[u]=8,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(o[u+l]=h[f]?4:8,++p),f++;if(h[f]!==0&&(o[u+l]=4,++p),p>r)return null;const v=new Int32Array([0,i,-1,0,-i,0,0,0,1]),g=new Path2D;for(a=0;p&&a<=t;a++){let m=a*i;const y=m+e;for(;m<y&&!o[m];)m++;if(m===y)continue;g.moveTo(m%i,a);const x=m;let S=o[m];do{const C=v[S];do m+=C;while(!o[m]);const T=o[m];T!==5&&T!==10?(S=T,o[m]=0):(S=T&51*S>>4,o[m]&=S>>2|S<<2),g.lineTo(m%i,m/i|0),o[m]||--p}while(x!==m);--a}return h=null,o=null,function(m){m.save(),m.scale(1/e,-1/t),m.translate(0,-t),m.fill(g),m.beginPath(),m.restore()}}class _A{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=X1,this.textMatrixScale=1,this.fontMatrix=Ay,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Dt.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Z.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=Z.applyTransform(t,e),s=Z.applyTransform(t.slice(2),e),i=Z.applyTransform([t[0],t[3]],e),o=Z.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],s[0],i[0],o[0]),this.minY=Math.min(this.minY,r[1],s[1],i[1],o[1]),this.maxX=Math.max(this.maxX,r[0],s[0],i[0],o[0]),this.maxY=Math.max(this.maxY,r[1],s[1],i[1],o[1])}updateScalingPathMinMax(e,t){Z.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,s,i,o,a,l,u,d){const h=Z.bezierBoundingBox(t,r,s,i,o,a,l,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=Jt.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Jt.STROKE){t||Ne("Stroke bounding box must include transform.");const s=Z.singularValueDecompose2dScale(t),i=s[0]*this.lineWidth/2,o=s[1]*this.lineWidth/2;r[0]-=i,r[1]-=o,r[2]+=i,r[3]+=o}return r}updateClipFromPath(){const e=Z.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Jt.FILL,t=null){return Z.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function CA(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,s=t%pn,i=(t-s)/pn,o=s===0?i:i+1,a=n.createImageData(r,pn);let l=0,u;const d=e.data,h=a.data;let f,p,v,g;if(e.kind===up.GRAYSCALE_1BPP){const w=d.byteLength,m=new Uint32Array(h.buffer,0,h.byteLength>>2),y=m.length,x=r+7>>3,S=4294967295,C=en.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(v=f<i?pn:s,u=0,p=0;p<v;p++){const T=w-l;let k=0;const R=T>x?r:T*8-7,M=R&-8;let I=0,D=0;for(;k<M;k+=8)D=d[l++],m[u++]=D&128?S:C,m[u++]=D&64?S:C,m[u++]=D&32?S:C,m[u++]=D&16?S:C,m[u++]=D&8?S:C,m[u++]=D&4?S:C,m[u++]=D&2?S:C,m[u++]=D&1?S:C;for(;k<R;k++)I===0&&(D=d[l++],I=128),m[u++]=D&I?S:C,I>>=1}for(;u<y;)m[u++]=0;n.putImageData(a,0,f*pn)}}else if(e.kind===up.RGBA_32BPP){for(p=0,g=r*pn*4,f=0;f<i;f++)h.set(d.subarray(l,l+g)),l+=g,n.putImageData(a,0,p),p+=pn;f<o&&(g=r*s*4,h.set(d.subarray(l,l+g)),n.putImageData(a,0,p))}else if(e.kind===up.RGB_24BPP)for(v=pn,g=r*v,f=0;f<o;f++){for(f>=i&&(v=s,g=r*v),u=0,p=g;p--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;n.putImageData(a,0,f*pn)}else throw new Error(`bad image kind: ${e.kind}`)}function TA(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,s=t%pn,i=(t-s)/pn,o=s===0?i:i+1,a=n.createImageData(r,pn);let l=0;const u=e.data,d=a.data;for(let h=0;h<o;h++){const f=h<i?pn:s;({srcPos:l}=VD({src:u,srcPos:l,dest:d,width:r,height:f,nonBlackColor:0})),n.putImageData(a,0,h*pn)}}function ju(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Wf(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Wt){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function kA(n,e){if(e)return!0;const t=Z.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Lo.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const YD=["butt","round","square"],KD=["miter","round","bevel"],QD={},PA={};var Fo,Qy,Jy;const vb=class vb{constructor(e,t,r,s,i,{optionalContentConfig:o,markedContentStack:a=null},l,u){E(this,Fo);this.ctx=e,this.current=new _A(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=s,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new XD(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:s=null}){const i=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,i,o),this.ctx.fillStyle=a,r){const l=this.cachedCanvases.getCanvas("transparent",i,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ve(this.compositeCtx))}this.ctx.save(),Wf(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Ve(this.ctx)}executeOperatorList(e,t,r,s){const i=e.argsArray,o=e.fnArray;let a=t||0;const l=i.length;if(l===a)return a;const u=l-a>EA&&typeof r=="function",d=u?Date.now()+WD:0;let h=0;const f=this.commonObjs,p=this.objs;let v;for(;;){if(s!==void 0&&a===s.nextBreakPoint)return s.breakIt(a,r),a;if(v=o[a],v!==yr.dependency)this[v].apply(this,i[a]);else for(const g of i[a]){const w=g.startsWith("g_")?f:p;if(!w.has(g))return w.get(g,r),a}if(a++,a===l)return a;if(u&&++h>EA){if(Date.now()>d)return r(),a;h=0}}}endDrawing(){A(this,Fo,Qy).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,Fo,Jy).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,s=e.height??e.displayHeight;let i=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=r,l=s,u="prescale1",d,h;for(;i>2&&a>1||o>2&&l>1;){let f=a,p=l;i>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),i/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,a,l,0,0,f,p),e=d.canvas,a=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:s}=e,i=this.current.fillColor,o=this.current.patternFill,a=Ve(t);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;u=JSON.stringify(o?a:[a.slice(0,4),i]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const M=l.get(u);if(M&&!o){const I=Math.round(Math.min(a[0],a[2])+a[4]),D=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:M,offsetX:I,offsetY:D}}d=M}d||(h=this.cachedCanvases.getCanvas("maskCanvas",r,s),TA(h.context,e));let f=Z.transform(a,[1/r,0,0,-1/s,0,0]);f=Z.transform(f,[1,0,0,1,0,-s]);const[p,v,g,w]=Z.getAxialAlignedBoundingBox([0,0,r,s],f),m=Math.round(g-p)||1,y=Math.round(w-v)||1,x=this.cachedCanvases.getCanvas("fillCanvas",m,y),S=x.context,C=p,T=v;S.translate(-C,-T),S.transform(...f),d||(d=this._scaleImage(h.canvas,_s(S)),d=d.img,l&&o&&l.set(u,d)),S.imageSmoothingEnabled=kA(Ve(S),e.interpolate),Vf(S,d,0,0,d.width,d.height,0,0,r,s),S.globalCompositeOperation="source-in";const k=Z.transform(_s(S),[1,0,0,1,-C,-T]);return S.fillStyle=o?i.getPattern(t,this,k,Jt.FILL):i,S.fillRect(0,0,r,s),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,x.canvas)),{canvas:x.canvas,offsetX:Math.round(C),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=YD[e]}setLineJoin(e){this.ctx.lineJoin=KD[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;const i=this.ctx;i.setTransform(...Ve(this.suspendedCtx)),ju(this.suspendedCtx,i),GD(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),ju(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,s){const i=s[0],o=s[1],a=s[2]-i,l=s[3]-o;a===0||l===0||(this.genericComposeSMask(t.context,r,a,l,t.subtype,t.backdrop,t.transferMap,i,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,s,i,o,a,l,u,d,h){let f=e.canvas,p=l-d,v=u-h;if(o){const w=Z.makeHexColor(...o);if(p<0||v<0||p+r>f.width||v+s>f.height){const m=this.cachedCanvases.getCanvas("maskExtension",r,s),y=m.context;y.drawImage(f,-p,-v),y.globalCompositeOperation="destination-atop",y.fillStyle=w,y.fillRect(0,0,r,s),y.globalCompositeOperation="source-over",f=m.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const m=new Path2D;m.rect(p,v,r,s),e.clip(m),e.globalCompositeOperation="destination-atop",e.fillStyle=w,e.fillRect(p,v,r,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),i==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):i==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,u,r,s),t.clip(g),t.globalCompositeOperation="destination-in",t.drawImage(f,p,v,r,s,l,u,r,s),t.restore()}save(){this.inSMaskMode?(ju(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),ju(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,s,i,o){this.ctx.transform(e,t,r,s,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const s=this.ctx,i=this.current;let o=i.x,a=i.y,l,u;const d=Ve(s),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?r.slice(0):null;for(let p=0,v=0,g=e.length;p<g;p++)switch(e[p]|0){case yr.rectangle:o=t[v++],a=t[v++];const w=t[v++],m=t[v++],y=o+w,x=a+m;s.moveTo(o,a),w===0||m===0?s.lineTo(y,x):(s.lineTo(y,a),s.lineTo(y,x),s.lineTo(o,x)),h||i.updateRectMinMax(d,[o,a,y,x]),s.closePath();break;case yr.moveTo:o=t[v++],a=t[v++],s.moveTo(o,a),h||i.updatePathMinMax(d,o,a);break;case yr.lineTo:o=t[v++],a=t[v++],s.lineTo(o,a),h||i.updatePathMinMax(d,o,a);break;case yr.curveTo:l=o,u=a,o=t[v+4],a=t[v+5],s.bezierCurveTo(t[v],t[v+1],t[v+2],t[v+3],o,a),i.updateCurvePathMinMax(d,l,u,t[v],t[v+1],t[v+2],t[v+3],o,a,f),v+=6;break;case yr.curveTo2:l=o,u=a,s.bezierCurveTo(o,a,t[v],t[v+1],t[v+2],t[v+3]),i.updateCurvePathMinMax(d,l,u,o,a,t[v],t[v+1],t[v+2],t[v+3],f),o=t[v+2],a=t[v+3],v+=4;break;case yr.curveTo3:l=o,u=a,o=t[v+2],a=t[v+3],s.bezierCurveTo(t[v],t[v+1],o,a,o,a),i.updateCurvePathMinMax(d,l,u,t[v],t[v+1],o,a,o,a,f),v+=4;break;case yr.closePath:s.closePath();break}h&&i.updateScalingPathMinMax(d,f),i.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,_s(t),Jt.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,s=this.current.patternFill;let i=!1;s&&(t.save(),t.fillStyle=r.getPattern(t,this,_s(t),Jt.FILL),i=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),i&&t.restore(),e&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=QD}eoClip(){this.pendingClip=PA}beginText(){this.current.textMatrix=X1,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(const r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var d;const r=this.commonObjs.get(e),s=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=r.fontMatrix||Ay,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&ue("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const i=r.loadedName||"sans-serif",o=((d=r.systemFontInfo)==null?void 0:d.css)||`"${i}", ${r.fallbackName}`;let a="normal";r.black?a="900":r.bold&&(a="bold");const l=r.italic?"italic":"normal";let u=t;t<xA?u=xA:t>AA&&(u=AA),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${a} ${u}px ${o}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,s,i,o){this.current.textMatrix=[e,t,r,s,i,o],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,s){const i=this.ctx,o=this.current,a=o.font,l=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=l&Dt.FILL_STROKE_MASK,h=!!(l&Dt.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||h||f)&&(p=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||f?(i.save(),i.translate(t,r),i.beginPath(),p(i,u),s&&i.setTransform(...s),(d===Dt.FILL||d===Dt.FILL_STROKE)&&i.fill(),(d===Dt.STROKE||d===Dt.FILL_STROKE)&&i.stroke(),i.restore()):((d===Dt.FILL||d===Dt.FILL_STROKE)&&i.fillText(e,t,r),(d===Dt.STROKE||d===Dt.FILL_STROKE)&&i.strokeText(e,t,r)),h&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Ve(i),x:t,y:r,fontSize:u,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){r=!0;break}return me(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const i=this.ctx,o=t.fontSizeScale,a=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,d=t.textHScale*u,h=e.length,f=r.vertical,p=f?1:-1,v=r.defaultVMetrics,g=s*t.fontMatrix[0],w=t.textRenderingMode===Dt.FILL&&!r.disableFontFace&&!t.patternFill;i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),u>0?i.scale(d,-1):i.scale(d,1);let m;if(t.patternFill){i.save();const T=t.fillColor.getPattern(i,this,_s(i),Jt.FILL);m=Ve(i),i.restore(),i.fillStyle=T}let y=t.lineWidth;const x=t.textMatrixScale;if(x===0||y===0){const T=t.textRenderingMode&Dt.FILL_STROKE_MASK;(T===Dt.STROKE||T===Dt.FILL_STROKE)&&(y=this.getSinglePixelWidth())}else y/=x;if(o!==1&&(i.scale(o,o),y/=o),i.lineWidth=y,r.isInvalidPDFjsFont){const T=[];let k=0;for(const R of e)T.push(R.unicode),k+=R.width;i.fillText(T.join(""),0,0),t.x+=k*g*d,i.restore(),this.compose();return}let S=0,C;for(C=0;C<h;++C){const T=e[C];if(typeof T=="number"){S+=p*T*s/1e3;continue}let k=!1;const R=(T.isSpace?l:0)+a,M=T.fontChar,I=T.accent;let D,j,H=T.width;if(f){const W=T.vmetric||v,B=-(T.vmetric?W[1]:H*.5)*g,O=W[2]*g;H=W?-W[0]:H,D=B/o,j=(S+O)/o}else D=S/o,j=0;if(r.remeasure&&H>0){const W=i.measureText(M).width*1e3/s*o;if(H<W&&this.isFontSubpixelAAEnabled){const B=H/W;k=!0,i.save(),i.scale(B,1),D/=B}else H!==W&&(D+=(H-W)/2e3*s/o)}if(this.contentVisible&&(T.isInFont||r.missingFile)){if(w&&!I)i.fillText(M,D,j);else if(this.paintChar(M,D,j,m),I){const W=D+s*I.offset.x/o,B=j-s*I.offset.y/o;this.paintChar(I.fontChar,W,B,m)}}const F=f?H*g-R*u:H*g+R*u;S+=F,k&&i.restore()}f?t.y-=S:t.x+=S*d,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,s=r.font,i=r.fontSize,o=r.fontDirection,a=s.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,d=r.textHScale*o,h=r.fontMatrix||Ay,f=e.length,p=r.textRenderingMode===Dt.INVISIBLE;let v,g,w,m;if(!(p||i===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(d,o),v=0;v<f;++v){if(g=e[v],typeof g=="number"){m=a*g*i/1e3,this.ctx.translate(m,0),r.x+=m*d;continue}const y=(g.isSpace?u:0)+l,x=s.charProcOperatorList[g.operatorListId];if(!x){ue(`Type3 character "${g.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=g,this.save(),t.scale(i,i),t.transform(...h),this.executeOperatorList(x),this.restore()),w=Z.applyTransform([g.width,0],h)[0]*i+y,t.translate(w,0),r.x+=w*d}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,s,i,o){this.ctx.rect(r,s,i-r,o-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],s=this.baseTransform||Ve(this.ctx),i={createCanvasGraphics:o=>new vb(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Ky(e,r,this.ctx,i,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=Z.makeHexColor(e,t,r)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=Z.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=UD(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,_s(t),Jt.SHADING);const s=_s(t);if(s){const{width:i,height:o}=t.canvas,[a,l,u,d]=Z.getAxialAlignedBoundingBox([0,0,i,o],s);this.ctx.fillRect(a,l,u-a,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ne("Should not call beginInlineImage")}beginImageData(){Ne("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Ve(this.ctx),t)){const r=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],r,s),this.current.updateRectMinMax(Ve(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||mm("TODO: Support non-isolated groups."),e.knockout&&ue("Knockout groups not supported.");const r=Ve(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=Z.getAxialAlignedBoundingBox(e.bbox,Ve(t));const i=[0,0,t.canvas.width,t.canvas.height];s=Z.intersect(s,i)||[0,0,0,0];const o=Math.floor(s[0]),a=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-o,-a),f.transform(...r),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:o,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.save()),ju(t,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Ve(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const i=Z.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,r,s,i){if(A(this,Fo,Qy).call(this),Wf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const o=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=o,t[3]=a;const[l,u]=Z.singularValueDecompose2dScale(Ve(this.ctx)),{viewportScale:d}=this,h=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(a*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,a*u),Wf(this.ctx)}else Wf(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],o,a),this.ctx.clip(),this.ctx.beginPath()}this.current=new _A(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),A(this,Fo,Jy).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=qD(e)),s.compiled)){s.compiled(r);return}const i=this._createMaskCanvas(e),o=i.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,i.offsetX,i.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,s=0,i,o){if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const l=Ve(a);a.transform(t,r,s,i,0,0);const u=this._createMaskCanvas(e);a.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=o.length;d<h;d+=2){const f=Z.transform(l,[t,r,s,i,o[d],o[d+1]]),[p,v]=Z.applyTransform([0,0],f);a.drawImage(u.canvas,p,v)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,s=this.current.patternFill;for(const i of e){const{data:o,width:a,height:l,transform:u}=i,d=this.cachedCanvases.getCanvas("maskCanvas",a,l),h=d.context;h.save();const f=this.getObject(o,i);TA(h,f),h.globalCompositeOperation="source-in",h.fillStyle=s?r.getPattern(h,this,_s(t),Jt.FILL):r,h.fillRect(0,0,a,l),h.restore(),t.save(),t.transform(...u),t.scale(1,-1),Vf(t,d.canvas,0,0,a,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){ue("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,s){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){ue("Dependent image isn't ready yet");return}const o=i.width,a=i.height,l=[];for(let u=0,d=s.length;u<d;u+=2)l.push({transform:[t,0,0,r,s[u],s[u+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(i,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:s}=e,i=this.cachedCanvases.getCanvas("inlineImage",r,s),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,s=this.ctx;if(this.save(),!Wt){const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none")}s.scale(1/t,-1/r);let i;if(e.bitmap)i=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)i=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;CA(l,e),i=this.applyTransferMapsToCanvas(l)}const o=this._scaleImage(i,_s(s));s.imageSmoothingEnabled=kA(Ve(s),e.interpolate),Vf(s,o.img,0,0,o.paintWidth,o.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const i=e.width,o=e.height,l=this.cachedCanvases.getCanvas("inlineImage",i,o).context;CA(l,e),s=this.applyTransferMapsToCanvas(l)}for(const i of t)r.save(),r.transform(...i.transform),r.scale(1,-1),Vf(r,s,i.x,i.y,i.w,i.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===PA?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ve(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:s,d:i}=this.ctx.getTransform();let o,a;if(r===0&&s===0){const l=Math.abs(t),u=Math.abs(i);if(l===u)if(e===0)o=a=1/l;else{const d=l*e;o=a=d<1?1/d:1}else if(e===0)o=1/l,a=1/u;else{const d=l*e,h=u*e;o=d<1?1/d:1,a=h<1?1/h:1}}else{const l=Math.abs(t*i-r*s),u=Math.hypot(t,r),d=Math.hypot(s,i);if(e===0)o=d/l,a=u/l;else{const h=e*l;o=d>h?d/h:1,a=u>h?u/h:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[s,i]=this.getScaleForStroking();if(t.lineWidth=r||1,s===1&&i===1){t.stroke();return}const o=t.getLineDash();if(e&&t.save(),t.scale(s,i),o.length>0){const a=Math.max(s,i);t.setLineDash(o.map(l=>l/a)),t.lineDashOffset/=a}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Fo=new WeakSet,Qy=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Jy=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}};let Zl=vb;for(const n in yr)Zl.prototype[n]!==void 0&&(Zl.prototype[yr[n]]=Zl.prototype[n]);var uh,dh;class ri{static get workerPort(){return c(this,uh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");b(this,uh,e)}static get workerSrc(){return c(this,dh)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");b(this,dh,e)}}uh=new WeakMap,dh=new WeakMap,E(ri,uh,null),E(ri,dh,"");const Gf={DATA:1,ERROR:2},rt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _n(n){switch(n instanceof Error||typeof n=="object"&&n!==null||Ne('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ml(n.message);case"MissingPDFException":return new gl(n.message);case"PasswordException":return new Ey(n.message,n.code);case"UnexpectedResponseException":return new vm(n.message,n.status);case"UnknownErrorException":return new Sy(n.message,n.details);default:return new Sy(n.message,n.toString())}}var Cc,ir,LC,MC,IC,yp;class Qu{constructor(e,t,r){E(this,ir);E(this,Cc,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",A(this,ir,LC).bind(this),{signal:c(this,Cc).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const s=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[s]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},r)}catch(o){i.reject(o)}return i.promise}sendWithStream(e,t,r,s){const i=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[i]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:e,streamId:i,data:t,desiredSize:u.desiredSize},s),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[i].pullCall=d,l.postMessage({sourceName:o,targetName:a,stream:rt.PULL,streamId:i,desiredSize:u.desiredSize}),d.promise},cancel:u=>{ft(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[i].cancelCall=d,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:rt.CANCEL,streamId:i,reason:_n(u)}),d.promise}},r)}destroy(){var e;(e=c(this,Cc))==null||e.abort(),b(this,Cc,null)}}Cc=new WeakMap,ir=new WeakSet,LC=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){A(this,ir,IC).call(this,e);return}if(e.callback){const r=e.callbackId,s=this.callbackCapabilities[r];if(!s)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Gf.DATA)s.resolve(e.data);else if(e.callback===Gf.ERROR)s.reject(_n(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,s=e.sourceName,i=this.comObj;new Promise(function(o){o(t(e.data))}).then(function(o){i.postMessage({sourceName:r,targetName:s,callback:Gf.DATA,callbackId:e.callbackId,data:o})},function(o){i.postMessage({sourceName:r,targetName:s,callback:Gf.ERROR,callbackId:e.callbackId,reason:_n(o)})});return}if(e.streamId){A(this,ir,MC).call(this,e);return}t(e.data)},MC=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,o=this,a=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:s,stream:rt.ENQUEUE,streamId:t,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:rt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(u){ft(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:s,stream:rt.ERROR,streamId:t,reason:_n(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,new Promise(function(u){u(a(e.data,l))}).then(function(){i.postMessage({sourceName:r,targetName:s,stream:rt.START_COMPLETE,streamId:t,success:!0})},function(u){i.postMessage({sourceName:r,targetName:s,stream:rt.START_COMPLETE,streamId:t,reason:_n(u)})})},IC=function(e){const t=e.streamId,r=this.sourceName,s=e.sourceName,i=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case rt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(_n(e.reason));break;case rt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(_n(e.reason));break;case rt.PULL:if(!a){i.postMessage({sourceName:r,targetName:s,stream:rt.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise(function(l){var u;l((u=a.onPull)==null?void 0:u.call(a))}).then(function(){i.postMessage({sourceName:r,targetName:s,stream:rt.PULL_COMPLETE,streamId:t,success:!0})},function(l){i.postMessage({sourceName:r,targetName:s,stream:rt.PULL_COMPLETE,streamId:t,reason:_n(l)})});break;case rt.ENQUEUE:if(ft(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case rt.CLOSE:if(ft(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),A(this,ir,yp).call(this,o,t);break;case rt.ERROR:ft(o,"error should have stream controller"),o.controller.error(_n(e.reason)),A(this,ir,yp).call(this,o,t);break;case rt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(_n(e.reason)),A(this,ir,yp).call(this,o,t);break;case rt.CANCEL:if(!a)break;new Promise(function(l){var u;l((u=a.onCancel)==null?void 0:u.call(a,_n(e.reason)))}).then(function(){i.postMessage({sourceName:r,targetName:s,stream:rt.CANCEL_COMPLETE,streamId:t,success:!0})},function(l){i.postMessage({sourceName:r,targetName:s,stream:rt.CANCEL_COMPLETE,streamId:t,reason:_n(l)})}),a.sinkCapability.reject(_n(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},yp=async function(e,t){var r,s,i;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(s=e.pullCall)==null?void 0:s.promise,(i=e.cancelCall)==null?void 0:i.promise]),delete this.streamControllers[t]};var Aa,hh;class JD{constructor({parsedData:e,rawData:t}){E(this,Aa);E(this,hh);b(this,Aa,e),b(this,hh,t)}getRaw(){return c(this,hh)}get(e){return c(this,Aa).get(e)??null}getAll(){return nb(c(this,Aa))}has(e){return c(this,Aa).has(e)}}Aa=new WeakMap,hh=new WeakMap;const Tl=Symbol("INTERNAL");var fh,ph,gh,Tc;class ZD{constructor(e,{name:t,intent:r,usage:s,rbGroups:i}){E(this,fh,!1);E(this,ph,!1);E(this,gh,!1);E(this,Tc,!0);b(this,fh,!!(e&Fn.DISPLAY)),b(this,ph,!!(e&Fn.PRINT)),this.name=t,this.intent=r,this.usage=s,this.rbGroups=i}get visible(){if(c(this,gh))return c(this,Tc);if(!c(this,Tc))return!1;const{print:e,view:t}=this.usage;return c(this,fh)?(t==null?void 0:t.viewState)!=="OFF":c(this,ph)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Tl&&Ne("Internal method `_setVisible` called."),b(this,gh,r),b(this,Tc,t)}}fh=new WeakMap,ph=new WeakMap,gh=new WeakMap,Tc=new WeakMap;var Qi,Ee,kc,Pc,mh,Zy;class eO{constructor(e,t=Fn.DISPLAY){E(this,mh);E(this,Qi,null);E(this,Ee,new Map);E(this,kc,null);E(this,Pc,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,b(this,Pc,e.order);for(const r of e.groups)c(this,Ee).set(r.id,new ZD(t,r));if(e.baseState==="OFF")for(const r of c(this,Ee).values())r._setVisible(Tl,!1);for(const r of e.on)c(this,Ee).get(r)._setVisible(Tl,!0);for(const r of e.off)c(this,Ee).get(r)._setVisible(Tl,!1);b(this,kc,this.getHash())}}isVisible(e){if(c(this,Ee).size===0)return!0;if(!e)return mm("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,Ee).has(e.id)?c(this,Ee).get(e.id).visible:(ue(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,mh,Zy).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,Ee).has(t))return ue(`Optional content group not found: ${t}`),!0;if(c(this,Ee).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,Ee).has(t))return ue(`Optional content group not found: ${t}`),!0;if(!c(this,Ee).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,Ee).has(t))return ue(`Optional content group not found: ${t}`),!0;if(!c(this,Ee).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,Ee).has(t))return ue(`Optional content group not found: ${t}`),!0;if(c(this,Ee).get(t).visible)return!1}return!0}return ue(`Unknown optional content policy ${e.policy}.`),!0}return ue(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var i;const s=c(this,Ee).get(e);if(!s){ue(`Optional content group not found: ${e}`);return}if(r&&t&&s.rbGroups.length)for(const o of s.rbGroups)for(const a of o)a!==e&&((i=c(this,Ee).get(a))==null||i._setVisible(Tl,!1,!0));s._setVisible(Tl,!!t,!0),b(this,Qi,null)}setOCGState({state:e,preserveRB:t}){let r;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":r=s;continue}const i=c(this,Ee).get(s);if(i)switch(r){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!i.visible,t);break}}b(this,Qi,null)}get hasInitialVisibility(){return c(this,kc)===null||this.getHash()===c(this,kc)}getOrder(){return c(this,Ee).size?c(this,Pc)?c(this,Pc).slice():[...c(this,Ee).keys()]:null}getGroups(){return c(this,Ee).size>0?nb(c(this,Ee)):null}getGroup(e){return c(this,Ee).get(e)||null}getHash(){if(c(this,Qi)!==null)return c(this,Qi);const e=new bC;for(const[t,r]of c(this,Ee))e.update(`${t}:${r.visible}`);return b(this,Qi,e.hexdigest())}}Qi=new WeakMap,Ee=new WeakMap,kc=new WeakMap,Pc=new WeakMap,mh=new WeakSet,Zy=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let s=1;s<t;s++){const i=e[s];let o;if(Array.isArray(i))o=A(this,mh,Zy).call(this,i);else if(c(this,Ee).has(i))o=c(this,Ee).get(i).visible;else return ue(`Optional content group not found: ${i}`),!0;switch(r){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return r==="And"};class tO{constructor(e,{disableRange:t=!1,disableStream:r=!1}){ft(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:i,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(i==null?void 0:i.length)>0){const l=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const s=this._rangeReaders.some(function(i){return i._begin!==e?!1:(i._enqueue(r),!0)});ft(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,s,i;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(i=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||i.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ft(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new nO(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new rO(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class nO{constructor(e,t,r=!1,s=null){this._stream=e,this._done=r||!1,this._filename=ib(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class rO{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function sO(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let d=a(t);return d=unescape(d),d=l(d),d=u(d),i(d)}if(t=o(n),t){const d=u(t);return i(d)}if(t=r("filename","i").exec(n),t){t=t[1];let d=a(t);return d=u(d),i(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function s(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=ym(h);h=f.decode(p),e=!1}catch{}}return h}function i(d){return e&&/[\x80-\xff]/.test(d)&&(d=s("utf-8",d),e&&(d=s("iso-8859-1",d))),d}function o(d){const h=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,g,w,m]=f;if(g=parseInt(g,10),g in h){if(g===0)break;continue}h[g]=[w,m]}const v=[];for(let g=0;g<h.length&&g in h;++g){let[w,m]=h[g];m=a(m),w&&(m=unescape(m),g===0&&(m=l(m))),v.push(m)}return v.join("")}function a(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),v=d.slice(h+1).replace(/^[^']*'/,"");return s(f,v)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,w){return String.fromCharCode(parseInt(w,16))}),s(f,v);try{v=atob(v)}catch{}return s(f,v)})}return""}function ub(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const s=e[r];s!==void 0&&t.append(r,s)}return t}function db({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const s={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(n.get("Content-Length"),10);return!Number.isInteger(i)||(s.suggestedLength=i,i<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function hb(n){const e=n.get("Content-Disposition");if(e){let t=sO(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ib(t))return t}return null}function xm(n,e){return n===404||n===0&&e.startsWith("file:")?new gl('Missing PDF "'+e+'".'):new vm(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function FC(n){return n===200||n===206}function NC(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function DC(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(ue(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class RA{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=ub(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new iO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new oO(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class iO{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),s=t.url;fetch(s,NC(r,this._withCredentials,this._abortController)).then(i=>{if(!FC(i.status))throw xm(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const o=i.headers,{allowRangeRequests:a,suggestedLength:l}=db({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=hb(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ml("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:DC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class oO{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${r-1}`);const o=s.url;fetch(o,NC(i,this._withCredentials,this._abortController)).then(a=>{if(!FC(a.status))throw xm(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:DC(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const fv=200,pv=206;function aO(n){const e=n.response;return typeof e!="string"?e:ym(e).buffer}class lO{constructor({url:e,httpHeaders:t,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=ub(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){const s={begin:e,end:t};for(const i in r)s[i]=r[i];return this.request(s)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,s=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,o]of this.headers)t.setRequestHeader(i,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=pv):s.expectedStatus=fv,t.responseType="arraybuffer",e.onError&&(t.onerror=function(i){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var s;const r=this.pendingRequests[e];r&&((s=r.onProgress)==null||s.call(r,t))}onStateChange(e,t){var l,u,d;const r=this.pendingRequests[e];if(!r)return;const s=r.xhr;if(s.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){(l=r.onError)==null||l.call(r,s.status);return}const i=s.status||fv;if(!(i===fv&&r.expectedStatus===pv)&&i!==r.expectedStatus){(u=r.onError)==null||u.call(r,s.status);return}const a=aO(s);if(i===pv){const h=s.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);r.onDone({begin:parseInt(f[1],10),chunk:a})}else a?r.onDone({begin:0,chunk:a}):(d=r.onError)==null||d.call(r,s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class cO{constructor(e){this._source=e,this._manager=new lO(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ft(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new uO(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new dO(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class uO{constructor(e,t){this._manager=e;const r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),r=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(o=>{const[a,...l]=o.split(": ");return[a,l.join(": ")]})),{allowRangeRequests:s,suggestedLength:i}=db({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=hb(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=xm(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class dO{constructor(e,t,r){this._manager=e;const s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=xm(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const hO=/^[a-z][a-z0-9\-+.]+:/i;function fO(n){if(hO.test(n))return new URL(n);const e=Mo.get("url");return new URL(e.pathToFileURL(n))}function OC(n,e,t){return n.protocol==="http:"?Mo.get("http").request(n,{headers:e},t):Mo.get("https").request(n,{headers:e},t)}class pO{constructor(e){this.source=e,this.url=fO(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=ub(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return ft(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vO(this):new gO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=this.isFsUrl?new yO(this,e,t):new mO(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class jC{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ml("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class zC{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class gO extends jC{constructor(e){super(e);const t=Object.fromEntries(e.headers),r=s=>{if(s.statusCode===404){const l=new gl(`Missing PDF "${this._url}".`);this._storedError=l,this._headersCapability.reject(l);return}this._headersCapability.resolve(),this._setReadableStream(s);const i=new Headers(this._readableStream.headers),{allowRangeRequests:o,suggestedLength:a}=db({responseHeaders:i,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=hb(i)};this._request=OC(this._url,t,r),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class mO extends zC{constructor(e,t,r){super(e);const s=Object.fromEntries(e.headers);s.Range=`bytes=${t}-${r-1}`;const i=o=>{if(o.statusCode===404){const a=new gl(`Missing PDF "${this._url}".`);this._storedError=a;return}this._setReadableStream(o)};this._request=OC(this._url,s,i),this._request.on("error",o=>{this._storedError=o}),this._request.end()}}class vO extends jC{constructor(e){super(e);const t=Mo.get("fs");t.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=new gl(`Missing PDF "${this._url}".`)),this._storedError=r,this._headersCapability.reject(r)})}}class yO extends zC{constructor(e,t,r){super(e);const s=Mo.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}}const wO=1e5,ln=30,bO=.8;var JA,Ji,dn,vh,yh,Ea,zs,wh,bh,Sa,Rc,Lc,Zi,Mc,xh,Ic,_a,Ah,Eh,Ke,Ca,Ta,Sh,eo,Fc,mi,BC,HC,t0,Hn,wp,n0,$C,UC;let e0=(Ke=class{constructor({textContentSource:e,container:t,viewport:r}){E(this,mi);E(this,Ji,Promise.withResolvers());E(this,dn,null);E(this,vh,!1);E(this,yh,!!((JA=globalThis.FontInspector)!=null&&JA.enabled));E(this,Ea,null);E(this,zs,null);E(this,wh,0);E(this,bh,0);E(this,Sa,null);E(this,Rc,null);E(this,Lc,0);E(this,Zi,0);E(this,Mc,Object.create(null));E(this,xh,[]);E(this,Ic,null);E(this,_a,[]);E(this,Ah,new WeakMap);E(this,Eh,null);var l;if(e instanceof ReadableStream)b(this,Ic,e);else if(typeof e=="object")b(this,Ic,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');b(this,dn,b(this,Rc,t)),b(this,Zi,r.scale*(globalThis.devicePixelRatio||1)),b(this,Lc,r.rotation),b(this,zs,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:i,pageX:o,pageY:a}=r.rawDims;b(this,Eh,[1,0,0,-1,-o,a+i]),b(this,bh,s),b(this,wh,i),A(l=Ke,Hn,$C).call(l),al(t,r),c(this,Ji).promise.finally(()=>{c(Ke,Fc).delete(this),b(this,zs,null),b(this,Mc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=en.platform;return me(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,Sa).read().then(({value:t,done:r})=>{if(r){c(this,Ji).resolve();return}c(this,Ea)??b(this,Ea,t.lang),Object.assign(c(this,Mc),t.styles),A(this,mi,BC).call(this,t.items),e()},c(this,Ji).reject)};return b(this,Sa,c(this,Ic).getReader()),c(Ke,Fc).add(this),e(),c(this,Ji).promise}update({viewport:e,onBefore:t=null}){var i;const r=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==c(this,Lc)&&(t==null||t(),b(this,Lc,s),al(c(this,Rc),{rotation:s})),r!==c(this,Zi)){t==null||t(),b(this,Zi,r);const o={div:null,properties:null,ctx:A(i=Ke,Hn,wp).call(i,c(this,Ea))};for(const a of c(this,_a))o.properties=c(this,Ah).get(a),o.div=a,A(this,mi,t0).call(this,o)}}cancel(){var t;const e=new ml("TextLayer task cancelled.");(t=c(this,Sa))==null||t.cancel(e).catch(()=>{}),b(this,Sa,null),c(this,Ji).reject(e)}get textDivs(){return c(this,_a)}get textContentItemsStr(){return c(this,xh)}static cleanup(){if(!(c(this,Fc).size>0)){c(this,Ca).clear();for(const{canvas:e}of c(this,Ta).values())e.remove();c(this,Ta).clear()}}},Ji=new WeakMap,dn=new WeakMap,vh=new WeakMap,yh=new WeakMap,Ea=new WeakMap,zs=new WeakMap,wh=new WeakMap,bh=new WeakMap,Sa=new WeakMap,Rc=new WeakMap,Lc=new WeakMap,Zi=new WeakMap,Mc=new WeakMap,xh=new WeakMap,Ic=new WeakMap,_a=new WeakMap,Ah=new WeakMap,Eh=new WeakMap,Ca=new WeakMap,Ta=new WeakMap,Sh=new WeakMap,eo=new WeakMap,Fc=new WeakMap,mi=new WeakSet,BC=function(e){var s,i;if(c(this,vh))return;(i=c(this,zs)).ctx??(i.ctx=A(s=Ke,Hn,wp).call(s,c(this,Ea)));const t=c(this,_a),r=c(this,xh);for(const o of e){if(t.length>wO){ue("Ignoring additional textDivs for performance reasons."),b(this,vh,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=c(this,dn);b(this,dn,document.createElement("span")),c(this,dn).classList.add("markedContent"),o.id!==null&&c(this,dn).setAttribute("id",`${o.id}`),a.append(c(this,dn))}else o.type==="endMarkedContent"&&b(this,dn,c(this,dn).parentNode);continue}r.push(o.str),A(this,mi,HC).call(this,o)}},HC=function(e){var g;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,_a).push(t);const s=Z.transform(c(this,Eh),e.transform);let i=Math.atan2(s[1],s[0]);const o=c(this,Mc)[e.fontName];o.vertical&&(i+=Math.PI/2);let a=c(this,yh)&&o.fontSubstitution||o.fontFamily;a=Ke.fontFamilyMap.get(a)||a;const l=Math.hypot(s[2],s[3]),u=l*A(g=Ke,Hn,UC).call(g,a,c(this,Ea));let d,h;i===0?(d=s[4],h=s[5]-u):(d=s[4]+u*Math.sin(i),h=s[5]-u*Math.cos(i));const f="calc(var(--scale-factor)*",p=t.style;c(this,dn)===c(this,Rc)?(p.left=`${(100*d/c(this,bh)).toFixed(2)}%`,p.top=`${(100*h/c(this,wh)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(c(Ke,eo)*l).toFixed(2)}px)`,p.fontFamily=a,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,yh)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),i!==0&&(r.angle=i*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);w!==m&&Math.max(w,m)/Math.min(w,m)>1.5&&(v=!0)}if(v&&(r.canvasWidth=o.vertical?e.height:e.width),c(this,Ah).set(t,r),c(this,zs).div=t,c(this,zs).properties=r,A(this,mi,t0).call(this,c(this,zs)),r.hasText&&c(this,dn).append(t),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),c(this,dn).append(w)}},t0=function(e){var a;const{div:t,properties:r,ctx:s}=e,{style:i}=t;let o="";if(c(Ke,eo)>1&&(o=`scale(${1/c(Ke,eo)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=i,{canvasWidth:u,fontSize:d}=r;A(a=Ke,Hn,n0).call(a,s,d*c(this,Zi),l);const{width:h}=s.measureText(t.textContent);h>0&&(o=`scaleX(${u*c(this,Zi)/h}) ${o}`)}r.angle!==0&&(o=`rotate(${r.angle}deg) ${o}`),o.length>0&&(i.transform=o)},Hn=new WeakSet,wp=function(e=null){let t=c(this,Ta).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,Ta).set(e,t),c(this,Sh).set(t,{size:0,family:""})}return t},n0=function(e,t,r){const s=c(this,Sh).get(e);t===s.size&&r===s.family||(e.font=`${t}px ${r}`,s.size=t,s.family=r)},$C=function(){if(c(this,eo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),b(this,eo,e.getBoundingClientRect().height),e.remove()},UC=function(e,t){const r=c(this,Ca).get(e);if(r)return r;const s=A(this,Hn,wp).call(this,t);s.canvas.width=s.canvas.height=ln,A(this,Hn,n0).call(this,s,ln,e);const i=s.measureText("");let o=i.fontBoundingBoxAscent,a=Math.abs(i.fontBoundingBoxDescent);if(o){const d=o/(o+a);return c(this,Ca).set(e,d),s.canvas.width=s.canvas.height=0,d}s.strokeStyle="red",s.clearRect(0,0,ln,ln),s.strokeText("g",0,0);let l=s.getImageData(0,0,ln,ln).data;a=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){a=Math.ceil(d/4/ln);break}s.clearRect(0,0,ln,ln),s.strokeText("A",0,ln),l=s.getImageData(0,0,ln,ln).data,o=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){o=ln-Math.floor(d/4/ln);break}s.canvas.width=s.canvas.height=0;const u=o?o/(o+a):bO;return c(this,Ca).set(e,u),u},E(Ke,Hn),E(Ke,Ca,new Map),E(Ke,Ta,new Map),E(Ke,Sh,new WeakMap),E(Ke,eo,null),E(Ke,Fc,new Set),Ke);class Bd{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function s(i){var l;if(!i)return;let o=null;const a=i.name;if(a==="#text")o=i.value;else if(Bd.shouldBuildText(a))(l=i==null?void 0:i.attributes)!=null&&l.textContent?o=i.attributes.textContent:i.value&&(o=i.value);else return;if(o!==null&&t.push({str:o}),!!i.children)for(const u of i.children)s(u)}return s(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const xO=65536,AO=100,EO=5e3,SO=Wt?DD:ID,_O=Wt?OD:_C,CO=Wt?ND:FD,TO=Wt?jD:PC;function kO(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new r0,{docId:t}=e,r=n.url?PO(n.url):null,s=n.data?RO(n.data):null,i=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,l=n.range instanceof VC?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:xO;let d=n.worker instanceof ec?n.worker:null;const h=n.verbosity,f=typeof n.docBaseUrl=="string"&&!bm(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,v=n.cMapPacked!==!1,g=n.CMapReaderFactory||_O,w=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,m=n.StandardFontDataFactory||TO,y=n.stopAtErrors!==!0,x=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,S=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Wt,T=typeof n.isChrome=="boolean"?n.isChrome:!en.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),k=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,R=typeof n.disableFontFace=="boolean"?n.disableFontFace:Wt,M=n.fontExtraProperties===!0,I=n.enableXfa===!0,D=n.ownerDocument||globalThis.document,j=n.disableRange===!0,H=n.disableStream===!0,F=n.disableAutoFetch===!0,W=n.pdfBug===!0,B=n.CanvasFactory||SO,O=n.FilterFactory||CO,L=n.enableHWA===!0,N=l?l.length:n.length??NaN,$=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Wt&&!R,J=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:g===_C&&m===PC&&p&&w&&Vu(p,document.baseURI)&&Vu(w,document.baseURI);n.canvasFactory&&yA("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&yA("`filterFactory`-instance option, please use `FilterFactory` instead.");const X=null;uD(h);const K={canvasFactory:new B({ownerDocument:D,enableHWA:L}),filterFactory:new O({docId:t,ownerDocument:D}),cMapReaderFactory:J?null:new g({baseUrl:p,isCompressed:v}),standardFontDataFactory:J?null:new m({baseUrl:w})};if(!d){const de={verbosity:h,port:ri.workerPort};d=de.port?ec.fromPort(de):new ec(de),e._worker=d}const te={docId:t,apiVersion:"4.8.69",data:s,password:a,disableAutoFetch:F,rangeChunkSize:u,length:N,docBaseUrl:f,enableXfa:I,evaluatorOptions:{maxImageSize:x,disableFontFace:R,ignoreErrors:y,isEvalSupported:S,isOffscreenCanvasSupported:C,isChrome:T,canvasMaxAreaInBytes:k,fontExtraProperties:M,useSystemFonts:$,cMapUrl:J?p:null,standardFontDataUrl:J?w:null}},ye={disableFontFace:R,fontExtraProperties:M,ownerDocument:D,pdfBug:W,styleElement:X,loadingParams:{disableAutoFetch:F,enableXfa:I}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const de=d.messageHandler.sendWithPromise("GetDocRequest",te,s?[s.buffer]:null);let Q;if(l)Q=new tO(l,{disableRange:j,disableStream:H});else if(!s){if(!r)throw new Error("getDocument - no `url` parameter provided.");let _t;Wt?_t=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&Vu(r)?RA:pO:_t=Vu(r)?RA:cO,Q=new _t({url:r,length:N,httpHeaders:i,withCredentials:o,rangeChunkSize:u,disableRange:j,disableStream:H})}return de.then(_t=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const tt=new Qu(t,_t,d.port),we=new FO(tt,e,Q,ye,K);e._transport=we,tt.send("Ready",null)})}).catch(e._capability.reject),e}function PO(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Wt&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function RO(n){if(Wt&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return ym(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function LA(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Mg;const Ig=class Ig{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${mt(Ig,Mg)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Mg=new WeakMap,E(Ig,Mg,0);let r0=Ig,VC=class{constructor(e,t,r=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){Ne("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class LO{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return me(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var to,Bs,tr,kl,bp;class MO{constructor(e,t,r,s=!1){E(this,tr);E(this,to,null);E(this,Bs,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=s?new vA:null,this._pdfBug=s,this.commonObjs=r.commonObjs,this.objs=new WC,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:s=0,dontFlip:i=!1}={}){return new gf({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return me(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:s=Fi.ENABLE,transform:i=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){var S,C;(S=this._stats)==null||S.time("Overall");const f=this._transport.getRenderingIntent(r,s,d,h),{renderingIntent:p,cacheKey:v}=f;b(this,Bs,!1),A(this,tr,bp).call(this),a||(a=this._transport.getOptionalContentConfig(p));let g=this._intentStates.get(v);g||(g=Object.create(null),this._intentStates.set(v,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const w=!!(p&Fn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(C=this._stats)==null||C.time("Page Request"),this._pumpOperatorList(f));const m=T=>{var k;g.renderTasks.delete(y),(this._maybeCleanupAfterRender||w)&&b(this,Bs,!0),A(this,tr,kl).call(this,!w),T?(y.capability.reject(T),this._abortOperatorList({intentState:g,reason:T instanceof Error?T:new Error(T)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(k=globalThis.Stats)!=null&&k.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new i0({callback:m,params:{canvasContext:e,viewport:t,transform:i,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:u});(g.renderTasks||(g.renderTasks=new Set)).add(y);const x=y.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([T,k])=>{var R;if(this.destroyed){m();return}if((R=this._stats)==null||R.time("Rendering"),!(k.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:T,optionalContentConfig:k}),y.operatorListChanged()}).catch(m),x}getOperatorList({intent:e="display",annotationMode:t=Fi.ENABLE,printAnnotationStorage:r=null,isEditing:s=!1}={}){var u;function i(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(e,t,r,s,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=i,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Bd.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,s){function i(){o.read().then(function({value:l,done:u}){if(u){r(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),i()},s)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};i()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),b(this,Bs,!1),A(this,tr,bp).call(this),Promise.all(e)}cleanup(e=!1){b(this,Bs,!0);const t=A(this,tr,kl).call(this,!1);return e&&t&&this._stats&&(this._stats=new vA),t}_startRenderPage(e,t){var s,i;const r=this._intentStates.get(t);r&&((s=this._stats)==null||s.timeEnd("Page Request"),(i=r.displayReadyCapability)==null||i.resolve(e))}_renderPageChunk(e,t){for(let r=0,s=e.length;r<s;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&A(this,tr,kl).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:s}){const{map:i,transfer:o}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:s},o).getReader(),u=this._intentStates.get(t);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();A(this,tr,kl).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof sb){let s=AO;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new ml(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,i]of this._intentStates)if(i===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}to=new WeakMap,Bs=new WeakMap,tr=new WeakSet,kl=function(e=!1){if(A(this,tr,bp).call(this),!c(this,Bs)||this.destroyed)return!1;if(e)return b(this,to,setTimeout(()=>{b(this,to,null),A(this,tr,kl).call(this,!1)},EO)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),b(this,Bs,!1),!0},bp=function(){c(this,to)&&(clearTimeout(c(this,to)),b(this,to,null))};var Hs,Fg;class IO{constructor(){E(this,Hs,new Map);E(this,Fg,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};c(this,Fg).then(()=>{for(const[s]of c(this,Hs))s.call(this,r)})}addEventListener(e,t,r=null){let s=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:i}=r;if(i.aborted){ue("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);s=()=>i.removeEventListener("abort",o),i.addEventListener("abort",o)}c(this,Hs).set(t,s)}removeEventListener(e,t){const r=c(this,Hs).get(t);r==null||r(),c(this,Hs).delete(t)}terminate(){for(const[,e]of c(this,Hs))e==null||e();c(this,Hs).clear()}}Hs=new WeakMap,Fg=new WeakMap;var Ng,ka,Pa,Nc,xp,Dc,Ap;const je=class je{constructor({name:e=null,port:t=null,verbosity:r=dD()}={}){E(this,Nc);var s;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((s=c(je,Pa))!=null&&s.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(c(je,Pa)||b(je,Pa,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return Wt?Promise.all([Mo.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Qu("main","worker",e),this._messageHandler.on("ready",function(){}),A(this,Nc,xp).call(this)}_initialize(){if(c(je,ka)||c(je,Dc,Ap)){this._setupFakeWorker();return}let{workerSrc:e}=je;try{je._isSameOrigin(window.location.href,e)||(e=je._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new Qu("main","worker",t),s=()=>{i.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:i.signal}),r.on("test",a=>{if(i.abort(),this.destroyed||!a){s();return}this._messageHandler=r,this._port=t,this._webWorker=t,A(this,Nc,xp).call(this)}),r.on("ready",a=>{if(i.abort(),this.destroyed){s();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;r.send("test",a,[a.buffer])};o();return}catch{mm("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){c(je,ka)||(ue("Setting up fake worker."),b(je,ka,!0)),je._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new IO;this._port=t;const r=`fake${mt(je,Ng)._++}`,s=new Qu(r+"_worker",r,t);e.setup(s,t),this._messageHandler=new Qu(r,r+"_worker",t),A(this,Nc,xp).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(je,Pa))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=c(this,Pa))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new je(e)}static get workerSrc(){if(ri.workerSrc)return ri.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return me(this,"_setupFakeWorkerGlobal",(async()=>c(this,Dc,Ap)?c(this,Dc,Ap):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ng=new WeakMap,ka=new WeakMap,Pa=new WeakMap,Nc=new WeakSet,xp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Dc=new WeakSet,Ap=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},E(je,Dc),E(je,Ng,0),E(je,ka,!1),E(je,Pa),Wt&&(b(je,ka,!0),ri.workerSrc||(ri.workerSrc="./pdf.worker.mjs")),je._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const s=new URL(t,r);return r.origin===s.origin},je._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let ec=je;var $s,as,Oc,jc,ls,Ra,Ju;class FO{constructor(e,t,r,s,i){E(this,Ra);E(this,$s,new Map);E(this,as,new Map);E(this,Oc,new Map);E(this,jc,new Map);E(this,ls,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new WC,this.fontLoader=new LD({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return me(this,"annotationStorage",new lb)}getRenderingIntent(e,t=Fi.ENABLE,r=null,s=!1,i=!1){let o=Fn.DISPLAY,a=Wy;switch(e){case"any":o=Fn.ANY;break;case"display":break;case"print":o=Fn.PRINT;break;default:ue(`getRenderingIntent - invalid intent: ${e}`)}const l=o&Fn.PRINT&&r instanceof AC?r:this.annotationStorage;switch(t){case Fi.DISABLE:o+=Fn.ANNOTATIONS_DISABLE;break;case Fi.ENABLE:break;case Fi.ENABLE_FORMS:o+=Fn.ANNOTATIONS_FORMS;break;case Fi.ENABLE_STORAGE:o+=Fn.ANNOTATIONS_STORAGE,a=l.serializable;break;default:ue(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(o+=Fn.IS_EDITING),i&&(o+=Fn.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[o,a.hash,d];return{renderingIntent:o,cacheKey:h.join("_"),annotationStorageSerializable:a,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=c(this,ls))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of c(this,as).values())e.push(s._destroy());c(this,as).clear(),c(this,Oc).clear(),c(this,jc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s;this.commonObjs.clear(),this.fontLoader.clear(),c(this,$s).clear(),this.filterFactory.destroy(),e0.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new ml("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,s)=>{ft(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=i=>{this._lastProgress={loaded:i.loaded,total:i.total}},s.onPull=()=>{this._fullReader.read().then(function({value:i,done:o}){if(o){s.close();return}ft(i instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(i),1,[i])}).catch(i=>{s.error(i)})},s.onCancel=i=>{this._fullReader.cancel(i),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async r=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:i,contentLength:o}=this._fullReader;return(!s||!i)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:i,contentLength:o}}),e.on("GetRangeReader",(r,s)=>{ft(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const i=this._networkStream.getRangeReader(r.begin,r.end);if(!i){s.close();return}s.onPull=()=>{i.read().then(function({value:o,done:a}){if(a){s.close();return}ft(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{i.cancel(o),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new LO(r,this))}),e.on("DocException",function(r){let s;switch(r.name){case"PasswordException":s=new Ey(r.message,r.code);break;case"InvalidPDFException":s=new q1(r.message);break;case"MissingPDFException":s=new gl(r.message);break;case"UnexpectedResponseException":s=new vm(r.message,r.status);break;case"UnknownErrorException":s=new Sy(r.message,r.details);break;default:Ne("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",r=>{if(b(this,ls,Promise.withResolvers()),t.onPassword){const s=i=>{i instanceof Error?c(this,ls).reject(i):c(this,ls).resolve({password:i})};try{t.onPassword(s,r.code)}catch(i){c(this,ls).reject(i)}}else c(this,ls).reject(new Ey(r.message,r.code));return c(this,ls).promise}),e.on("DataLoaded",r=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;c(this,as).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,s,i])=>{var o;if(this.destroyed||this.commonObjs.has(r))return null;switch(s){case"Font":const{disableFontFace:a,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in i){const p=i.error;ue(`Error during font loading: ${p}`),this.commonObjs.resolve(r,p);break}const d=u&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,v)=>globalThis.FontInspector.fontAdded(p,v):null,h=new MD(i,{disableFontFace:a,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(r,h)});break;case"CopyLocalImage":const{imageRef:f}=i;ft(f,"The imageRef must be defined.");for(const p of c(this,as).values())for(const[,v]of p.objs)if((v==null?void 0:v.ref)===f)return v.dataLen?(this.commonObjs.resolve(r,structuredClone(v)),v.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,i);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([r,s,i,o])=>{var l;if(this.destroyed)return;const a=c(this,as).get(s);if(!a.objs.has(r)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(i){case"Image":a.objs.resolve(r,o),(o==null?void 0:o.dataLen)>oD&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(r,o);break;default:throw new Error(`Got unknown object type ${i}`)}}}),e.on("DocProgress",r=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&ue("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=c(this,Oc).get(t);if(r)return r;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(i=>{if(this.destroyed)throw new Error("Transport destroyed");i.refStr&&c(this,jc).set(i.refStr,e);const o=new MO(t,i,this,this._params.pdfBug);return c(this,as).set(t,o),o});return c(this,Oc).set(t,s),s}getPageIndex(e){return LA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,Ra,Ju).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Ra,Ju).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return A(this,Ra,Ju).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,Ra,Ju).call(this,"GetOptionalContentConfig").then(t=>new eO(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,$s).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(s=>{var i,o;return{info:s[0],metadata:s[1]?new JD(s[1]):null,contentDispositionFilename:((i=this._fullReader)==null?void 0:i.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return c(this,$s).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,as).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,$s).clear(),this.filterFactory.destroy(!0),e0.cleanup()}}cachedPageNumber(e){if(!LA(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,jc).get(t)??null}}$s=new WeakMap,as=new WeakMap,Oc=new WeakMap,jc=new WeakMap,ls=new WeakMap,Ra=new WeakSet,Ju=function(e,t=null){const r=c(this,$s).get(e);if(r)return r;const s=this.messageHandler.sendWithPromise(e,t);return c(this,$s).set(e,s),s};const Xf=Symbol("INITIAL_DATA");var Cr,_h,s0;class WC{constructor(){E(this,_h);E(this,Cr,Object.create(null))}get(e,t=null){if(t){const s=A(this,_h,s0).call(this,e);return s.promise.then(()=>t(s.data)),null}const r=c(this,Cr)[e];if(!r||r.data===Xf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=c(this,Cr)[e];return!!t&&t.data!==Xf}resolve(e,t=null){const r=A(this,_h,s0).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in c(this,Cr)){const{data:r}=c(this,Cr)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}b(this,Cr,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Cr)){const{data:t}=c(this,Cr)[e];t!==Xf&&(yield[e,t])}}}Cr=new WeakMap,_h=new WeakSet,s0=function(e){var t;return(t=c(this,Cr))[e]||(t[e]={...Promise.withResolvers(),data:Xf})};var no;class NO{constructor(e){E(this,no,null);b(this,no,e),this.onContinue=null}get promise(){return c(this,no).capability.promise}cancel(e=0){c(this,no).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,no).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,no);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}no=new WeakMap;var ro,La;const qo=class qo{constructor({callback:e,params:t,objs:r,commonObjs:s,annotationCanvasMap:i,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){E(this,ro,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=s,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new NO(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var a,l;if(this.cancelled)return;if(this._canvas){if(c(qo,La).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(qo,La).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:s,transform:i,background:o}=this.params;this.gfx=new Zl(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:i,viewport:s,transparency:e,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),c(this,ro)&&(window.cancelAnimationFrame(c(this,ro)),b(this,ro,null)),c(qo,La).delete(this._canvas),this.callback(e||new sb(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?b(this,ro,window.requestAnimationFrame(()=>{b(this,ro,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(qo,La).delete(this._canvas),this.callback())))}};ro=new WeakMap,La=new WeakMap,E(qo,La,new WeakSet);let i0=qo;const DO="4.8.69",OO="3634dab10";function MA(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function zu(n){return Math.max(0,Math.min(255,255*n))}class IA{static CMYK_G([e,t,r,s]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=zu(e),[e,e,e]}static G_HTML([e]){const t=MA(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(zu)}static RGB_HTML(e){return`#${e.map(MA).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,r+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,r,s]){return[zu(1-Math.min(1,e+s)),zu(1-Math.min(1,r+s)),zu(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const s=1-e,i=1-t,o=1-r,a=Math.min(s,i,o);return["CMYK",s,i,o,a]}}class jO{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),r||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ne("Abstract method `_createSVG` called.")}}class fb extends jO{_createSVG(e){return document.createElementNS(Ts,e)}}class GC{static setupStorage(e,t,r,s,i){const o=s.getValue(t,{value:null});switch(r.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),i==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn?e.setAttribute("checked",!0):o.value===r.attributes.xfaOff&&e.removeAttribute("checked"),i==="print")break;e.addEventListener("change",a=>{s.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),i==="print")break;e.addEventListener("input",a=>{s.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of r.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const l=a.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:s,linkService:i}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${s}`);for(const[l,u]of Object.entries(o))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!a||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}a&&i.addLinkAttributes(e,o.href,o.newWindow),r&&o.dataId&&this.setupStorage(e,o.dataId,t,r)}static render(e){var h,f;const t=e.annotationStorage,r=e.linkService,s=e.xfaHtml,i=e.intent||"display",o=document.createElement(s.name);s.attributes&&this.setAttributes({html:o,element:s,intent:i,linkService:r});const a=i!=="richText",l=e.div;if(l.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(s.children.length===0){if(s.value){const p=document.createTextNode(s.value);o.append(p),a&&Bd.shouldBuildText(s.name)&&u.push(p)}return{textDivs:u}}const d=[[s,-1,o]];for(;d.length>0;){const[p,v,g]=d.at(-1);if(v+1===p.children.length){d.pop();continue}const w=p.children[++d.at(-1)[1]];if(w===null)continue;const{name:m}=w;if(m==="#text"){const x=document.createTextNode(w.value);u.push(x),g.append(x);continue}const y=(h=w==null?void 0:w.attributes)!=null&&h.xmlns?document.createElementNS(w.attributes.xmlns,m):document.createElement(m);if(g.append(y),w.attributes&&this.setAttributes({html:y,element:w,storage:t,intent:i,linkService:r}),((f=w.children)==null?void 0:f.length)>0)d.push([w,-1,y]);else if(w.value){const x=document.createTextNode(w.value);a&&Bd.shouldBuildText(m)&&u.push(x),y.append(x)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const vf=1e3,zO=9,cl=new WeakSet;function ai(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class BO{static create(e){switch(e.data.annotationType){case at.LINK:return new XC(e);case at.TEXT:return new HO(e);case at.WIDGET:switch(e.data.fieldType){case"Tx":return new $O(e);case"Btn":return e.data.radioButton?new KC(e):e.data.checkBox?new VO(e):new WO(e);case"Ch":return new GO(e);case"Sig":return new UO(e)}return new vl(e);case at.POPUP:return new a0(e);case at.FREETEXT:return new tT(e);case at.LINE:return new qO(e);case at.SQUARE:return new YO(e);case at.CIRCLE:return new KO(e);case at.POLYLINE:return new nT(e);case at.CARET:return new JO(e);case at.INK:return new pb(e);case at.POLYGON:return new QO(e);case at.HIGHLIGHT:return new rT(e);case at.UNDERLINE:return new ZO(e);case at.SQUIGGLY:return new e2(e);case at.STRIKEOUT:return new t2(e);case at.STAMP:return new sT(e);case at.FILEATTACHMENT:return new n2(e);default:return new et(e)}}}var Ma,zc,Bc,Ch,o0;const yb=class yb{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:s=!1}={}){E(this,Ch);E(this,Ma,null);E(this,zc,!1);E(this,Bc,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return yb._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;c(this,Ma)||b(this,Ma,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&A(this,Ch,o0).call(this,t),(r=c(this,Bc))==null||r.popup.updateEdited(e)}resetEdited(){var e;c(this,Ma)&&(A(this,Ch,o0).call(this,c(this,Ma).rect),(e=c(this,Bc))==null||e.popup.resetEdited(),b(this,Ma,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:s}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof vl||(i.tabIndex=vf);const{style:o}=i;if(o.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof a0){const{rotation:g}=t;return!t.hasOwnCanvas&&g!==0&&this.setRotation(g,i),i}const{width:a,height:l}=ai(t.rect);if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const g=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(g>0||w>0){const y=`calc(${g}px * var(--scale-factor)) / calc(${w}px * var(--scale-factor))`;o.borderRadius=y}else if(this instanceof KC){const y=`calc(${a}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;o.borderRadius=y}switch(t.borderStyle.style){case Ou.SOLID:o.borderStyle="solid";break;case Ou.DASHED:o.borderStyle="dashed";break;case Ou.BEVELED:ue("Unimplemented border style: beveled");break;case Ou.INSET:ue("Unimplemented border style: inset");break;case Ou.UNDERLINE:o.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(b(this,zc,!0),o.borderColor=Z.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):o.borderWidth=0}const u=Z.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=s.rawDims;o.left=`${100*(u[0]-f)/d}%`,o.top=`${100*(u[1]-p)/h}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(o.width=`${100*a/d}%`,o.height=`${100*l/h}%`):this.setRotation(v,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:s}=this.parent.viewport.rawDims,{width:i,height:o}=ai(this.data.rect);let a,l;e%180===0?(a=100*i/r,l=100*o/s):(a=100*o/r,l=100*i/s),t.style.width=`${a}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,s)=>{const i=s.detail[t],o=i[0],a=i.slice(1);s.target.style[r]=IA[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[r]:IA[`${o}_rgb`](a)})};return me(this,"_commonActions",{display:t=>{const{display:r}=t.detail,s=r%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const s of Object.keys(t.detail)){const i=e[s]||r[s];i==null||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[s,i]of Object.entries(t)){const o=r[s];if(o){const a={detail:{[s]:i},target:e};o(a),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,s,i]=this.data.rect.map(g=>Math.fround(g));if(e.length===8){const[g,w,m,y]=e.subarray(2,6);if(s===g&&i===w&&t===m&&r===y)return}const{style:o}=this.container;let a;if(c(this,zc)){const{borderColor:g,borderWidth:w}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=s-t,u=i-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,w=e.length;g<w;g+=8){const m=e[g],y=e[g+1],x=e[g+2],S=e[g+3],C=d.createElement("rect"),T=(x-t)/l,k=(i-y)/u,R=(m-x)/l,M=(y-S)/u;C.setAttribute("x",T),C.setAttribute("y",k),C.setAttribute("width",R),C.setAttribute("height",M),p.append(C),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${k}" width="${R}" height="${M}"/>`)}c(this,zc)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(h),this.container.style.clipPath=`url(#${v})`}_createPopup(){const{data:e}=this,t=b(this,Bc,new a0({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Ne("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:i,id:o,exportValues:a}of s){if(i===-1||o===t)continue;const l=typeof a=="string"?a:null,u=document.querySelector(`[data-element-id="${o}"]`);if(u&&!cl.has(u)){ue(`_getElementsByName - element not allowed: ${o}`);continue}r.push({id:o,exportValue:l,domElement:u})}return r}for(const s of document.getElementsByName(e)){const{exportValue:i}=s,o=s.getAttribute("data-element-id");o!==t&&cl.has(s)&&r.push({id:o,exportValue:i,domElement:s})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};Ma=new WeakMap,zc=new WeakMap,Bc=new WeakMap,Ch=new WeakSet,o0=function(e){const{container:{style:t},data:{rect:r,rotation:s},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:o,pageX:a,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:d}=ai(e);t.left=`${100*(e[0]-a)/i}%`,t.top=`${100*(o-e[3]+l)/o}%`,s===0?(t.width=`${100*u/i}%`,t.height=`${100*d/o}%`):this.setRotation(s)};let et=yb;var On,Uo,qC,YC;class XC extends et{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});E(this,On);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let i=!1;return t.url?(r.addLinkAttributes(s,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(s,t.action),i=!0):t.attachment?(A(this,On,qC).call(this,s,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(A(this,On,YC).call(this,s,t.setOCGState),i=!0):t.dest?(this._bindLink(s,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),i=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(s),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&A(this,On,Uo).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),A(this,On,Uo).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(r.actions)){const o=s.get(i);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),A(this,On,Uo).call(this)}_bindResetFormAction(t,r){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),A(this,On,Uo).call(this),!this._fieldObjects){ue('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var h;s==null||s();const{fields:i,refs:o,include:a}=r,l=[];if(i.length!==0||o.length!==0){const f=new Set(o);for(const p of i){const v=this._fieldObjects[p]||[];for(const{id:g}of v)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const v of p)f.has(v.id)===a&&l.push(v)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,d=[];for(const f of l){const{id:p}=f;switch(d.push(p),f.type){case"text":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;u.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";u.setValue(p,{value:g});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!cl.has(v)){ue(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}On=new WeakSet,Uo=function(){this.container.setAttribute("data-internal-link","")},qC=function(t,r,s=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var i;return(i=this.downloadManager)==null||i.openOrDownloadData(r.content,r.filename,s),!1},A(this,On,Uo).call(this)},YC=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),A(this,On,Uo).call(this)};class HO extends et{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class vl extends et{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return en.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,s,i){r.includes("mouse")?e.addEventListener(r,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(r,o=>{var a;if(r==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}i&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:i(o)}}))})}_setEventListeners(e,t,r,s){var i,o,a;for(const[l,u]of r)(u==="Action"||(i=this.data.actions)!=null&&i[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,s),u==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Z.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||zO,i=e.style;let o;const a=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a),d=Math.round(u/(cv*s))||1,h=u/d;o=Math.min(s,l(h/cv))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(s,l(u/cv))}i.fontSize=`calc(${o}px * var(--scale-factor))`,i.color=Z.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class $O extends vl{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,s){const i=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=r),i.setValue(o.id,{[s]:r})}render(){var s,i;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let u=o.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:a,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??a,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??a),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),cl.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=vf,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",f=>{e.setValue(t,{value:f.target.value}),this.setPropertyOnSiblings(r,"value",f.target.value,"value"),d.formattedValue=null}),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";r.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",p=>{var g;if(d.focused)return;const{target:v}=p;d.userValue&&(v.value=d.userValue),d.lastCommittedValue=v.value,d.commitKey=1,(g=this.data.actions)!=null&&g.Focus||(d.focused=!0)}),r.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const v={value(g){d.userValue=g.detail.value??"",e.setValue(t,{value:d.userValue.toString()}),g.target.value=d.userValue},formattedValue(g){const{formattedValue:w}=g.detail;d.formattedValue=w,w!=null&&g.target!==document.activeElement&&(g.target.value=w),e.setValue(t,{formattedValue:w})},selRange(g){g.target.setSelectionRange(...g.detail.selRange)},charLimit:g=>{var x;const{charLimit:w}=g.detail,{target:m}=g;if(w===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",w);let y=d.userValue;!y||y.length<=w||(y=y.slice(0,w),m.value=d.userValue=y,e.setValue(t,{value:y}),(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(v,p)}),r.addEventListener("keydown",p=>{var w;d.commitKey=1;let v=-1;if(p.key==="Escape"?v=0:p.key==="Enter"&&!this.data.multiLine?v=2:p.key==="Tab"&&(d.commitKey=3),v===-1)return;const{value:g}=p.target;d.lastCommittedValue!==g&&(d.lastCommittedValue=g,d.userValue=g,(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:g,willCommit:!0,commitKey:v,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,r.addEventListener("blur",p=>{var g,w;if(!d.focused||!p.relatedTarget)return;(g=this.data.actions)!=null&&g.Blur||(d.focused=!1);const{value:v}=p.target;d.userValue=v,d.lastCommittedValue!==v&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(i=this.data.actions)!=null&&i.Keystroke&&r.addEventListener("beforeinput",p=>{var C;d.lastCommittedValue=null;const{data:v,target:g}=p,{value:w,selectionStart:m,selectionEnd:y}=g;let x=m,S=y;switch(p.inputType){case"deleteWordBackward":{const T=w.substring(0,m).match(/\w*[^\w]*$/);T&&(x-=T[0].length);break}case"deleteWordForward":{const T=w.substring(m).match(/^[^\w]*\w*/);T&&(S+=T[0].length);break}case"deleteContentBackward":m===y&&(x-=1);break;case"deleteContentForward":m===y&&(S+=1);break}p.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,change:v||"",willCommit:!1,selStart:x,selEnd:S}})}),this._setEventListeners(r,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&r.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class UO extends vl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class VO extends vl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(r,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return cl.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=vf,i.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r)){const d=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(r,{value:l})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class KC extends vl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let s=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(r,{value:s})),s)for(const o of this._getElementsByName(t.fieldName,r))e.setValue(o.id,{value:!1});const i=document.createElement("input");if(cl.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,s&&i.setAttribute("checked",!0),i.tabIndex=vf,i.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const u of this._getElementsByName(a,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),i.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;i.addEventListener("updatefromsandbox",a=>{const l={value:u=>{const d=o===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===r;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class WO extends XC{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class GO extends vl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");cl.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=vf;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of s.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),i=!1),s.append(h)}let o=null;if(i){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),s.prepend(d),o=()=>{d.remove(),s.removeEventListener("input",o),o=null},s.addEventListener("input",o)}const a=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=s;return p?Array.prototype.filter.call(f,v=>v.selected).map(v=>v[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=a(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",d=>{const h={value(f){o==null||o();const p=f.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const g of s.options)g.selected=v.has(g.value);e.setValue(t,{value:a(!0)}),l=a(!1)},multipleSelection(f){s.multiple=!0},remove(f){const p=s.options,v=f.detail.remove;p[v].selected=!1,s.remove(v),p.length>0&&Array.prototype.findIndex.call(p,w=>w.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},clear(f){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:v,exportValue:g}=f.detail.insert,w=s.children[p],m=document.createElement("option");m.textContent=v,m.value=g,w?w.before(m):s.append(m),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;s.length!==0;)s.remove(0);for(const v of p){const{displayValue:g,exportValue:w}=v,m=document.createElement("option");m.textContent=g,m.value=w,s.append(m)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:a(!0),items:u(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const v of f.target.options)v.selected=p.has(v.index);e.setValue(t,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),s.addEventListener("input",d=>{var p;const h=a(!0),f=a(!1);e.setValue(t,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):s.addEventListener("input",function(d){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class a0 extends et{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:et._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new XO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${rb}${r}`).join(",")),this.container}}var Hc,Dg,Og,$c,Ia,Ye,Us,Uc,Th,kh,Vc,Vs,Tr,Ws,Ph,Gs,Rh,Fa,Na,ke,Ep,l0,QC,JC,ZC,eT,Sp,_p,c0;class XO{constructor({container:e,color:t,elements:r,titleObj:s,modificationDate:i,contentsObj:o,richText:a,parent:l,rect:u,parentRect:d,open:h}){E(this,ke);E(this,Hc,A(this,ke,ZC).bind(this));E(this,Dg,A(this,ke,c0).bind(this));E(this,Og,A(this,ke,_p).bind(this));E(this,$c,A(this,ke,Sp).bind(this));E(this,Ia,null);E(this,Ye,null);E(this,Us,null);E(this,Uc,null);E(this,Th,null);E(this,kh,null);E(this,Vc,null);E(this,Vs,!1);E(this,Tr,null);E(this,Ws,null);E(this,Ph,null);E(this,Gs,null);E(this,Rh,null);E(this,Fa,null);E(this,Na,!1);var f;b(this,Ye,e),b(this,Rh,s),b(this,Us,o),b(this,Gs,a),b(this,kh,l),b(this,Ia,t),b(this,Ph,u),b(this,Vc,d),b(this,Th,r),b(this,Uc,ob.toDateObject(i)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",c(this,$c)),p.addEventListener("mouseenter",c(this,Og)),p.addEventListener("mouseleave",c(this,Dg)),p.classList.add("popupTriggerArea");for(const p of r)(f=p.container)==null||f.addEventListener("keydown",c(this,Hc));c(this,Ye).hidden=!0,h&&A(this,ke,Sp).call(this)}render(){if(c(this,Tr))return;const e=b(this,Tr,document.createElement("div"));if(e.className="popup",c(this,Ia)){const i=e.style.outlineColor=Z.makeHexColor(...c(this,Ia));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`:e.style.backgroundColor=Z.makeHexColor(...c(this,Ia).map(a=>Math.floor(.7*(255-a)+a)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=c(this,Rh),e.append(t),c(this,Uc)){const i=document.createElement("span");i.classList.add("popupDate"),i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,Uc).valueOf()})),t.append(i)}const s=c(this,ke,Ep);if(s)GC.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const i=this._formatContents(c(this,Us));e.append(i)}c(this,Ye).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let i=0,o=s.length;i<o;++i){const a=s[i];r.append(document.createTextNode(a)),i<o-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;c(this,Fa)||b(this,Fa,{contentsObj:c(this,Us),richText:c(this,Gs)}),e&&b(this,Ws,null),t&&(b(this,Gs,A(this,ke,JC).call(this,t)),b(this,Us,null)),(r=c(this,Tr))==null||r.remove(),b(this,Tr,null)}resetEdited(){var e;c(this,Fa)&&({contentsObj:mt(this,Us)._,richText:mt(this,Gs)._}=c(this,Fa),b(this,Fa,null),(e=c(this,Tr))==null||e.remove(),b(this,Tr,null),b(this,Ws,null))}forceHide(){b(this,Na,this.isVisible),c(this,Na)&&(c(this,Ye).hidden=!0)}maybeShow(){c(this,Na)&&(c(this,Tr)||A(this,ke,_p).call(this),b(this,Na,!1),c(this,Ye).hidden=!1)}get isVisible(){return c(this,Ye).hidden===!1}}Hc=new WeakMap,Dg=new WeakMap,Og=new WeakMap,$c=new WeakMap,Ia=new WeakMap,Ye=new WeakMap,Us=new WeakMap,Uc=new WeakMap,Th=new WeakMap,kh=new WeakMap,Vc=new WeakMap,Vs=new WeakMap,Tr=new WeakMap,Ws=new WeakMap,Ph=new WeakMap,Gs=new WeakMap,Rh=new WeakMap,Fa=new WeakMap,Na=new WeakMap,ke=new WeakSet,Ep=function(){const e=c(this,Gs),t=c(this,Us);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Gs).html||null},l0=function(){var e,t,r;return((r=(t=(e=c(this,ke,Ep))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},QC=function(){var e,t,r;return((r=(t=(e=c(this,ke,Ep))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},JC=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:c(this,ke,QC),fontSize:c(this,ke,l0)?`calc(${c(this,ke,l0)}px * var(--scale-factor))`:""}};for(const i of e.split(`
`))t.push({name:"span",value:i,attributes:s});return r},ZC=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Vs))&&A(this,ke,Sp).call(this)},eT=function(){if(c(this,Ws)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:s,pageY:i}}}=c(this,kh);let o=!!c(this,Vc),a=o?c(this,Vc):c(this,Ph);for(const v of c(this,Th))if(!a||Z.intersect(v.data.rect,a)!==null){a=v.data.rect,o=!0;break}const l=Z.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),d=o?a[2]-a[0]+5:0,h=l[0]+d,f=l[1];b(this,Ws,[100*(h-s)/t,100*(f-i)/r]);const{style:p}=c(this,Ye);p.left=`${c(this,Ws)[0]}%`,p.top=`${c(this,Ws)[1]}%`},Sp=function(){b(this,Vs,!c(this,Vs)),c(this,Vs)?(A(this,ke,_p).call(this),c(this,Ye).addEventListener("click",c(this,$c)),c(this,Ye).addEventListener("keydown",c(this,Hc))):(A(this,ke,c0).call(this),c(this,Ye).removeEventListener("click",c(this,$c)),c(this,Ye).removeEventListener("keydown",c(this,Hc)))},_p=function(){c(this,Tr)||this.render(),this.isVisible?c(this,Vs)&&c(this,Ye).classList.add("focused"):(A(this,ke,eT).call(this),c(this,Ye).hidden=!1,c(this,Ye).style.zIndex=parseInt(c(this,Ye).style.zIndex)+1e3)},c0=function(){c(this,Ye).classList.remove("focused"),!(c(this,Vs)||!this.isVisible)&&(c(this,Ye).hidden=!0,c(this,Ye).style.zIndex=parseInt(c(this,Ye).style.zIndex)-1e3)};class tT extends et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=le.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Lh;class qO extends et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Lh,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:s}=ai(t.rect),i=this.svgFactory.create(r,s,!0),o=b(this,Lh,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Lh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lh=new WeakMap;var Mh;class YO extends et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Mh,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:s}=ai(t.rect),i=this.svgFactory.create(r,s,!0),o=t.borderStyle.width,a=b(this,Mh,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",r-o),a.setAttribute("height",s-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Mh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mh=new WeakMap;var Ih;class KO extends et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Ih,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:s}=ai(t.rect),i=this.svgFactory.create(r,s,!0),o=t.borderStyle.width,a=b(this,Ih,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",r/2),a.setAttribute("cy",s/2),a.setAttribute("rx",r/2-o/2),a.setAttribute("ry",s/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Ih)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ih=new WeakMap;var Fh;class nT extends et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Fh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:s,popupRef:i}}=this;if(!r)return this.container;const{width:o,height:a}=ai(t),l=this.svgFactory.create(o,a,!0);let u=[];for(let h=0,f=r.length;h<f;h+=2){const p=r[h]-t[0],v=t[3]-r[h+1];u.push(`${p},${v}`)}u=u.join(" ");const d=b(this,Fh,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Fh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fh=new WeakMap;class QO extends nT{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class JO extends et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Nh;class pb extends et{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});E(this,Nh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?le.HIGHLIGHT:le.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:r,borderStyle:s,popupRef:i}}=this,{width:o,height:a}=ai(t),l=this.svgFactory.create(o,a,!0);for(const u of r){let d=[];for(let f=0,p=u.length;f<p;f+=2){const v=u[f]-t[0],g=t[3]-u[f+1];d.push(`${v},${g}`)}d=d.join(" ");const h=this.svgFactory.createElement(this.svgElementName);c(this,Nh).push(h),h.setAttribute("points",d),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return c(this,Nh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nh=new WeakMap;class rT extends et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=le.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class ZO extends et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class e2 extends et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class t2 extends et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class sT extends et{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=le.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Dh,Oh,u0;class n2 extends et{constructor(t){var s;super(t,{isRenderable:!0});E(this,Oh);E(this,Dh,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let s;r.hasAppearance||r.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),s.addEventListener("dblclick",A(this,Oh,u0).bind(this)),b(this,Dh,s);const{isMac:i}=en.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(i?o.metaKey:o.ctrlKey)&&A(this,Oh,u0).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return c(this,Dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Dh=new WeakMap,Oh=new WeakSet,u0=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var jh,Da,Oa,zh,dl,iT,d0,ZA;let r2=(ZA=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:s,page:i,viewport:o,structTreeLayer:a}){E(this,dl);E(this,jh,null);E(this,Da,null);E(this,Oa,new Map);E(this,zh,null);this.div=e,b(this,jh,t),b(this,Da,r),b(this,zh,a||null),this.page=i,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return c(this,Oa).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;al(r,this.viewport);const s=new Map,i={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new fb,annotationStorage:e.annotationStorage||new lb,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const l=a.annotationType===at.POPUP;if(l){const h=s.get(a.id);if(!h)continue;i.elements=h}else{const{width:h,height:f}=ai(a.rect);if(h<=0||f<=0)continue}i.data=a;const u=BO.create(i);if(!u.isRenderable)continue;if(!l&&a.popupRef){const h=s.get(a.popupRef);h?h.push(u):s.set(a.popupRef,[u])}const d=u.render();a.hidden&&(d.style.visibility="hidden"),await A(this,dl,iT).call(this,d,a.id),u._isEditable&&(c(this,Oa).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}A(this,dl,d0).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,al(t,{rotation:e.rotation}),A(this,dl,d0).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,Oa).values())}getEditableAnnotation(e){return c(this,Oa).get(e)}},jh=new WeakMap,Da=new WeakMap,Oa=new WeakMap,zh=new WeakMap,dl=new WeakSet,iT=async function(e,t){var o,a;const r=e.firstChild||e,s=r.id=`${rb}${t}`,i=await((o=c(this,zh))==null?void 0:o.getAriaAttributes(s));if(i)for(const[l,u]of i)r.setAttribute(l,u);this.div.append(e),(a=c(this,jh))==null||a.moveElementInDOM(this.div,e,r,!1)},d0=function(){if(!c(this,Da))return;const e=this.div;for(const[t,r]of c(this,Da)){const s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:i}=s;i?i.nodeName==="CANVAS"?i.replaceWith(r):i.classList.contains("annotationContent")?i.after(r):i.before(r):s.append(r)}c(this,Da).clear()},ZA);const qf=/\r\n?|\n/g;var kr,kn,Bh,ja,Pn,ot,oT,aT,lT,Cp,ci,Tp,kp,cT,f0,uT;const Re=class Re extends Se{constructor(t){super({...t,name:"freeTextEditor"});E(this,ot);E(this,kr);E(this,kn,"");E(this,Bh,`${this.id}-editor`);E(this,ja,null);E(this,Pn);b(this,kr,t.color||Re._defaultColor||Se._defaultLineColor),b(this,Pn,t.fontSize||Re._defaultFontSize)}static get _keyboardManager(){const t=Re.prototype,r=o=>o.isEmpty(),s=ll.TRANSLATE_SMALL,i=ll.TRANSLATE_BIG;return me(this,"_keyboardManager",new mf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}]]))}static initialize(t,r){Se.initialize(t,r);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case re.FREETEXT_SIZE:Re._defaultFontSize=r;break;case re.FREETEXT_COLOR:Re._defaultColor=r;break}}updateParams(t,r){switch(t){case re.FREETEXT_SIZE:A(this,ot,oT).call(this,r);break;case re.FREETEXT_COLOR:A(this,ot,aT).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[re.FREETEXT_SIZE,Re._defaultFontSize],[re.FREETEXT_COLOR,Re._defaultColor||Se._defaultLineColor]]}get propertiesToUpdate(){return[[re.FREETEXT_SIZE,c(this,Pn)],[re.FREETEXT_COLOR,c(this,kr)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Re._internalPadding*t,-(Re._internalPadding+c(this,Pn))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(le.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),b(this,ja,new AbortController);const t=this._uiManager.combinedSignal(c(this,ja));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Bh)),this._isDraggable=!0,(t=c(this,ja))==null||t.abort(),b(this,ja,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),(t=this._initialOptions)!=null&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,kn),r=b(this,kn,A(this,ot,lT).call(this).trimEnd());if(t===r)return;const s=i=>{if(b(this,kn,i),!i){this.remove();return}A(this,ot,kp).call(this),this._uiManager.rebuild(this),A(this,ot,Cp).call(this)};this.addCommands({cmd:()=>{s(r)},undo:()=>{s(t)},mustExec:!1}),A(this,ot,Cp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Re._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Bh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${c(this,Pn)}px * var(--scale-factor))`,s.color=c(this,kr),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),yg(this,this.div,["dblclick","keydown"]),this.width){const[i,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let v,g;switch(this.rotation){case 0:v=t+(a[0]-f)/d,g=r+this.height-(a[1]-p)/h;break;case 90:v=t+(a[0]-f)/d,g=r-(a[1]-p)/h,[l,u]=[u,-l];break;case 180:v=t-this.width+(a[0]-f)/d,g=r-(a[1]-p)/h,[l,u]=[-l,-u];break;case 270:v=t+(a[0]-f-this.height*h)/d,g=r+(a[1]-p-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(v*i,g*o,l,u)}else this.setAt(t*i,r*o,this.width*i,this.height*o);A(this,ot,kp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,g,w;const r=t.clipboardData||window.clipboardData,{types:s}=r;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const i=A(v=Re,ci,f0).call(v,r.getData("text")||"").replaceAll(qf,`
`);if(!i)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:u}=a,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const m=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(qf,"")),m!==this.editorDiv){let y=d;for(const x of this.editorDiv.childNodes){if(x===m){y=h;continue}y.push(A(g=Re,ci,Tp).call(g,x))}}d.push(l.nodeValue.slice(0,u).replaceAll(qf,""))}else if(l===this.editorDiv){let m=d,y=0;for(const x of this.editorDiv.childNodes)y++===u&&(m=h),m.push(A(w=Re,ci,Tp).call(w,x))}b(this,kn,`${d.join(`
`)}${i}${h.join(`
`)}`),A(this,ot,kp).call(this);const f=new Range;let p=d.reduce((m,y)=>m+y.length,0);for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const y=m.nodeValue.length;if(p<=y){f.setStart(m,p),f.setEnd(m,p);break}p-=y}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,s){var a;let i=null;if(t instanceof tT){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:f,popupRef:p},textContent:v,textPosition:g,parent:{page:{pageNumber:w}}}=t;if(!v||v.length===0)return null;i=t={annotationType:le.FREETEXT,color:Array.from(u),fontSize:l,value:v.join(`
`),position:g,pageIndex:w-1,rect:d.slice(0),rotation:h,id:f,deleted:!1,popupRef:p}}const o=await super.deserialize(t,r,s);return b(o,Pn,t.fontSize),b(o,kr,Z.makeHexColor(...t.color)),b(o,kn,A(a=Re,ci,f0).call(a,t.value)),o.annotationElementId=t.id||null,o._initialData=i,o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Re._internalPadding*this.parentScale,s=this.getRect(r,r),i=Se._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,kr)),o={annotationType:le.FREETEXT,color:i,fontSize:c(this,Pn),value:A(this,ot,cT).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!A(this,ot,uT).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:s}=r;s.fontSize=`calc(${c(this,Pn)}px * var(--scale-factor))`,s.color=c(this,kr),r.replaceChildren();for(const o of c(this,kn).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),r.append(a)}const i=Re._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:c(this,kn)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};kr=new WeakMap,kn=new WeakMap,Bh=new WeakMap,ja=new WeakMap,Pn=new WeakMap,ot=new WeakSet,oT=function(t){const r=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--scale-factor))`,this.translate(0,-(i-c(this,Pn))*this.parentScale),b(this,Pn,i),A(this,ot,Cp).call(this)},s=c(this,Pn);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},aT=function(t){const r=i=>{b(this,kr,this.editorDiv.style.color=i)},s=c(this,kr);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},lT=function(){var s;const t=[];this.editorDiv.normalize();let r=null;for(const i of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&i.nodeName==="BR"||(t.push(A(s=Re,ci,Tp).call(s,i)),r=i);return t.join(`
`)},Cp=function(){const[t,r]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),s=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/r):(this.width=s.height/t,this.height=s.width/r),this.fixAndSetPosition()},ci=new WeakSet,Tp=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(qf,"")},kp=function(){if(this.editorDiv.replaceChildren(),!!c(this,kn))for(const t of c(this,kn).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},cT=function(){return c(this,kn).replaceAll(""," ")},f0=function(t){return t.replaceAll(" ","")},uT=function(t){const{value:r,fontSize:s,color:i,pageIndex:o}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==s||t.color.some((a,l)=>a!==i[l])||t.pageIndex!==o},E(Re,ci),ne(Re,"_freeTextDefaultContent",""),ne(Re,"_internalPadding",0),ne(Re,"_defaultColor",null),ne(Re,"_defaultFontSize",10),ne(Re,"_type","freetext"),ne(Re,"_editorType",le.FREETEXT);let h0=Re;class dT{toSVGPath(){Ne("Abstract method `toSVGPath` must be implemented.")}get box(){Ne("Abstract getter `box` must be implemented.")}serialize(e,t){Ne("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){Ne("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){Ne("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Rn,Pr,Wc,Gc,cs,he,za,Ba,Hh,$h,Xc,qc,so,Uh,jg,zg,gt,Zu,hT,fT,pT,gT,mT,vT;const Rs=class Rs{constructor({x:e,y:t},r,s,i,o,a=0){E(this,gt);E(this,Rn);E(this,Pr,[]);E(this,Wc);E(this,Gc);E(this,cs,[]);E(this,he,new Float64Array(18));E(this,za);E(this,Ba);E(this,Hh);E(this,$h);E(this,Xc);E(this,qc);E(this,so,[]);b(this,Rn,r),b(this,qc,i*s),b(this,Gc,o),c(this,he).set([NaN,NaN,NaN,NaN,e,t],6),b(this,Wc,a),b(this,$h,c(Rs,Uh)*s),b(this,Hh,c(Rs,zg)*s),b(this,Xc,s),c(this,so).push(e,t)}isEmpty(){return isNaN(c(this,he)[8])}add({x:e,y:t}){var M;b(this,za,e),b(this,Ba,t);const[r,s,i,o]=c(this,Rn);let[a,l,u,d]=c(this,he).subarray(8,12);const h=e-u,f=t-d,p=Math.hypot(h,f);if(p<c(this,Hh))return!1;const v=p-c(this,$h),g=v/p,w=g*h,m=g*f;let y=a,x=l;a=u,l=d,u+=w,d+=m,(M=c(this,so))==null||M.push(e,t);const S=-m/v,C=w/v,T=S*c(this,qc),k=C*c(this,qc);return c(this,he).set(c(this,he).subarray(2,8),0),c(this,he).set([u+T,d+k],4),c(this,he).set(c(this,he).subarray(14,18),12),c(this,he).set([u-T,d-k],16),isNaN(c(this,he)[6])?(c(this,cs).length===0&&(c(this,he).set([a+T,l+k],2),c(this,cs).push(NaN,NaN,NaN,NaN,(a+T-r)/i,(l+k-s)/o),c(this,he).set([a-T,l-k],14),c(this,Pr).push(NaN,NaN,NaN,NaN,(a-T-r)/i,(l-k-s)/o)),c(this,he).set([y,x,a,l,u,d],6),!this.isEmpty()):(c(this,he).set([y,x,a,l,u,d],6),Math.abs(Math.atan2(x-l,y-a)-Math.atan2(m,w))<Math.PI/2?([a,l,u,d]=c(this,he).subarray(2,6),c(this,cs).push(NaN,NaN,NaN,NaN,((a+u)/2-r)/i,((l+d)/2-s)/o),[a,l,y,x]=c(this,he).subarray(14,18),c(this,Pr).push(NaN,NaN,NaN,NaN,((y+a)/2-r)/i,((x+l)/2-s)/o),!0):([y,x,a,l,u,d]=c(this,he).subarray(0,6),c(this,cs).push(((y+5*a)/6-r)/i,((x+5*l)/6-s)/o,((5*a+u)/6-r)/i,((5*l+d)/6-s)/o,((a+u)/2-r)/i,((l+d)/2-s)/o),[u,d,a,l,y,x]=c(this,he).subarray(12,18),c(this,Pr).push(((y+5*a)/6-r)/i,((x+5*l)/6-s)/o,((5*a+u)/6-r)/i,((5*l+d)/6-s)/o,((a+u)/2-r)/i,((l+d)/2-s)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,cs),t=c(this,Pr);if(isNaN(c(this,he)[6])&&!this.isEmpty())return A(this,gt,hT).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?r.push(`L${e[s+4]} ${e[s+5]}`):r.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);A(this,gt,pT).call(this,r);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?r.push(`L${t[s+4]} ${t[s+5]}`):r.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return A(this,gt,fT).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,s,i,o){return new yT(e,t,r,s,i,o)}getOutlines(){var h;const e=c(this,cs),t=c(this,Pr),r=c(this,he),[s,i,o,a]=c(this,Rn),l=new Float64Array((((h=c(this,so))==null?void 0:h.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(c(this,so)[f]-s)/o,l[f+1]=(c(this,so)[f+1]-i)/a;if(l[l.length-2]=(c(this,za)-s)/o,l[l.length-1]=(c(this,Ba)-i)/a,isNaN(r[6])&&!this.isEmpty())return A(this,gt,gT).call(this,l);const u=new Float64Array(c(this,cs).length+24+c(this,Pr).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=A(this,gt,vT).call(this,u,d);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=t[f+p],u[d+1]=t[f+p+1],d+=2}return A(this,gt,mT).call(this,u,d),this.newFreeDrawOutline(u,l,c(this,Rn),c(this,Xc),c(this,Wc),c(this,Gc))}};Rn=new WeakMap,Pr=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,cs=new WeakMap,he=new WeakMap,za=new WeakMap,Ba=new WeakMap,Hh=new WeakMap,$h=new WeakMap,Xc=new WeakMap,qc=new WeakMap,so=new WeakMap,Uh=new WeakMap,jg=new WeakMap,zg=new WeakMap,gt=new WeakSet,Zu=function(){const e=c(this,he).subarray(4,6),t=c(this,he).subarray(16,18),[r,s,i,o]=c(this,Rn);return[(c(this,za)+(e[0]-t[0])/2-r)/i,(c(this,Ba)+(e[1]-t[1])/2-s)/o,(c(this,za)+(t[0]-e[0])/2-r)/i,(c(this,Ba)+(t[1]-e[1])/2-s)/o]},hT=function(){const[e,t,r,s]=c(this,Rn),[i,o,a,l]=A(this,gt,Zu).call(this);return`M${(c(this,he)[2]-e)/r} ${(c(this,he)[3]-t)/s} L${(c(this,he)[4]-e)/r} ${(c(this,he)[5]-t)/s} L${i} ${o} L${a} ${l} L${(c(this,he)[16]-e)/r} ${(c(this,he)[17]-t)/s} L${(c(this,he)[14]-e)/r} ${(c(this,he)[15]-t)/s} Z`},fT=function(e){const t=c(this,Pr);e.push(`L${t[4]} ${t[5]} Z`)},pT=function(e){const[t,r,s,i]=c(this,Rn),o=c(this,he).subarray(4,6),a=c(this,he).subarray(16,18),[l,u,d,h]=A(this,gt,Zu).call(this);e.push(`L${(o[0]-t)/s} ${(o[1]-r)/i} L${l} ${u} L${d} ${h} L${(a[0]-t)/s} ${(a[1]-r)/i}`)},gT=function(e){const t=c(this,he),[r,s,i,o]=c(this,Rn),[a,l,u,d]=A(this,gt,Zu).call(this),h=new Float64Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-r)/i,(t[3]-s)/o,NaN,NaN,NaN,NaN,(t[4]-r)/i,(t[5]-s)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(t[16]-r)/i,(t[17]-s)/o,NaN,NaN,NaN,NaN,(t[14]-r)/i,(t[15]-s)/o],0),this.newFreeDrawOutline(h,e,c(this,Rn),c(this,Xc),c(this,Wc),c(this,Gc))},mT=function(e,t){const r=c(this,Pr);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},vT=function(e,t){const r=c(this,he).subarray(4,6),s=c(this,he).subarray(16,18),[i,o,a,l]=c(this,Rn),[u,d,h,f]=A(this,gt,Zu).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-o)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(s[0]-i)/a,(s[1]-o)/l],t),t+=24},E(Rs,Uh,8),E(Rs,jg,2),E(Rs,zg,c(Rs,Uh)+c(Rs,jg));let bg=Rs;var Yc,Ha,Xs,Vh,Ln,Wh,Je,vn,ed,td,wT;class yT extends dT{constructor(t,r,s,i,o,a){super();E(this,vn);E(this,Yc);E(this,Ha,null);E(this,Xs);E(this,Vh);E(this,Ln);E(this,Wh);E(this,Je);b(this,Je,t),b(this,Ln,r),b(this,Yc,s),b(this,Wh,i),b(this,Xs,o),b(this,Vh,a),A(this,vn,wT).call(this,a);const{x:l,y:u,width:d,height:h}=c(this,Ha);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/d,t[f+1]=(t[f+1]-u)/h;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/d,r[f+1]=(r[f+1]-u)/h}toSVGPath(){const t=[`M${c(this,Je)[4]} ${c(this,Je)[5]}`];for(let r=6,s=c(this,Je).length;r<s;r+=6){if(isNaN(c(this,Je)[r])){t.push(`L${c(this,Je)[r+4]} ${c(this,Je)[r+5]}`);continue}t.push(`C${c(this,Je)[r]} ${c(this,Je)[r+1]} ${c(this,Je)[r+2]} ${c(this,Je)[r+3]} ${c(this,Je)[r+4]} ${c(this,Je)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,s,i],o){const a=s-t,l=i-r;let u,d;switch(o){case 0:u=A(this,vn,ed).call(this,c(this,Je),t,i,a,-l),d=A(this,vn,ed).call(this,c(this,Ln),t,i,a,-l);break;case 90:u=A(this,vn,td).call(this,c(this,Je),t,r,a,l),d=A(this,vn,td).call(this,c(this,Ln),t,r,a,l);break;case 180:u=A(this,vn,ed).call(this,c(this,Je),s,r,-a,l),d=A(this,vn,ed).call(this,c(this,Ln),s,r,-a,l);break;case 270:u=A(this,vn,td).call(this,c(this,Je),s,i,-a,-l),d=A(this,vn,td).call(this,c(this,Ln),s,i,-a,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return c(this,Ha)}newOutliner(t,r,s,i,o,a=0){return new bg(t,r,s,i,o,a)}getNewOutline(t,r){const{x:s,y:i,width:o,height:a}=c(this,Ha),[l,u,d,h]=c(this,Yc),f=o*d,p=a*h,v=s*d+l,g=i*h+u,w=this.newOutliner({x:c(this,Ln)[0]*f+v,y:c(this,Ln)[1]*p+g},c(this,Yc),c(this,Wh),t,c(this,Vh),r??c(this,Xs));for(let m=2;m<c(this,Ln).length;m+=2)w.add({x:c(this,Ln)[m]*f+v,y:c(this,Ln)[m+1]*p+g});return w.getOutlines()}get mustRemoveSelfIntersections(){return!0}}Yc=new WeakMap,Ha=new WeakMap,Xs=new WeakMap,Vh=new WeakMap,Ln=new WeakMap,Wh=new WeakMap,Je=new WeakMap,vn=new WeakSet,ed=function(t,r,s,i,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l]*i,a[l+1]=s+t[l+1]*o;return a},td=function(t,r,s,i,o){const a=new Float64Array(t.length);for(let l=0,u=t.length;l<u;l+=2)a[l]=r+t[l+1]*i,a[l+1]=s+t[l]*o;return a},wT=function(t){const r=c(this,Je);let s=r[4],i=r[5],o=s,a=i,l=s,u=i,d=s,h=i;const f=t?Math.max:Math.min;for(let m=6,y=r.length;m<y;m+=6){if(isNaN(r[m]))o=Math.min(o,r[m+4]),a=Math.min(a,r[m+5]),l=Math.max(l,r[m+4]),u=Math.max(u,r[m+5]),h<r[m+5]?(d=r[m+4],h=r[m+5]):h===r[m+5]&&(d=f(d,r[m+4]));else{const x=Z.bezierBoundingBox(s,i,...r.slice(m,m+6));o=Math.min(o,x[0]),a=Math.min(a,x[1]),l=Math.max(l,x[2]),u=Math.max(u,x[3]),h<x[3]?(d=x[2],h=x[3]):h===x[3]&&(d=f(d,x[2]))}s=r[m+4],i=r[m+5]}const p=o-c(this,Xs),v=a-c(this,Xs),g=l-o+2*c(this,Xs),w=u-a+2*c(this,Xs);b(this,Ha,{x:p,y:v,width:g,height:w,lastPoint:[d,h]})};var Gh,io,Rr,nn,bT,Pp,xT,AT,p0;class FA{constructor(e,t=0,r=0,s=!0){E(this,nn);E(this,Gh);E(this,io,[]);E(this,Rr,[]);let i=1/0,o=-1/0,a=1/0,l=-1/0;const u=10**-4;for(const{x:w,y:m,width:y,height:x}of e){const S=Math.floor((w-t)/u)*u,C=Math.ceil((w+y+t)/u)*u,T=Math.floor((m-t)/u)*u,k=Math.ceil((m+x+t)/u)*u,R=[S,T,k,!0],M=[C,T,k,!1];c(this,io).push(R,M),i=Math.min(i,S),o=Math.max(o,C),a=Math.min(a,T),l=Math.max(l,k)}const d=o-i+2*r,h=l-a+2*r,f=i-r,p=a-r,v=c(this,io).at(s?-1:-2),g=[v[0],v[2]];for(const w of c(this,io)){const[m,y,x]=w;w[0]=(m-f)/d,w[1]=(y-p)/h,w[2]=(x-p)/h}b(this,Gh,{x:f,y:p,width:d,height:h,lastPoint:g})}getOutlines(){c(this,io).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of c(this,io))t[3]?(e.push(...A(this,nn,p0).call(this,t)),A(this,nn,xT).call(this,t)):(A(this,nn,AT).call(this,t),e.push(...A(this,nn,p0).call(this,t)));return A(this,nn,bT).call(this,e)}}Gh=new WeakMap,io=new WeakMap,Rr=new WeakMap,nn=new WeakSet,bT=function(e){const t=[],r=new Set;for(const o of e){const[a,l,u]=o;t.push([a,l,o],[a,u,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const l=t[o][2],u=t[o+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const s=[];let i;for(;r.size>0;){const o=r.values().next().value;let[a,l,u,d,h]=o;r.delete(o);let f=a,p=l;for(i=[a,u],s.push(i);;){let v;if(r.has(d))v=d;else if(r.has(h))v=h;else break;r.delete(v),[a,l,u,d,h]=v,f!==a&&(i.push(f,p,a,p===l?l:u),f=a),p=p===l?u:l}i.push(f,p)}return new s2(s,c(this,Gh))},Pp=function(e){const t=c(this,Rr);let r=0,s=t.length-1;for(;r<=s;){const i=r+s>>1,o=t[i][0];if(o===e)return i;o<e?r=i+1:s=i-1}return s+1},xT=function([,e,t]){const r=A(this,nn,Pp).call(this,e);c(this,Rr).splice(r,0,[e,t])},AT=function([,e,t]){const r=A(this,nn,Pp).call(this,e);for(let s=r;s<c(this,Rr).length;s++){const[i,o]=c(this,Rr)[s];if(i!==e)break;if(i===e&&o===t){c(this,Rr).splice(s,1);return}}for(let s=r-1;s>=0;s--){const[i,o]=c(this,Rr)[s];if(i!==e)break;if(i===e&&o===t){c(this,Rr).splice(s,1);return}}},p0=function(e){const[t,r,s]=e,i=[[t,r,s]],o=A(this,nn,Pp).call(this,s);for(let a=0;a<o;a++){const[l,u]=c(this,Rr)[a];for(let d=0,h=i.length;d<h;d++){const[,f,p]=i[d];if(!(u<=f||p<=l)){if(f>=l){if(p>u)i[d][1]=u;else{if(h===1)return[];i.splice(d,1),d--,h--}continue}i[d][2]=l,p>u&&i.push([t,u,p])}}}return i};var Xh,Kc;class s2 extends dT{constructor(t,r){super();E(this,Xh);E(this,Kc);b(this,Kc,t),b(this,Xh,r)}toSVGPath(){const t=[];for(const r of c(this,Kc)){let[s,i]=r;t.push(`M${s} ${i}`);for(let o=2;o<r.length;o+=2){const a=r[o],l=r[o+1];a===s?(t.push(`V${l}`),i=l):l===i&&(t.push(`H${a}`),s=a)}t.push("Z")}return t.join(" ")}serialize([t,r,s,i],o){const a=[],l=s-t,u=i-r;for(const d of c(this,Kc)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=t+d[f]*l,h[f+1]=i-d[f+1]*u;a.push(h)}return a}get box(){return c(this,Xh)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}Xh=new WeakMap,Kc=new WeakMap;class g0 extends bg{newFreeDrawOutline(e,t,r,s,i,o){return new i2(e,t,r,s,i,o)}get classNamesForDrawing(){return["highlight","free"]}}class i2 extends yT{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,r,s,i,o=0){return new g0(e,t,r,s,i,o)}}var Lr,$a,Qc,ct,qh,Jc,Yh,Kh,oo,Mr,Zc,Qh,Te,m0,v0,y0,Vo,ET,Pi;const cn=class cn{constructor({editor:e=null,uiManager:t=null}){E(this,Te);E(this,Lr,null);E(this,$a,null);E(this,Qc);E(this,ct,null);E(this,qh,!1);E(this,Jc,!1);E(this,Yh,null);E(this,Kh);E(this,oo,null);E(this,Mr,null);E(this,Zc);var r;e?(b(this,Jc,!1),b(this,Zc,re.HIGHLIGHT_COLOR),b(this,Yh,e)):(b(this,Jc,!0),b(this,Zc,re.HIGHLIGHT_DEFAULT_COLOR)),b(this,Mr,(e==null?void 0:e._uiManager)||t),b(this,Kh,c(this,Mr)._eventBus),b(this,Qc,(e==null?void 0:e.color)||((r=c(this,Mr))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),c(cn,Qh)||b(cn,Qh,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return me(this,"_keyboardManager",new mf([[["Escape","mac+Escape"],cn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],cn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],cn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],cn.prototype._moveToPrevious],[["Home","mac+Home"],cn.prototype._moveToBeginning],[["End","mac+End"],cn.prototype._moveToEnd]]))}renderButton(){const e=b(this,Lr,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=c(this,Mr)._signal;e.addEventListener("click",A(this,Te,Vo).bind(this),{signal:t}),e.addEventListener("keydown",A(this,Te,y0).bind(this),{signal:t});const r=b(this,$a,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=c(this,Qc),e.append(r),e}renderMainDropdown(){const e=b(this,ct,A(this,Te,m0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,Lr)){A(this,Te,Vo).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,Te,v0).call(this,t,e)}_moveToNext(e){var t,r;if(!c(this,Te,Pi)){A(this,Te,Vo).call(this,e);return}if(e.target===c(this,Lr)){(t=c(this,ct).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=c(this,ct))==null?void 0:t.firstChild)||e.target===c(this,Lr)){c(this,Te,Pi)&&this._hideDropdownFromKeyboard();return}c(this,Te,Pi)||A(this,Te,Vo).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!c(this,Te,Pi)){A(this,Te,Vo).call(this,e);return}(t=c(this,ct).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,Te,Pi)){A(this,Te,Vo).call(this,e);return}(t=c(this,ct).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=c(this,ct))==null||e.classList.add("hidden"),(t=c(this,oo))==null||t.abort(),b(this,oo,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,Jc)){if(!c(this,Te,Pi)){(e=c(this,Yh))==null||e.unselect();return}this.hideDropdown(),c(this,Lr).focus({preventScroll:!0,focusVisible:c(this,qh)})}}updateColor(e){if(c(this,$a)&&(c(this,$a).style.backgroundColor=e),!c(this,ct))return;const t=c(this,Mr).highlightColors.values();for(const r of c(this,ct).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=c(this,Lr))==null||e.remove(),b(this,Lr,null),b(this,$a,null),(t=c(this,ct))==null||t.remove(),b(this,ct,null)}};Lr=new WeakMap,$a=new WeakMap,Qc=new WeakMap,ct=new WeakMap,qh=new WeakMap,Jc=new WeakMap,Yh=new WeakMap,Kh=new WeakMap,oo=new WeakMap,Mr=new WeakMap,Zc=new WeakMap,Qh=new WeakMap,Te=new WeakSet,m0=function(){const e=document.createElement("div"),t=c(this,Mr)._signal;e.addEventListener("contextmenu",lr,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,s]of c(this,Mr).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",s),i.title=r,i.setAttribute("data-l10n-id",c(cn,Qh)[r]);const o=document.createElement("span");i.append(o),o.className="swatch",o.style.backgroundColor=s,i.setAttribute("aria-selected",s===c(this,Qc)),i.addEventListener("click",A(this,Te,v0).bind(this,s),{signal:t}),e.append(i)}return e.addEventListener("keydown",A(this,Te,y0).bind(this),{signal:t}),e},v0=function(e,t){t.stopPropagation(),c(this,Kh).dispatch("switchannotationeditorparams",{source:this,type:c(this,Zc),value:e})},y0=function(e){cn._keyboardManager.exec(this,e)},Vo=function(e){if(c(this,Te,Pi)){this.hideDropdown();return}if(b(this,qh,e.detail===0),c(this,oo)||(b(this,oo,new AbortController),window.addEventListener("pointerdown",A(this,Te,ET).bind(this),{signal:c(this,Mr).combinedSignal(c(this,oo))})),c(this,ct)){c(this,ct).classList.remove("hidden");return}const t=b(this,ct,A(this,Te,m0).call(this));c(this,Lr).append(t)},ET=function(e){var t;(t=c(this,ct))!=null&&t.contains(e.target)||this.hideDropdown()},Pi=function(){return c(this,ct)&&!c(this,ct).classList.contains("hidden")},E(cn,Qh,null);let xg=cn;var eu,Jh,qs,Ua,tu,Kn,Zh,ef,Va,Ir,Ht,hn,nu,Ys,ut,ru,Qn,tf,oe,w0,Rp,ST,_T,CT,b0,Wo,nr,Pl,TT,Lp,nd,kT,PT,RT,LT,MT;const be=class be extends Se{constructor(t){super({...t,name:"highlightEditor"});E(this,oe);E(this,eu,null);E(this,Jh,0);E(this,qs);E(this,Ua,null);E(this,tu,null);E(this,Kn,null);E(this,Zh,null);E(this,ef,0);E(this,Va,null);E(this,Ir,null);E(this,Ht,null);E(this,hn,!1);E(this,nu,null);E(this,Ys);E(this,ut,null);E(this,ru,"");E(this,Qn);E(this,tf,"");this.color=t.color||be._defaultColor,b(this,Qn,t.thickness||be._defaultThickness),b(this,Ys,t.opacity||be._defaultOpacity),b(this,qs,t.boxes||null),b(this,tf,t.methodOfCreation||""),b(this,ru,t.text||""),this._isDraggable=!1,t.highlightId>-1?(b(this,hn,!0),A(this,oe,Rp).call(this,t),A(this,oe,Wo).call(this)):c(this,qs)&&(b(this,eu,t.anchorNode),b(this,Jh,t.anchorOffset),b(this,Zh,t.focusNode),b(this,ef,t.focusOffset),A(this,oe,w0).call(this),A(this,oe,Wo).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=be.prototype;return me(this,"_keyboardManager",new mf([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,hn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,Qn),methodOfCreation:c(this,tf)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var s;Se.initialize(t,r),be._defaultColor||(be._defaultColor=((s=r.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case re.HIGHLIGHT_DEFAULT_COLOR:be._defaultColor=r;break;case re.HIGHLIGHT_THICKNESS:be._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return c(this,nu)}updateParams(t,r){switch(t){case re.HIGHLIGHT_COLOR:A(this,oe,ST).call(this,r);break;case re.HIGHLIGHT_THICKNESS:A(this,oe,_T).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[re.HIGHLIGHT_DEFAULT_COLOR,be._defaultColor],[re.HIGHLIGHT_THICKNESS,be._defaultThickness]]}get propertiesToUpdate(){return[[re.HIGHLIGHT_COLOR,this.color||be._defaultColor],[re.HIGHLIGHT_THICKNESS,c(this,Qn)||be._defaultThickness],[re.HIGHLIGHT_FREE,c(this,hn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(b(this,tu,new xg({editor:this})),t.addColorPicker(c(this,tu))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,oe,nd).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,A(this,oe,nd).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){A(this,oe,b0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,oe,Wo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let r=!1;this.parent&&!t?A(this,oe,b0).call(this):t&&(A(this,oe,Wo).call(this,t),r=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var i,o,a;const{drawLayer:r}=this.parent;let s;c(this,hn)?(t=(t-this.rotation+360)%360,s=A(i=be,nr,Pl).call(i,c(this,Ir).box,t)):s=A(o=be,nr,Pl).call(o,this,t),r.rotate(c(this,Ht),t),r.rotate(c(this,ut),t),r.updateBox(c(this,Ht),s),r.updateBox(c(this,ut),A(a=be,nr,Pl).call(a,c(this,Kn).box,t))}render(){if(this.div)return this.div;const t=super.render();c(this,ru)&&(t.setAttribute("aria-label",c(this,ru)),t.setAttribute("role","mark")),c(this,hn)?t.classList.add("free"):this.div.addEventListener("keydown",A(this,oe,TT).bind(this),{signal:this._uiManager._signal});const r=b(this,Va,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=c(this,Ua);const[s,i]=this.parentDimensions;return this.setDims(this.width*s,this.height*i),yg(this,c(this,Va),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(c(this,ut),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(c(this,ut),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,oe,Lp).call(this,!0);break;case 1:case 3:A(this,oe,Lp).call(this,!1);break}}select(){var t,r;super.select(),c(this,ut)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,ut),"hovered"),(r=this.parent)==null||r.drawLayer.addClass(c(this,ut),"selected"))}unselect(){var t;super.unselect(),c(this,ut)&&((t=this.parent)==null||t.drawLayer.removeClass(c(this,ut),"selected"),c(this,hn)||A(this,oe,Lp).call(this,!1))}get _mustFixPosition(){return!c(this,hn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.show(c(this,Ht),t),this.parent.drawLayer.show(c(this,ut),t))}static startHighlighting(t,r,{target:s,x:i,y:o}){const{x:a,y:l,width:u,height:d}=s.getBoundingClientRect(),h=new AbortController,f=t.combinedSignal(h),p=g=>{g.preventDefault(),g.stopPropagation()},v=g=>{h.abort(),A(this,nr,LT).call(this,t,g)};window.addEventListener("blur",v,{signal:f}),window.addEventListener("pointerup",v,{signal:f}),window.addEventListener("pointerdown",p,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",lr,{signal:f}),s.addEventListener("pointermove",A(this,nr,RT).bind(this,t),{signal:f}),this._freeHighlight=new g0({x:i,y:o},[a,l,u,d],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(t,r,s){var g,w,m,y;let i=null;if(t instanceof rT){const{data:{quadPoints:x,rect:S,rotation:C,id:T,color:k,opacity:R,popupRef:M},parent:{page:{pageNumber:I}}}=t;i=t={annotationType:le.HIGHLIGHT,color:Array.from(k),opacity:R,quadPoints:x,boxes:null,pageIndex:I-1,rect:S.slice(0),rotation:C,id:T,deleted:!1,popupRef:M}}else if(t instanceof pb){const{data:{inkLists:x,rect:S,rotation:C,id:T,color:k,borderStyle:{rawWidth:R},popupRef:M},parent:{page:{pageNumber:I}}}=t;i=t={annotationType:le.HIGHLIGHT,color:Array.from(k),thickness:R,inkLists:x,boxes:null,pageIndex:I-1,rect:S.slice(0),rotation:C,id:T,deleted:!1,popupRef:M}}const{color:o,quadPoints:a,inkLists:l,opacity:u}=t,d=await super.deserialize(t,r,s);d.color=Z.makeHexColor(...o),b(d,Ys,u||1),l&&b(d,Qn,t.thickness),d.annotationElementId=t.id||null,d._initialData=i;const[h,f]=d.pageDimensions,[p,v]=d.pageTranslation;if(a){const x=b(d,qs,[]);for(let S=0;S<a.length;S+=8)x.push({x:(a[S]-p)/h,y:1-(a[S+1]-v)/f,width:(a[S+2]-a[S])/h,height:(a[S+1]-a[S+5])/f});A(g=d,oe,w0).call(g),A(w=d,oe,Wo).call(w),d.rotate(d.rotation)}else if(l){b(d,hn,!0);const x=l[0],S={x:x[0]-p,y:f-(x[1]-v)},C=new g0(S,[0,0,h,f],1,c(d,Qn)/2,!0,.001);for(let R=0,M=x.length;R<M;R+=2)S.x=x[R]-p,S.y=f-(x[R+1]-v),C.add(S);const{id:T,clipPathId:k}=r.drawLayer.draw(C,d.color,d._defaultOpacity,!0);A(m=d,oe,Rp).call(m,{highlightOutlines:C.getOutlines(),highlightId:T,clipPathId:k}),A(y=d,oe,Wo).call(y)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),s=Se._colorManager.convert(this.color),i={annotationType:le.HIGHLIGHT,color:s,opacity:c(this,Ys),thickness:c(this,Qn),quadPoints:A(this,oe,kT).call(this),outlines:A(this,oe,PT).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:A(this,oe,nd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!A(this,oe,MT).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};eu=new WeakMap,Jh=new WeakMap,qs=new WeakMap,Ua=new WeakMap,tu=new WeakMap,Kn=new WeakMap,Zh=new WeakMap,ef=new WeakMap,Va=new WeakMap,Ir=new WeakMap,Ht=new WeakMap,hn=new WeakMap,nu=new WeakMap,Ys=new WeakMap,ut=new WeakMap,ru=new WeakMap,Qn=new WeakMap,tf=new WeakMap,oe=new WeakSet,w0=function(){const t=new FA(c(this,qs),.001);b(this,Ir,t.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Ir).box;const r=new FA(c(this,qs),.0025,.001,this._uiManager.direction==="ltr");b(this,Kn,r.getOutlines());const{lastPoint:s}=c(this,Kn).box;b(this,nu,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Rp=function({highlightOutlines:t,highlightId:r,clipPathId:s}){var h,f;if(b(this,Ir,t),b(this,Kn,t.getNewOutline(c(this,Qn)/2+1.5,.0025)),r>=0)b(this,Ht,r),b(this,Ua,s),this.parent.drawLayer.finalizeLine(r,t),b(this,ut,this.parent.drawLayer.drawOutline(c(this,Kn)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,Ht),t),this.parent.drawLayer.updateBox(c(this,Ht),A(h=be,nr,Pl).call(h,c(this,Ir).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,ut),c(this,Kn)),this.parent.drawLayer.updateBox(c(this,ut),A(f=be,nr,Pl).call(f,c(this,Kn).box,p))}const{x:o,y:a,width:l,height:u}=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=u;break;case 90:{const[p,v]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*v/p,this.height=u*p/v;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=u;break;case 270:{const[p,v]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*v/p,this.height=u*p/v;break}}const{lastPoint:d}=c(this,Kn).box;b(this,nu,[(d[0]-o)/l,(d[1]-a)/u])},ST=function(t){const r=(o,a)=>{var l,u,d;this.color=o,(l=this.parent)==null||l.drawLayer.changeColor(c(this,Ht),o),(u=c(this,tu))==null||u.updateColor(o),b(this,Ys,a),(d=this.parent)==null||d.drawLayer.changeOpacity(c(this,Ht),a)},s=this.color,i=c(this,Ys);this.addCommands({cmd:r.bind(this,t,be._defaultOpacity),undo:r.bind(this,s,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},_T=function(t){const r=c(this,Qn),s=i=>{b(this,Qn,i),A(this,oe,CT).call(this,i)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},CT=function(t){if(!c(this,hn))return;A(this,oe,Rp).call(this,{highlightOutlines:c(this,Ir).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,s]=this.parentDimensions;this.setDims(this.width*r,this.height*s)},b0=function(){c(this,Ht)===null||!this.parent||(this.parent.drawLayer.remove(c(this,Ht)),b(this,Ht,null),this.parent.drawLayer.remove(c(this,ut)),b(this,ut,null))},Wo=function(t=this.parent){c(this,Ht)===null&&({id:mt(this,Ht)._,clipPathId:mt(this,Ua)._}=t.drawLayer.draw(c(this,Ir),this.color,c(this,Ys)),b(this,ut,t.drawLayer.drawOutline(c(this,Kn))),c(this,Va)&&(c(this,Va).style.clipPath=c(this,Ua)))},nr=new WeakSet,Pl=function({x:t,y:r,width:s,height:i},o){switch(o){case 90:return{x:1-r-i,y:t,width:i,height:s};case 180:return{x:1-t-s,y:1-r-i,width:s,height:i};case 270:return{x:r,y:1-t-s,width:i,height:s}}return{x:t,y:r,width:s,height:i}},TT=function(t){be._keyboardManager.exec(this,t)},Lp=function(t){if(!c(this,eu))return;const r=window.getSelection();t?r.setPosition(c(this,eu),c(this,Jh)):r.setPosition(c(this,Zh),c(this,ef))},nd=function(){return c(this,hn)?this.rotation:0},kT=function(){if(c(this,hn))return null;const[t,r]=this.pageDimensions,[s,i]=this.pageTranslation,o=c(this,qs),a=new Float32Array(o.length*8);let l=0;for(const{x:u,y:d,width:h,height:f}of o){const p=u*t+s,v=(1-d-f)*r+i;a[l]=a[l+4]=p,a[l+1]=a[l+3]=v,a[l+2]=a[l+6]=p+h*t,a[l+5]=a[l+7]=v+f*r,l+=8}return a},PT=function(t){return c(this,Ir).serialize(t,A(this,oe,nd).call(this))},RT=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},LT=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},MT=function(t){const{color:r}=this._initialData;return t.color.some((s,i)=>s!==r[i])},E(be,nr),ne(be,"_defaultColor",null),ne(be,"_defaultOpacity",1),ne(be,"_defaultThickness",12),ne(be,"_type","highlight"),ne(be,"_editorType",le.HIGHLIGHT),ne(be,"_freeHighlightId",-1),ne(be,"_freeHighlight",null),ne(be,"_freeHighlightClipId","");let Ag=be;var Wa,Ga,us,Ks,Jn,Xa,qa,Ya,Qs,su,Ka,Qa,ao,V,IT,FT,NT,DT,A0,OT,E0,jT,zT,BT,HT,$T,Go,S0,_0,C0,Mp,Ip,Rl,T0,Fp,vi,UT,k0,VT,WT,P0,Np,rd;const He=class He extends Se{constructor(t){super({...t,name:"inkEditor"});E(this,V);E(this,Wa,0);E(this,Ga,0);E(this,us,null);E(this,Ks,new Path2D);E(this,Jn,!1);E(this,Xa,null);E(this,qa,!1);E(this,Ya,!1);E(this,Qs,null);E(this,su,null);E(this,Ka,0);E(this,Qa,0);E(this,ao,null);this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,r){Se.initialize(t,r)}static updateDefaultParams(t,r){switch(t){case re.INK_THICKNESS:He._defaultThickness=r;break;case re.INK_COLOR:He._defaultColor=r;break;case re.INK_OPACITY:He._defaultOpacity=r/100;break}}updateParams(t,r){switch(t){case re.INK_THICKNESS:A(this,V,IT).call(this,r);break;case re.INK_COLOR:A(this,V,FT).call(this,r);break;case re.INK_OPACITY:A(this,V,NT).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[re.INK_THICKNESS,He._defaultThickness],[re.INK_COLOR,He._defaultColor||Se._defaultLineColor],[re.INK_OPACITY,Math.round(He._defaultOpacity*100)]]}get propertiesToUpdate(){return[[re.INK_THICKNESS,this.thickness||He._defaultThickness],[re.INK_COLOR,this.color||He._defaultColor||Se._defaultLineColor],[re.INK_OPACITY,Math.round(100*(this.opacity??He._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(A(this,V,Mp).call(this),A(this,V,Ip).call(this)),this.isAttachedToDOM||(this.parent.add(this),A(this,V,Rl).call(this)),A(this,V,rd).call(this)))}remove(){var t;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,us)&&(clearTimeout(c(this,us)),b(this,us,null)),(t=c(this,Qs))==null||t.disconnect(),b(this,Qs,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&t===null&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,r]=this.parentDimensions,s=this.width*t,i=this.height*r;this.setDimensions(s,i)}enableEditMode(){c(this,Jn)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,A(this,V,S0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),A(this,V,_0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,Jn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),b(this,Jn,!0),this.div.classList.add("disabled"),A(this,V,rd).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){t.button!==0||!this.isInEditMode()||c(this,Jn)||(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),A(this,V,OT).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),A(this,V,E0).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),A(this,V,C0).call(this,t)}canvasPointerleave(t){A(this,V,C0).call(this,t)}get isResizable(){return!this.isEmpty()&&c(this,Jn)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[s,i,o,a]=A(this,V,DT).call(this);if(this.setAt(s,i,0,0),this.setDims(o,a),A(this,V,Mp).call(this),this.width){const[l,u]=this.parentDimensions;this.setAspectRatio(this.width*l,this.height*u),this.setAt(t*l,r*u,this.width*l,this.height*u),b(this,Ya,!0),A(this,V,Rl).call(this),this.setDims(this.width*l,this.height*u),A(this,V,Go).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return A(this,V,Ip).call(this),this.div}setDimensions(t,r){const s=Math.round(t),i=Math.round(r);if(c(this,Ka)===s&&c(this,Qa)===i)return;b(this,Ka,s),b(this,Qa,i),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=t/o,this.height=r/a,this.fixAndSetPosition(),c(this,Jn)&&A(this,V,T0).call(this,t,r),A(this,V,Rl).call(this),A(this,V,Go).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,r,s){var w,m,y;if(t instanceof pb)return null;const i=await super.deserialize(t,r,s);i.thickness=t.thickness,i.color=Z.makeHexColor(...t.color),i.opacity=t.opacity;const[o,a]=i.pageDimensions,l=i.width*o,u=i.height*a,d=i.parentScale,h=t.thickness/2;b(i,Jn,!0),b(i,Ka,Math.round(l)),b(i,Qa,Math.round(u));const{paths:f,rect:p,rotation:v}=t;for(let{bezier:x}of f){x=A(w=He,vi,VT).call(w,x,p,v);const S=[];i.paths.push(S);let C=d*(x[0]-h),T=d*(x[1]-h);for(let R=2,M=x.length;R<M;R+=6){const I=d*(x[R]-h),D=d*(x[R+1]-h),j=d*(x[R+2]-h),H=d*(x[R+3]-h),F=d*(x[R+4]-h),W=d*(x[R+5]-h);S.push([[C,T],[I,D],[j,H],[F,W]]),C=F,T=W}const k=A(this,vi,UT).call(this,S);i.bezierPath2D.push(k)}const g=A(m=i,V,P0).call(m);return b(i,Ga,Math.max(Se.MIN_SIZE,g[2]-g[0])),b(i,Wa,Math.max(Se.MIN_SIZE,g[3]-g[1])),A(y=i,V,T0).call(y,l,u),i}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),r=Se._colorManager.convert(this.ctx.strokeStyle);return{annotationType:le.INK,color:r,thickness:this.thickness,opacity:this.opacity,paths:A(this,V,WT).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Wa=new WeakMap,Ga=new WeakMap,us=new WeakMap,Ks=new WeakMap,Jn=new WeakMap,Xa=new WeakMap,qa=new WeakMap,Ya=new WeakMap,Qs=new WeakMap,su=new WeakMap,Ka=new WeakMap,Qa=new WeakMap,ao=new WeakMap,V=new WeakSet,IT=function(t){const r=i=>{this.thickness=i,A(this,V,rd).call(this)},s=this.thickness;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},FT=function(t){const r=i=>{this.color=i,A(this,V,Go).call(this)},s=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},NT=function(t){const r=i=>{this.opacity=i,A(this,V,Go).call(this)};t/=100;const s=this.opacity;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:re.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},DT=function(){const{parentRotation:t,parentDimensions:[r,s]}=this;switch(t){case 90:return[0,s,s,r];case 180:return[r,s,r,s];case 270:return[r,0,s,r];default:return[0,0,r,s]}},A0=function(){const{ctx:t,color:r,opacity:s,thickness:i,parentScale:o,scaleFactor:a}=this;t.lineWidth=i*o/a,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle=`${r}${TD(s)}`},OT=function(t,r){this.canvas.addEventListener("contextmenu",lr,{signal:this._uiManager._signal}),A(this,V,_0).call(this),b(this,Xa,new AbortController);const s=this._uiManager.combinedSignal(c(this,Xa));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:s}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:s}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:s}),this.isEditing=!0,c(this,Ya)||(b(this,Ya,!0),A(this,V,Rl).call(this),this.thickness||(this.thickness=He._defaultThickness),this.color||(this.color=He._defaultColor||Se._defaultLineColor),this.opacity??(this.opacity=He._defaultOpacity)),this.currentPath.push([t,r]),b(this,qa,!1),A(this,V,A0).call(this),b(this,ao,()=>{A(this,V,BT).call(this),c(this,ao)&&window.requestAnimationFrame(c(this,ao))}),window.requestAnimationFrame(c(this,ao))},E0=function(t,r){const[s,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===s&&r===i)return;const o=this.currentPath;let a=c(this,Ks);if(o.push([t,r]),b(this,qa,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(t,r);return}o.length===3&&(b(this,Ks,a=new Path2D),a.moveTo(...o[0])),A(this,V,HT).call(this,a,...o.at(-3),...o.at(-2),t,r)},jT=function(){if(this.currentPath.length===0)return;const t=this.currentPath.at(-1);c(this,Ks).lineTo(...t)},zT=function(t,r){b(this,ao,null),t=Math.min(Math.max(t,0),this.canvas.width),r=Math.min(Math.max(r,0),this.canvas.height),A(this,V,E0).call(this,t,r),A(this,V,jT).call(this);let s;if(this.currentPath.length!==1)s=A(this,V,$T).call(this);else{const u=[t,r];s=[[u,u.slice(),u.slice(),u]]}const i=c(this,Ks),o=this.currentPath;this.currentPath=[],b(this,Ks,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(s),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},l=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(A(this,V,Mp).call(this),A(this,V,Ip).call(this)),A(this,V,rd).call(this))};this.addCommands({cmd:a,undo:l,mustExec:!0})},BT=function(){if(!c(this,qa))return;b(this,qa,!1);const t=Math.ceil(this.thickness*this.parentScale),r=this.currentPath.slice(-3),s=r.map(a=>a[0]),i=r.map(a=>a[1]);Math.min(...s)-t,Math.max(...s)+t,Math.min(...i)-t,Math.max(...i)+t;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(c(this,Ks)),o.restore()},HT=function(t,r,s,i,o,a,l){const u=(r+i)/2,d=(s+o)/2,h=(i+a)/2,f=(o+l)/2;t.bezierCurveTo(u+2*(i-u)/3,d+2*(o-d)/3,h+2*(i-h)/3,f+2*(o-f)/3,h,f)},$T=function(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const r=[];let s,[i,o]=t[0];for(s=1;s<t.length-2;s++){const[p,v]=t[s],[g,w]=t[s+1],m=(p+g)/2,y=(v+w)/2,x=[i+2*(p-i)/3,o+2*(v-o)/3],S=[m+2*(p-m)/3,y+2*(v-y)/3];r.push([[i,o],x,S,[m,y]]),[i,o]=[m,y]}const[a,l]=t[s],[u,d]=t[s+1],h=[i+2*(a-i)/3,o+2*(l-o)/3],f=[u+2*(a-u)/3,d+2*(l-d)/3];return r.push([[i,o],h,f,[u,d]]),r},Go=function(){if(this.isEmpty()){A(this,V,Fp).call(this);return}A(this,V,A0).call(this);const{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),A(this,V,Fp).call(this);for(const s of this.bezierPath2D)r.stroke(s)},S0=function(){if(c(this,su))return;b(this,su,new AbortController);const t=this._uiManager.combinedSignal(c(this,su));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})},_0=function(){var t;(t=this.pointerdownAC)==null||t.abort(),this.pointerdownAC=null},C0=function(t){var r;(r=c(this,Xa))==null||r.abort(),b(this,Xa,null),A(this,V,S0).call(this),c(this,us)&&clearTimeout(c(this,us)),b(this,us,setTimeout(()=>{b(this,us,null),this.canvas.removeEventListener("contextmenu",lr)},10)),A(this,V,zT).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Mp=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ip=function(){b(this,Qs,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&this.setDimensions(r.width,r.height)})),c(this,Qs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Qs))==null||t.disconnect(),b(this,Qs,null)},{once:!0})},Rl=function(){if(!c(this,Ya))return;const[t,r]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*r),A(this,V,Fp).call(this)},T0=function(t,r){const s=A(this,V,Np).call(this),i=(t-s)/c(this,Ga),o=(r-s)/c(this,Wa);this.scaleFactor=Math.min(i,o)},Fp=function(){const t=A(this,V,Np).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)},vi=new WeakSet,UT=function(t){const r=new Path2D;for(let s=0,i=t.length;s<i;s++){const[o,a,l,u]=t[s];s===0&&r.moveTo(...o),r.bezierCurveTo(a[0],a[1],l[0],l[1],u[0],u[1])}return r},k0=function(t,r,s){const[i,o,a,l]=r;switch(s){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]+=i,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]+i,t[u+1]=h+o}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]+=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=a-t[u+1],t[u+1]=l-h}break;default:throw new Error("Invalid rotation")}return t},VT=function(t,r,s){const[i,o,a,l]=r;switch(s){case 0:for(let u=0,d=t.length;u<d;u+=2)t[u]-=i,t[u+1]=l-t[u+1];break;case 90:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=t[u+1]-o,t[u+1]=h-i}break;case 180:for(let u=0,d=t.length;u<d;u+=2)t[u]=a-t[u],t[u+1]-=o;break;case 270:for(let u=0,d=t.length;u<d;u+=2){const h=t[u];t[u]=l-t[u+1],t[u+1]=a-h}break;default:throw new Error("Invalid rotation")}return t},WT=function(t,r,s,i){var d,h;const o=[],a=this.thickness/2,l=t*r+a,u=t*s+a;for(const f of this.paths){const p=[],v=[];for(let g=0,w=f.length;g<w;g++){const[m,y,x,S]=f[g];if(m[0]===S[0]&&m[1]===S[1]&&w===1){const H=t*m[0]+l,F=t*m[1]+u;p.push(H,F),v.push(H,F);break}const C=t*m[0]+l,T=t*m[1]+u,k=t*y[0]+l,R=t*y[1]+u,M=t*x[0]+l,I=t*x[1]+u,D=t*S[0]+l,j=t*S[1]+u;g===0&&(p.push(C,T),v.push(C,T)),p.push(k,R,M,I,D,j),v.push(k,R),g===w-1&&v.push(D,j)}o.push({bezier:A(d=He,vi,k0).call(d,p,i,this.rotation),points:A(h=He,vi,k0).call(h,v,i,this.rotation)})}return o},P0=function(){let t=1/0,r=-1/0,s=1/0,i=-1/0;for(const o of this.paths)for(const[a,l,u,d]of o){const h=Z.bezierBoundingBox(...a,...l,...u,...d);t=Math.min(t,h[0]),s=Math.min(s,h[1]),r=Math.max(r,h[2]),i=Math.max(i,h[3])}return[t,s,r,i]},Np=function(){return c(this,Jn)?Math.ceil(this.thickness*this.parentScale):0},rd=function(t=!1){if(this.isEmpty())return;if(!c(this,Jn)){A(this,V,Go).call(this);return}const r=A(this,V,P0).call(this),s=A(this,V,Np).call(this);b(this,Ga,Math.max(Se.MIN_SIZE,r[2]-r[0])),b(this,Wa,Math.max(Se.MIN_SIZE,r[3]-r[1]));const i=Math.ceil(s+c(this,Ga)*this.scaleFactor),o=Math.ceil(s+c(this,Wa)*this.scaleFactor),[a,l]=this.parentDimensions;this.width=i/a,this.height=o/l,this.setAspectRatio(i,o);const u=this.translationX,d=this.translationY;this.translationX=-r[0],this.translationY=-r[1],A(this,V,Rl).call(this),A(this,V,Go).call(this),b(this,Ka,i),b(this,Qa,o),this.setDims(i,o);const h=t?s/this.scaleFactor/2:0;this.translate(u-this.translationX-h,d-this.translationY-h)},E(He,vi),ne(He,"_defaultColor",null),ne(He,"_defaultOpacity",1),ne(He,"_defaultThickness",1),ne(He,"_type","ink"),ne(He,"_editorType",le.INK);let x0=He;var Ue,Pt,lo,Js,co,iu,ds,Zs,hs,Mn,ou,pe,sd,id,Dp,L0,GT,Op,M0,jp,XT,qT;const yd=class yd extends Se{constructor(t){super({...t,name:"stampEditor"});E(this,pe);E(this,Ue,null);E(this,Pt,null);E(this,lo,null);E(this,Js,null);E(this,co,null);E(this,iu,"");E(this,ds,null);E(this,Zs,null);E(this,hs,null);E(this,Mn,!1);E(this,ou,!1);b(this,Js,t.bitmapUrl),b(this,co,t.bitmapFile)}static initialize(t,r){Se.initialize(t,r)}static get supportedTypes(){return me(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return me(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(le.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,l=await s.guess({name:"altText",request:{data:i,width:o,height:a,channels:i.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t,r;c(this,Pt)&&(b(this,Ue,null),this._uiManager.imageManager.deleteId(c(this,Pt)),(t=c(this,ds))==null||t.remove(),b(this,ds,null),(r=c(this,Zs))==null||r.disconnect(),b(this,Zs,null),c(this,hs)&&(clearTimeout(c(this,hs)),b(this,hs,null))),super.remove()}rebuild(){if(!this.parent){c(this,Pt)&&A(this,pe,Dp).call(this);return}super.rebuild(),this.div!==null&&(c(this,Pt)&&c(this,ds)===null&&A(this,pe,Dp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,lo)||c(this,Ue)||c(this,Js)||c(this,co)||c(this,Pt))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),c(this,Ue)?A(this,pe,L0).call(this):A(this,pe,Dp).call(this),this.width&&!this.annotationElementId){const[s,i]=this.parentDimensions;this.setAt(t*s,r*i,this.width*s,this.height*i)}return this.div}copyCanvas(t,r,s=!1){var p;t||(t=224);const{width:i,height:o}=c(this,Ue),a=new Cy;let l=c(this,Ue),u=i,d=o,h=null;if(r){if(i>r||o>r){const R=Math.min(r/i,r/o);u=Math.floor(i*R),d=Math.floor(o*R)}h=document.createElement("canvas");const v=h.width=Math.ceil(u*a.sx),g=h.height=Math.ceil(d*a.sy);c(this,Mn)||(l=A(this,pe,Op).call(this,v,g));const w=h.getContext("2d");w.filter=this._uiManager.hcmFilter;let m="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",y="#42414d");const x=15,S=x*a.sx,C=x*a.sy,T=new OffscreenCanvas(S*2,C*2),k=T.getContext("2d");k.fillStyle=m,k.fillRect(0,0,S*2,C*2),k.fillStyle=y,k.fillRect(0,0,S,C),k.fillRect(S,C,S,C),w.fillStyle=w.createPattern(T,"repeat"),w.fillRect(0,0,v,g),w.drawImage(l,0,0,l.width,l.height,0,0,v,g)}let f=null;if(s){let v,g;if(a.symmetric&&l.width<t&&l.height<t)v=l.width,g=l.height;else if(l=c(this,Ue),i>t||o>t){const y=Math.min(t/i,t/o);v=Math.floor(i*y),g=Math.floor(o*y),c(this,Mn)||(l=A(this,pe,Op).call(this,v,g))}const m=new OffscreenCanvas(v,g).getContext("2d",{willReadFrequently:!0});m.drawImage(l,0,0,l.width,l.height,0,0,v,g),f={width:v,height:g,data:m.getImageData(0,0,v,g).data}}return{canvas:h,width:u,height:d,imageData:f}}getImageForAltText(){return c(this,ds)}static async deserialize(t,r,s){var g;let i=null;if(t instanceof sT){const{data:{rect:w,rotation:m,id:y,structParent:x,popupRef:S},container:C,parent:{page:{pageNumber:T}}}=t,k=C.querySelector("canvas"),R=s.imageManager.getFromCanvas(C.id,k);k.remove();const M=((g=await r._structTree.getAriaAttributes(`${rb}${y}`))==null?void 0:g.get("aria-label"))||"";i=t={annotationType:le.STAMP,bitmapId:R.id,bitmap:R.bitmap,pageIndex:T-1,rect:w.slice(0),rotation:m,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:M},isSvg:!1,structParent:x,popupRef:S}}const o=await super.deserialize(t,r,s),{rect:a,bitmap:l,bitmapUrl:u,bitmapId:d,isSvg:h,accessibilityData:f}=t;d&&s.imageManager.isValidId(d)?(b(o,Pt,d),l&&b(o,Ue,l)):b(o,Js,u),b(o,Mn,h);const[p,v]=o.pageDimensions;return o.width=(a[2]-a[0])/p,o.height=(a[3]-a[1])/v,o.annotationElementId=t.id||null,f&&(o.altTextData=f),o._initialData=i,b(o,ou,!!i),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:le.STAMP,bitmapId:c(this,Pt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Mn),structTreeParentId:this._structTreeParentId};if(t)return s.bitmapUrl=A(this,pe,jp).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s;const{decorative:i,altText:o}=this.serializeAltText(!1);if(!i&&o&&(s.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=A(this,pe,qT).call(this,s);if(l.isSame)return null;l.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,r===null)return s;r.stamps||(r.stamps=new Map);const a=c(this,Mn)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!r.stamps.has(c(this,Pt)))r.stamps.set(c(this,Pt),{area:a,serialized:s}),s.bitmap=A(this,pe,jp).call(this,!1);else if(c(this,Mn)){const l=r.stamps.get(c(this,Pt));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=A(this,pe,jp).call(this,!1))}return s}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Ue=new WeakMap,Pt=new WeakMap,lo=new WeakMap,Js=new WeakMap,co=new WeakMap,iu=new WeakMap,ds=new WeakMap,Zs=new WeakMap,hs=new WeakMap,Mn=new WeakMap,ou=new WeakMap,pe=new WeakSet,sd=function(t,r=!1){if(!t){this.remove();return}b(this,Ue,t.bitmap),r||(b(this,Pt,t.id),b(this,Mn,t.isSvg)),t.file&&b(this,iu,t.file.name),A(this,pe,L0).call(this)},id=function(){if(b(this,lo,null),this._uiManager.enableWaiting(!1),!!c(this,ds)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,Ue)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,Ue)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Dp=function(){if(c(this,Pt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Pt)).then(s=>A(this,pe,sd).call(this,s,!0)).finally(()=>A(this,pe,id).call(this));return}if(c(this,Js)){const s=c(this,Js);b(this,Js,null),this._uiManager.enableWaiting(!0),b(this,lo,this._uiManager.imageManager.getFromUrl(s).then(i=>A(this,pe,sd).call(this,i)).finally(()=>A(this,pe,id).call(this)));return}if(c(this,co)){const s=c(this,co);b(this,co,null),this._uiManager.enableWaiting(!0),b(this,lo,this._uiManager.imageManager.getFromFile(s).then(i=>A(this,pe,sd).call(this,i)).finally(()=>A(this,pe,id).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=yd.supportedTypesStr;const r=this._uiManager._signal;b(this,lo,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,pe,sd).call(this,i)}s()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:r})}).finally(()=>A(this,pe,id).call(this))),t.click()},L0=function(){const{div:t}=this;let{width:r,height:s}=c(this,Ue);const[i,o]=this.pageDimensions,a=.75;if(this.width)r=this.width*i,s=this.height*o;else if(r>a*i||s>a*o){const h=Math.min(a*i/r,a*o/s);r*=h,s*=h}const[l,u]=this.parentDimensions;this.setDims(r*l/i,s*u/o),this._uiManager.enableWaiting(!1);const d=b(this,ds,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),A(this,pe,M0).call(this,r,s),A(this,pe,XT).call(this),c(this,ou)||(this.parent.addUndoableEditor(this),b(this,ou,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,iu)&&d.setAttribute("aria-label",c(this,iu))},GT=function(t,r){var a;const[s,i]=this.parentDimensions;this.width=t/s,this.height=r/i,(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,hs)!==null&&clearTimeout(c(this,hs)),b(this,hs,setTimeout(()=>{b(this,hs,null),A(this,pe,M0).call(this,t,r)},200))},Op=function(t,r){const{width:s,height:i}=c(this,Ue);let o=s,a=i,l=c(this,Ue);for(;o>2*t||a>2*r;){const u=o,d=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(o,a);h.getContext("2d").drawImage(l,0,0,u,d,0,0,o,a),l=h.transferToImageBitmap()}return l},M0=function(t,r){const s=new Cy,i=Math.ceil(t*s.sx),o=Math.ceil(r*s.sy),a=c(this,ds);if(!a||a.width===i&&a.height===o)return;a.width=i,a.height=o;const l=c(this,Mn)?c(this,Ue):A(this,pe,Op).call(this,i,o),u=a.getContext("2d");u.filter=this._uiManager.hcmFilter,u.drawImage(l,0,0,l.width,l.height,0,0,i,o)},jp=function(t){if(t){if(c(this,Mn)){const i=this._uiManager.imageManager.getSvgUrl(c(this,Pt));if(i)return i}const r=document.createElement("canvas");return{width:r.width,height:r.height}=c(this,Ue),r.getContext("2d").drawImage(c(this,Ue),0,0),r.toDataURL()}if(c(this,Mn)){const[r,s]=this.pageDimensions,i=Math.round(this.width*r*Lo.PDF_TO_CSS_UNITS),o=Math.round(this.height*s*Lo.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,o);return a.getContext("2d").drawImage(c(this,Ue),0,0,c(this,Ue).width,c(this,Ue).height,0,0,i,o),a.transferToImageBitmap()}return structuredClone(c(this,Ue))},XT=function(){this._uiManager._signal&&(b(this,Zs,new ResizeObserver(t=>{const r=t[0].contentRect;r.width&&r.height&&A(this,pe,GT).call(this,r.width,r.height)})),c(this,Zs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var t;(t=c(this,Zs))==null||t.disconnect(),b(this,Zs,null)},{once:!0}))},qT=function(t){var u;const{rect:r,pageIndex:s,accessibilityData:{altText:i}}=this._initialData,o=t.rect.every((d,h)=>Math.abs(d-r[h])<1),a=t.pageIndex===s,l=(((u=t.accessibilityData)==null?void 0:u.alt)||"")===i;return{isSame:o&&a&&l,isSameAltText:l}},ne(yd,"_type","stamp"),ne(yd,"_editorType",le.STAMP);let R0=yd;var Ja,au,fs,uo,ei,In,ho,lu,cu,$t,ti,ee,fo,Mt,YT,F0,N0,D0,zp;const gr=class gr{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:s,accessibilityManager:i,annotationLayer:o,drawLayer:a,textLayer:l,viewport:u,l10n:d}){E(this,Mt);E(this,Ja);E(this,au,!1);E(this,fs,null);E(this,uo,null);E(this,ei,null);E(this,In,new Map);E(this,ho,!1);E(this,lu,!1);E(this,cu,!1);E(this,$t,null);E(this,ti,null);E(this,ee);const h=[...c(gr,fo).values()];if(!gr._initialized){gr._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),b(this,ee,e),this.pageIndex=t,this.div=r,b(this,Ja,i),b(this,fs,o),this.viewport=u,b(this,$t,l),this.drawLayer=a,this._structTree=s,c(this,ee).addLayer(this)}get isEmpty(){return c(this,In).size===0}get isInvisible(){return this.isEmpty&&c(this,ee).getMode()===le.NONE}updateToolbar(e){c(this,ee).updateToolbar(e)}updateMode(e=c(this,ee).getMode()){switch(A(this,Mt,zp).call(this),e){case le.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case le.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case le.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of c(gr,fo).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,$t))==null?void 0:t.div)}addInkEditorIfNeeded(e){if(c(this,ee).getMode()!==le.INK)return;if(!e){for(const r of c(this,In).values())if(r.isEmpty()){r.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,ee).setEditingState(e)}addCommands(e){c(this,ee).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,fs))==null||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of c(this,In).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(c(this,ee).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!c(this,fs))return;const t=c(this,fs).getEditableAnnotations();for(const r of t){if(r.hide(),c(this,ee).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}}disable(){var s;b(this,cu,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of c(this,In).values())if(i.disableEditing(),!!i.annotationElementId){if(i.serialize()!==null){e.set(i.annotationElementId,i);continue}else t.set(i.annotationElementId,i);(s=this.getEditableAnnotation(i.annotationElementId))==null||s.show(),i.remove()}if(c(this,fs)){const i=c(this,fs).getEditableAnnotations();for(const o of i){const{id:a}=o.data;if(c(this,ee).isDeletedAnnotationElement(a))continue;let l=t.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=e.get(a),l&&(c(this,ee).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}A(this,Mt,zp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of c(gr,fo).values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),b(this,cu,!1)}getEditableAnnotation(e){var t;return((t=c(this,fs))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,ee).getActive()!==e&&c(this,ee).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,$t))!=null&&e.div&&!c(this,ti)){b(this,ti,new AbortController);const t=c(this,ee).combinedSignal(c(this,ti));c(this,$t).div.addEventListener("pointerdown",A(this,Mt,YT).bind(this),{signal:t}),c(this,$t).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,$t))!=null&&e.div&&c(this,ti)&&(c(this,ti).abort(),b(this,ti,null),c(this,$t).div.classList.remove("highlighting"))}enableClick(){if(c(this,uo))return;b(this,uo,new AbortController);const e=c(this,ee).combinedSignal(c(this,uo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=c(this,uo))==null||e.abort(),b(this,uo,null)}attach(e){c(this,In).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,ee).isDeletedAnnotationElement(t)&&c(this,ee).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,In).delete(e.id),(t=c(this,Ja))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,cu)&&e.annotationElementId&&c(this,ee).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,ee).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,lu)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,ee).addDeletedAnnotationElement(e.annotationElementId),Se.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,ee).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,ee).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,ei)&&(e._focusEventsAllowed=!1,b(this,ei,setTimeout(()=>{b(this,ei,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,ee)._signal}),t.focus())},0))),e._structTreeParentId=(r=c(this,Ja))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return c(this,ee).getId()}combinedSignal(e){return c(this,ee).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,Mt,F0))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){c(this,ee).updateToolbar(e),c(this,ee).updateMode(e);const{offsetX:r,offsetY:s}=A(this,Mt,D0).call(this),i=this.getNextId(),o=A(this,Mt,N0).call(this,{parent:this,id:i,x:r,y:s,uiManager:c(this,ee),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=c(gr,fo).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,ee)))||null}createAndAddNewEditor(e,t,r={}){const s=this.getNextId(),i=A(this,Mt,N0).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:c(this,ee),isCentered:t,...r});return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor(A(this,Mt,D0).call(this),!0)}setSelected(e){c(this,ee).setSelected(e)}toggleSelected(e){c(this,ee).toggleSelected(e)}unselect(e){c(this,ee).unselect(e)}pointerup(e){const{isMac:t}=en.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&c(this,ho)){if(b(this,ho,!1),!c(this,au)){b(this,au,!0);return}if(c(this,ee).getMode()===le.STAMP){c(this,ee).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,ee).getMode()===le.HIGHLIGHT&&this.enableTextSelection(),c(this,ho)){b(this,ho,!1);return}const{isMac:t}=en.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;b(this,ho,!0);const r=c(this,ee).getActive();b(this,au,!r||r.isEmpty())}findNewParent(e,t,r){const s=c(this,ee).findParent(t,r);return s===null||s===this?!1:(s.changeParent(e),!0)}destroy(){var e,t;((e=c(this,ee).getActive())==null?void 0:e.parent)===this&&(c(this,ee).commitOrRemove(),c(this,ee).setActiveEditor(null)),c(this,ei)&&(clearTimeout(c(this,ei)),b(this,ei,null));for(const r of c(this,In).values())(t=c(this,Ja))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,c(this,In).clear(),c(this,ee).removeLayer(this)}render({viewport:e}){this.viewport=e,al(this.div,e);for(const t of c(this,ee).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,ee).commitOrRemove(),A(this,Mt,zp).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,al(this.div,{rotation:r}),t!==r)for(const s of c(this,In).values())s.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,ee).viewParameters.realScale}};Ja=new WeakMap,au=new WeakMap,fs=new WeakMap,uo=new WeakMap,ei=new WeakMap,In=new WeakMap,ho=new WeakMap,lu=new WeakMap,cu=new WeakMap,$t=new WeakMap,ti=new WeakMap,ee=new WeakMap,fo=new WeakMap,Mt=new WeakSet,YT=function(e){c(this,ee).unselectAll();const{target:t}=e;if(t===c(this,$t).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&c(this,$t).div.contains(t)){const{isMac:r}=en.platform;if(e.button!==0||e.ctrlKey&&r)return;c(this,ee).showAllEditors("highlight",!0,!0),c(this,$t).div.classList.add("free"),this.toggleDrawing(),Ag.startHighlighting(this,c(this,ee).direction==="ltr",{target:c(this,$t).div,x:e.x,y:e.y}),c(this,$t).div.addEventListener("pointerup",()=>{c(this,$t).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,ee)._signal}),e.preventDefault()}},F0=function(){return c(gr,fo).get(c(this,ee).getMode())},N0=function(e){const t=c(this,Mt,F0);return t?new t.prototype.constructor(e):null},D0=function(){const{x:e,y:t,width:r,height:s}=this.div.getBoundingClientRect(),i=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+s),u=(i+a)/2-e,d=(o+l)/2-t,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},zp=function(){b(this,lu,!0);for(const e of c(this,In).values())e.isEmpty()&&e.remove();b(this,lu,!1)},ne(gr,"_initialized",!1),E(gr,fo,new Map([h0,x0,R0,Ag].map(e=>[e._editorType,e])));let I0=gr;var ps,nf,st,ni,rf,j0,hl,z0,KT;const Ct=class Ct{constructor({pageIndex:e}){E(this,hl);E(this,ps,null);E(this,nf,0);E(this,st,new Map);E(this,ni,new Map);this.pageIndex=e}setParent(e){if(!c(this,ps)){b(this,ps,e);return}if(c(this,ps)!==e){if(c(this,st).size>0)for(const t of c(this,st).values())t.remove(),e.append(t);b(this,ps,e)}}static get _svgFactory(){return me(this,"_svgFactory",new fb)}draw(e,t,r,s=!1){const i=mt(this,nf)._++,o=A(this,hl,z0).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const a=Ct._svgFactory.createElement("defs");o.append(a);const l=Ct._svgFactory.createElement("path");a.append(l);const u=`path_p${this.pageIndex}_${i}`;l.setAttribute("id",u),l.setAttribute("d",e.toSVGPath()),s&&c(this,ni).set(i,l);const d=A(this,hl,KT).call(this,a,u),h=Ct._svgFactory.createElement("use");return o.append(h),o.setAttribute("fill",t),o.setAttribute("fill-opacity",r),h.setAttribute("href",`#${u}`),c(this,st).set(i,o),{id:i,clipPathId:`url(#${d})`}}drawOutline(e){const t=mt(this,nf)._++,r=A(this,hl,z0).call(this,e.box);r.classList.add(...e.classNamesForOutlining);const s=Ct._svgFactory.createElement("defs");r.append(s);const i=Ct._svgFactory.createElement("path");s.append(i);const o=`path_p${this.pageIndex}_${t}`;i.setAttribute("id",o),i.setAttribute("d",e.toSVGPath()),i.setAttribute("vector-effect","non-scaling-stroke");let a;if(e.mustRemoveSelfIntersections){const d=Ct._svgFactory.createElement("mask");s.append(d),a=`mask_p${this.pageIndex}_${t}`,d.setAttribute("id",a),d.setAttribute("maskUnits","objectBoundingBox");const h=Ct._svgFactory.createElement("rect");d.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const f=Ct._svgFactory.createElement("use");d.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const l=Ct._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),a&&l.setAttribute("mask",`url(#${a})`);const u=l.cloneNode();return r.append(u),l.classList.add("mainOutline"),u.classList.add("secondaryOutline"),c(this,st).set(t,r),t}finalizeLine(e,t){const r=c(this,ni).get(e);c(this,ni).delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){c(this,st).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){c(this,ni).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){var r;A(r=Ct,rf,j0).call(r,c(this,st).get(e),t)}show(e,t){c(this,st).get(e).classList.toggle("hidden",!t)}rotate(e,t){c(this,st).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){c(this,st).get(e).setAttribute("fill",t)}changeOpacity(e,t){c(this,st).get(e).setAttribute("fill-opacity",t)}addClass(e,t){c(this,st).get(e).classList.add(t)}removeClass(e,t){c(this,st).get(e).classList.remove(t)}getSVGRoot(e){return c(this,st).get(e)}remove(e){c(this,ni).delete(e),c(this,ps)!==null&&(c(this,st).get(e).remove(),c(this,st).delete(e))}destroy(){b(this,ps,null);for(const e of c(this,st).values())e.remove();c(this,st).clear(),c(this,ni).clear()}};ps=new WeakMap,nf=new WeakMap,st=new WeakMap,ni=new WeakMap,rf=new WeakSet,j0=function(e,{x:t=0,y:r=0,width:s=1,height:i=1}={}){const{style:o}=e;o.top=`${100*r}%`,o.left=`${100*t}%`,o.width=`${100*s}%`,o.height=`${100*i}%`},hl=new WeakSet,z0=function(e){var r;const t=Ct._svgFactory.create(1,1,!0);return c(this,ps).append(t),t.setAttribute("aria-hidden",!0),A(r=Ct,rf,j0).call(r,t,e),t},KT=function(e,t){const r=Ct._svgFactory.createElement("clipPath");e.append(r);const s=`clip_${t}`;r.setAttribute("id",s),r.setAttribute("clipPathUnits","objectBoundingBox");const i=Ct._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),s},E(Ct,rf);let O0=Ct;var o2=se.AbortException,a2=se.AnnotationEditorLayer,l2=se.AnnotationEditorParamsType,c2=se.AnnotationEditorType,u2=se.AnnotationEditorUIManager,QT=se.AnnotationLayer,JT=se.AnnotationMode,d2=se.ColorPicker,h2=se.DOMSVGFactory,f2=se.DrawLayer,p2=se.FeatureTest,gb=se.GlobalWorkerOptions,g2=se.ImageKind,m2=se.InvalidPDFException,v2=se.MissingPDFException,y2=se.OPS,w2=se.OutputScale,b2=se.PDFDataRangeTransport,x2=se.PDFDateString,A2=se.PDFWorker,E2=se.PasswordResponses,S2=se.PermissionFlag,_2=se.PixelsPerInch,C2=se.RenderingCancelledException,ZT=se.TextLayer,T2=se.UnexpectedResponseException,k2=se.Util,P2=se.VerbosityLevel,R2=se.XfaLayer,L2=se.build,M2=se.createValidAbsoluteUrl,I2=se.fetchData,ek=se.getDocument,F2=se.getFilenameFromUrl,N2=se.getPdfFilenameFromUrl,D2=se.getXfaPageViewport,O2=se.isDataScheme,j2=se.isPdfFile,z2=se.noContextMenu,B2=se.normalizeUnicode,H2=se.setLayerDimensions,$2=se.shadow,U2=se.version;const V2=Object.freeze(Object.defineProperty({__proto__:null,AbortException:o2,AnnotationEditorLayer:a2,AnnotationEditorParamsType:l2,AnnotationEditorType:c2,AnnotationEditorUIManager:u2,AnnotationLayer:QT,AnnotationMode:JT,ColorPicker:d2,DOMSVGFactory:h2,DrawLayer:f2,FeatureTest:p2,GlobalWorkerOptions:gb,ImageKind:g2,InvalidPDFException:m2,MissingPDFException:v2,OPS:y2,OutputScale:w2,PDFDataRangeTransport:b2,PDFDateString:x2,PDFWorker:A2,PasswordResponses:E2,PermissionFlag:S2,PixelsPerInch:_2,RenderingCancelledException:C2,TextLayer:ZT,UnexpectedResponseException:T2,Util:k2,VerbosityLevel:P2,XfaLayer:R2,build:L2,createValidAbsoluteUrl:M2,fetchData:I2,getDocument:ek,getFilenameFromUrl:F2,getPdfFilenameFromUrl:N2,getXfaPageViewport:D2,isDataScheme:O2,isPdfFile:j2,noContextMenu:z2,normalizeUnicode:B2,setLayerDimensions:H2,shadow:$2,version:U2},Symbol.toStringTag,{value:"Module"}));var vt=function(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))},W2=["onCopy","onCut","onPaste"],G2=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],X2=["onFocus","onBlur"],q2=["onInput","onInvalid","onReset","onSubmit"],Y2=["onLoad","onError"],K2=["onKeyDown","onKeyPress","onKeyUp"],Q2=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],J2=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Z2=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],ej=["onSelect"],tj=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],nj=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],rj=["onScroll"],sj=["onWheel"],ij=["onAnimationStart","onAnimationEnd","onAnimationIteration"],oj=["onTransitionEnd"],aj=["onToggle"],lj=["onChange"],cj=vt(vt(vt(vt(vt(vt(vt(vt(vt(vt(vt(vt(vt(vt(vt(vt(vt(vt([],W2,!0),G2,!0),X2,!0),q2,!0),Y2,!0),K2,!0),Q2,!0),J2,!0),Z2,!0),ej,!0),tj,!0),nj,!0),rj,!0),sj,!0),ij,!0),oj,!0),lj,!0),aj,!0);function tk(n,e){var t={};return cj.forEach(function(r){var s=n[r];s&&(e?t[r]=function(i){return s(i,e(r))}:t[r]=s)}),t}function yf(n){var e=!1,t=new Promise(function(r,s){n.then(function(i){return!e&&r(i)}).catch(function(i){return!e&&s(i)})});return{promise:t,cancel:function(){e=!0}}}var uj="Invariant failed";function Pe(n,e){if(!n)throw new Error(uj)}var dj=function(){},hj=dj;const Vt=$0(hj);var NA=Object.prototype.hasOwnProperty;function DA(n,e,t){for(t of n.keys())if(tc(t,e))return t}function tc(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&tc(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=DA(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=DA(e,s),!s)||!tc(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(NA.call(n,t)&&++r&&!NA.call(e,t)||!(t in e)||!tc(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const nk=_.createContext(null);function nc({children:n,type:e}){return P.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const fj="noopener noreferrer nofollow";class pj{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Pe(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Pe(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{Pe(this.pdfDocument),Pe(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{Pe(Array.isArray(t));const r=t[0];new Promise(s=>{Pe(this.pdfDocument),r instanceof Object?this.pdfDocument.getPageIndex(r).then(i=>{s(i)}).catch(()=>{Pe(!1)}):typeof r=="number"?s(r):Pe(!1)}).then(s=>{const i=s+1;Pe(this.pdfViewer),Pe(i>=1&&i<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:s,pageNumber:i})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;Pe(this.pdfViewer),Pe(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||fj,e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const OA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Am=typeof window<"u",rk=Am&&window.location.protocol==="file:";function gj(n){return typeof n<"u"}function Bo(n){return gj(n)&&n!==null}function mj(n){return typeof n=="string"}function vj(n){return n instanceof ArrayBuffer}function yj(n){return Pe(Am),n instanceof Blob}function B0(n){return mj(n)&&/^data:/.test(n)}function jA(n){Pe(B0(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function wj(){return Am&&window.devicePixelRatio||1}const sk="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function zA(){Vt(!rk,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${sk}`)}function bj(){Vt(!rk,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${sk}`)}function ul(n){n!=null&&n.cancel&&n.cancel()}function H0(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function xj(n){return n.name==="RenderingCancelledException"}function Aj(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return t(new Error("Error while reading a file."));e(r.result)},r.onerror=s=>{if(!s.target)return t(new Error("Error while reading a file."));const{error:i}=s.target;if(!i)return t(new Error("Error while reading a file."));switch(i.code){case i.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case i.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case i.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},r.readAsArrayBuffer(n)})}function Ej(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function wu(){return _.useReducer(Ej,{value:void 0,error:void 0})}var Sj=function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},BA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const{PDFDataRangeTransport:_j}=V2,Cj=(n,e)=>{switch(e){case OA.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case OA.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function HA(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const Tj=_.forwardRef(function(e,t){var{children:r,className:s,error:i="Failed to load PDF file.",externalLinkRel:o,externalLinkTarget:a,file:l,inputRef:u,imageResourcesPath:d,loading:h="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:v,onLoadProgress:g,onLoadSuccess:w,onPassword:m=Cj,onSourceError:y,onSourceSuccess:x,options:S,renderMode:C,rotate:T}=e,k=BA(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[R,M]=wu(),{value:I,error:D}=R,[j,H]=wu(),{value:F,error:W}=j,B=_.useRef(new pj),O=_.useRef([]),L=_.useRef(void 0),N=_.useRef(void 0);l&&l!==L.current&&HA(l)&&(Vt(!tc(l,L.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),L.current=l),S&&S!==N.current&&(Vt(!tc(S,N.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),N.current=S);const $=_.useRef({scrollPageIntoView:ge=>{const{dest:Me,pageNumber:nt,pageIndex:Be=nt-1}=ge;if(p){p({dest:Me,pageIndex:Be,pageNumber:nt});return}const Ur=O.current[Be];if(Ur){Ur.scrollIntoView();return}Vt(!1,`An internal link leading to page ${nt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});_.useImperativeHandle(t,()=>({linkService:B,pages:O,viewer:$}),[]);function J(){x&&x()}function X(){D&&(Vt(!1,D.toString()),y&&y(D))}function K(){M({type:"RESET"})}_.useEffect(K,[l,M]);const te=_.useCallback(()=>Sj(this,void 0,void 0,function*(){if(!l)return null;if(typeof l=="string")return B0(l)?{data:jA(l)}:(zA(),{url:l});if(l instanceof _j)return{range:l};if(vj(l))return{data:l};if(Am&&yj(l))return{data:yield Aj(l)};if(Pe(typeof l=="object"),Pe(HA(l)),"url"in l&&typeof l.url=="string"){if(B0(l.url)){const{url:ge}=l,Me=BA(l,["url"]),nt=jA(ge);return Object.assign({data:nt},Me)}zA()}return l}),[l]);_.useEffect(()=>{const ge=yf(te());return ge.promise.then(Me=>{M({type:"RESOLVE",value:Me})}).catch(Me=>{M({type:"REJECT",error:Me})}),()=>{ul(ge)}},[te,M]),_.useEffect(()=>{if(!(typeof I>"u")){if(I===!1){X();return}J()}},[I]);function ye(){F&&(w&&w(F),O.current=new Array(F.numPages),B.current.setDocument(F))}function de(){W&&(Vt(!1,W.toString()),v&&v(W))}_.useEffect(function(){H({type:"RESET"})},[H,I]),_.useEffect(function(){if(!I)return;const Me=S?Object.assign(Object.assign({},I),S):I,nt=ek(Me);g&&(nt.onProgress=g),m&&(nt.onPassword=m);const Be=nt,Ur=Be.promise.then(cr=>{H({type:"RESOLVE",value:cr})}).catch(cr=>{Be.destroyed||H({type:"REJECT",error:cr})});return()=>{Ur.finally(()=>Be.destroy())}},[S,H,I]),_.useEffect(()=>{if(!(typeof F>"u")){if(F===!1){de();return}ye()}},[F]),_.useEffect(function(){B.current.setViewer($.current),B.current.setExternalLinkRel(o),B.current.setExternalLinkTarget(a)},[o,a]);const Q=_.useCallback((ge,Me)=>{O.current[ge]=Me},[]),_t=_.useCallback(ge=>{delete O.current[ge]},[]),tt=_.useMemo(()=>({imageResourcesPath:d,linkService:B.current,onItemClick:p,pdf:F,registerPage:Q,renderMode:C,rotate:T,unregisterPage:_t}),[d,p,F,Q,C,T,_t]),we=_.useMemo(()=>tk(k,()=>F),[k,F]);function on(){return P.jsx(nk.Provider,{value:tt,children:r})}function Wn(){return l?F==null?P.jsx(nc,{type:"loading",children:typeof h=="function"?h():h}):F===!1?P.jsx(nc,{type:"error",children:typeof i=="function"?i():i}):on():P.jsx(nc,{type:"no-data",children:typeof f=="function"?f():f})}return P.jsx("div",Object.assign({className:Eu("react-pdf__Document",s),ref:u,style:{"--scale-factor":"1"}},we,{children:Wn()}))});function ik(){return _.useContext(nk)}function ok(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var r=t[0];return r||null}return function(i){t.forEach(function(o){typeof o=="function"?o(i):o&&(o.current=i)})}}const ak=_.createContext(null),lk={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},kj=/^H(\d+)$/;function Pj(n){return n in lk}function Em(n){return"children"in n}function ck(n){return Em(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Rj(n){const e={};if(Em(n)){const{role:t}=n,r=t.match(kj);if(r)e.role="heading",e["aria-level"]=Number(r[1]);else if(Pj(t)){const s=lk[t];s&&(e.role=s)}}return e}function uk(n){const e={};if(Em(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),ck(n)){const[t]=n.children;if(t){const r=uk(t);return Object.assign(Object.assign({},e),r)}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function Lj(n){return n?Object.assign(Object.assign({},Rj(n)),uk(n)):null}function dk({className:n,node:e}){const t=_.useMemo(()=>Lj(e),[e]),r=_.useMemo(()=>!Em(e)||ck(e)?null:e.children.map((s,i)=>P.jsx(dk,{node:s},i)),[e]);return P.jsx("span",Object.assign({className:n},t,{children:r}))}function Sm(){return _.useContext(ak)}function Mj(){const n=Sm();Pe(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[r,s]=wu(),{value:i,error:o}=r,{customTextRenderer:a,page:l}=n;function u(){i&&t&&t(i)}function d(){o&&(Vt(!1,o.toString()),e&&e(o))}return _.useEffect(function(){s({type:"RESET"})},[s,l]),_.useEffect(function(){if(a||!l)return;const f=yf(l.getStructTree()),p=f;return f.promise.then(v=>{s({type:"RESOLVE",value:v})}).catch(v=>{s({type:"REJECT",error:v})}),()=>ul(p)},[a,l,s]),_.useEffect(()=>{if(i!==void 0){if(i===!1){d();return}u()}},[i]),i?P.jsx(dk,{className:"react-pdf__Page__structTree structTree",node:i}):null}const $A=JT;function Ij(n){const e=Sm();Pe(e);const t=Object.assign(Object.assign({},e),n),{_className:r,canvasBackground:s,devicePixelRatio:i=wj(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:u,renderTextLayer:d,rotate:h,scale:f}=t,{canvasRef:p}=n;Pe(l);const v=_.useRef(null);function g(){l&&a&&a(H0(l,f))}function w(S){xj(S)||(Vt(!1,S.toString()),o&&o(S))}const m=_.useMemo(()=>l.getViewport({scale:f*i,rotation:h}),[i,l,h,f]),y=_.useMemo(()=>l.getViewport({scale:f,rotation:h}),[l,h,f]);_.useEffect(function(){if(!l)return;l.cleanup();const{current:C}=v;if(!C)return;C.width=m.width,C.height=m.height,C.style.width=`${Math.floor(y.width)}px`,C.style.height=`${Math.floor(y.height)}px`,C.style.visibility="hidden";const T={annotationMode:u?$A.ENABLE_FORMS:$A.ENABLE,canvasContext:C.getContext("2d",{alpha:!1}),viewport:m};s&&(T.background=s);const k=l.render(T),R=k;return k.promise.then(()=>{C.style.visibility="",g()}).catch(w),()=>ul(R)},[s,l,u,m,y]);const x=_.useCallback(()=>{const{current:S}=v;S&&(S.width=0,S.height=0)},[]);return _.useEffect(()=>x,[x]),P.jsx("canvas",{className:`${r}__canvas`,dir:"ltr",ref:ok(p,v),style:{display:"block",userSelect:"none"},children:d?P.jsx(Mj,{}):null})}function Fj(n){return"str"in n}function Nj(){const n=Sm();Pe(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:r,onRenderTextLayerError:s,onRenderTextLayerSuccess:i,page:o,pageIndex:a,pageNumber:l,rotate:u,scale:d}=n;Pe(o);const[h,f]=wu(),{value:p,error:v}=h,g=_.useRef(null);Vt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function w(){p&&r&&r(p)}function m(){v&&(Vt(!1,v.toString()),t&&t(v))}_.useEffect(function(){f({type:"RESET"})},[o,f]),_.useEffect(function(){if(!o)return;const R=yf(o.getTextContent()),M=R;return R.promise.then(I=>{f({type:"RESOLVE",value:I})}).catch(I=>{f({type:"REJECT",error:I})}),()=>ul(M)},[o,f]),_.useEffect(()=>{if(p!==void 0){if(p===!1){m();return}w()}},[p]);const y=_.useCallback(()=>{i&&i()},[i]),x=_.useCallback(k=>{Vt(!1,k.toString()),s&&s(k)},[s]);function S(){const k=g.current;k&&k.classList.add("selecting")}function C(){const k=g.current;k&&k.classList.remove("selecting")}const T=_.useMemo(()=>o.getViewport({scale:d,rotation:u}),[o,u,d]);return _.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=g;if(!R)return;R.innerHTML="";const M=o.streamTextContent({includeMarkedContent:!0}),I={container:R,textContentSource:M,viewport:T},D=new ZT(I),j=D;return D.render().then(()=>{const H=document.createElement("div");H.className="endOfContent",R.append(H);const F=R.querySelectorAll('[role="presentation"]');if(e){let W=0;p.items.forEach((B,O)=>{if(!Fj(B))return;const L=F[W];if(!L)return;const N=e(Object.assign({pageIndex:a,pageNumber:l,itemIndex:O},B));L.innerHTML=N,W+=B.str&&B.hasEOL?2:1})}y()}).catch(x),()=>ul(j)},[e,x,y,o,a,l,p,T]),P.jsx("div",{className:Eu("react-pdf__Page__textContent","textLayer"),onMouseUp:C,onMouseDown:S,ref:g})}function Dj(){const n=ik(),e=Sm();Pe(e);const t=Object.assign(Object.assign({},n),e),{imageResourcesPath:r,linkService:s,onGetAnnotationsError:i,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:u,pdf:d,renderForms:h,rotate:f,scale:p=1}=t;Pe(d),Pe(u),Pe(s);const[v,g]=wu(),{value:w,error:m}=v,y=_.useRef(null);Vt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function x(){w&&o&&o(w)}function S(){m&&(Vt(!1,m.toString()),i&&i(m))}_.useEffect(function(){g({type:"RESET"})},[g,u]),_.useEffect(function(){if(!u)return;const M=yf(u.getAnnotations()),I=M;return M.promise.then(D=>{g({type:"RESOLVE",value:D})}).catch(D=>{g({type:"REJECT",error:D})}),()=>{ul(I)}},[g,u]),_.useEffect(()=>{if(w!==void 0){if(w===!1){S();return}x()}},[w]);function C(){l&&l()}function T(R){Vt(!1,`${R}`),a&&a(R)}const k=_.useMemo(()=>u.getViewport({scale:p,rotation:f}),[u,f,p]);return _.useEffect(function(){if(!d||!u||!s||!w)return;const{current:M}=y;if(!M)return;const I=k.clone({dontFlip:!0}),D={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:M,l10n:null,page:u,structTreeLayer:null,viewport:I},j={annotations:w,annotationStorage:d.annotationStorage,div:M,imageResourcesPath:r,linkService:s,page:u,renderForms:h,viewport:I};M.innerHTML="";try{new QT(D).render(j),C()}catch(H){T(H)}return()=>{}},[w,r,s,u,d,h,k]),P.jsx("div",{className:Eu("react-pdf__Page__annotations","annotationLayer"),ref:y})}var Oj=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const UA=1;function jj(n){const e=ik(),t=Object.assign(Object.assign({},e),n),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:i,canvasRef:o,children:a,className:l,customRenderer:u,customTextRenderer:d,devicePixelRatio:h,error:f="Failed to load the page.",height:p,inputRef:v,loading:g="Loading page",noData:w="No page specified.",onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:x,onGetStructTreeSuccess:S,onGetTextError:C,onGetTextSuccess:T,onLoadError:k,onLoadSuccess:R,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:I,onRenderError:D,onRenderSuccess:j,onRenderTextLayerError:H,onRenderTextLayerSuccess:F,pageIndex:W,pageNumber:B,pdf:O,registerPage:L,renderAnnotationLayer:N=!0,renderForms:$=!1,renderMode:J="canvas",renderTextLayer:X=!0,rotate:K,scale:te=UA,unregisterPage:ye,width:de}=t,Q=Oj(t,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[_t,tt]=wu(),{value:we,error:on}=_t,Wn=_.useRef(null);Pe(O);const ge=Bo(B)?B-1:W??null,Me=B??(Bo(W)?W+1:null),nt=K??(we?we.rotate:null),Be=_.useMemo(()=>{if(!we)return null;let Sn=1;const yl=te??UA;if(de||p){const wl=we.getViewport({scale:1,rotation:nt});de?Sn=de/wl.width:p&&(Sn=p/wl.height)}return yl*Sn},[p,we,nt,te,de]);_.useEffect(function(){return()=>{Bo(ge)&&s&&ye&&ye(ge)}},[s,O,ge,ye]);function Ur(){if(R){if(!we||!Be)return;R(H0(we,Be))}if(s&&L){if(!Bo(ge)||!Wn.current)return;L(ge,Wn.current)}}function cr(){on&&(Vt(!1,on.toString()),k&&k(on))}_.useEffect(function(){tt({type:"RESET"})},[tt,O,ge]),_.useEffect(function(){if(!O||!Me)return;const yl=yf(O.getPage(Me)),wl=yl;return yl.promise.then(bi=>{tt({type:"RESOLVE",value:bi})}).catch(bi=>{tt({type:"REJECT",error:bi})}),()=>ul(wl)},[tt,O,Me]),_.useEffect(()=>{if(we!==void 0){if(we===!1){cr();return}Ur()}},[we,Be]);const wi=_.useMemo(()=>we&&Bo(ge)&&Me&&Bo(nt)&&Bo(Be)?{_className:r,canvasBackground:i,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:m,onGetAnnotationsSuccess:y,onGetStructTreeError:x,onGetStructTreeSuccess:S,onGetTextError:C,onGetTextSuccess:T,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:I,onRenderError:D,onRenderSuccess:j,onRenderTextLayerError:H,onRenderTextLayerSuccess:F,page:we,pageIndex:ge,pageNumber:Me,renderForms:$,renderTextLayer:X,rotate:nt,scale:Be}:null,[r,i,d,h,m,y,x,S,C,T,M,I,D,j,H,F,we,ge,Me,$,X,nt,Be]),wf=_.useMemo(()=>tk(Q,()=>we&&(Be?H0(we,Be):void 0)),[Q,we,Be]),Vr=`${ge}@${Be}/${nt}`;function bf(){switch(J){case"custom":return Pe(u),P.jsx(u,{},`${Vr}_custom`);case"none":return null;case"canvas":default:return P.jsx(Ij,{canvasRef:o},`${Vr}_canvas`)}}function As(){return X?P.jsx(Nj,{},`${Vr}_text`):null}function _m(){return N?P.jsx(Dj,{},`${Vr}_annotations`):null}function Cm(){return P.jsxs(ak.Provider,{value:wi,children:[bf(),As(),_m(),a]})}function an(){return Me?O===null||we===void 0||we===null?P.jsx(nc,{type:"loading",children:typeof g=="function"?g():g}):O===!1||we===!1?P.jsx(nc,{type:"error",children:typeof f=="function"?f():f}):Cm():P.jsx(nc,{type:"no-data",children:typeof w=="function"?w():w})}return P.jsx("div",Object.assign({className:Eu(r,l),"data-page-number":Me,ref:ok(v,Wn),style:{"--scale-factor":`${Be}`,backgroundColor:i||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},wf,{children:an()}))}bj();gb.workerSrc="pdf.worker.mjs";const zj="/lexmaile-future-unveiled/assets/pdf.worker.min-GB3t0DcA.mjs";gb.workerSrc=zj;const Bj=({fileUrl:n})=>{const[e,t]=_.useState(0),[r,s]=_.useState(1),[i,o]=_.useState(1200),[a,l]=_.useState(!0),u=_.useRef(null);_.useEffect(()=>{const h=()=>{if(u.current){const f=u.current.offsetWidth;o(Math.min(f-32,1200))}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);const d=({numPages:h})=>{t(h),l(!1)};return P.jsxs("div",{className:"flex flex-col items-center w-full",children:[P.jsx("div",{ref:u,className:"w-full flex justify-center px-4",children:P.jsxs("div",{className:"relative w-full max-w-[90vw] rounded-2xl overflow-hidden shadow-2xl border-4 border-gradient-to-r from-[#FF3950] to-[#BB2AFF]",children:[a&&P.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/80 rounded-2xl",children:P.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-4 border-[#FF3950] border-opacity-50"})}),P.jsx(Tj,{file:n,onLoadSuccess:d,children:P.jsx(jj,{pageNumber:r,width:i,renderAnnotationLayer:!1,renderTextLayer:!1},`page_${r}`)})]})}),P.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-4 mt-4 px-4",children:[P.jsx("button",{onClick:()=>s(h=>Math.max(1,h-1)),disabled:r<=1,className:"bg-[#BB2AFF] px-6 py-3 rounded-xl text-white font-semibold disabled:opacity-30",children:"<"}),P.jsxs("span",{className:"text-lg font-medium text-white",children:[r,"/",e]}),P.jsx("button",{onClick:()=>s(h=>Math.min(e,h+1)),disabled:r>=e,className:"bg-[#FF3950] px-6 py-3 rounded-xl text-white font-semibold disabled:opacity-30",children:">"})]})]})},Hj=()=>{const n=[{name:"Brandbook completo",type:".pdf",url:"/lovable-uploads/brandbook.pdf",icon:qL},{name:"Pesquisa de mercado",type:".pdf",url:"/lovable-uploads/market-research.pdf",icon:Bx},{name:"Logotipo + Manual de aplicao",type:".zip",url:"/lovable-uploads/logotipos.zip",icon:Bx},{name:"Pacote de assets visuais",type:".zip",url:"/lovable-uploads/assets.zip",icon:YL}];_.useEffect(()=>{const t=new IntersectionObserver(r=>{r.forEach(s=>{s.isIntersecting&&s.target.classList.add("animate-fade-in")})},{threshold:.1});return document.querySelectorAll(".scroll-reveal").forEach(r=>{t.observe(r)}),()=>t.disconnect()},[]);const e=t=>{var r;(r=document.getElementById(t))==null||r.scrollIntoView({behavior:"smooth"})};return P.jsxs("div",{className:"min-h-screen bg-lexmaile-black text-white overflow-x-hidden font-inter",children:[P.jsx("section",{id:"hero",className:"min-h-screen flex items-center justify-center relative",style:{backgroundPosition:"center",backgroundImage:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1)), url(/lexmaile-future-unveiled/lovable-uploads/texture.png)",backgroundSize:"cover",backgroundAttachment:"fixed"},children:P.jsxs("div",{className:"container mx-auto px-6 text-center relative z-10",children:[P.jsx("div",{className:"w-full flex justify-center mt-12 md:mt-0 mb-20",children:P.jsx("img",{src:"/lexmaile-future-unveiled/lovable-uploads/logo.png",alt:"LexMaile Logo",className:"max-h-[160px] w-auto max-w-[80%] object-contain"})}),P.jsxs("h1",{className:"text-4xl md:text-7xl lg:text-9xl font-black mb-8 animate-fade-in animation-delay-200 leading-tight",children:["Bem-vindo ao",P.jsx("br",{}),P.jsx("span",{className:"bg-gradient-to-r from-[#FF3950] via-[#FF6B7A] to-[#BB2AFF] bg-clip-text text-transparent animate-pulse",children:"futuro"})," ","jurdico"]}),P.jsx("p",{className:"text-xl md:text-2xl text-lexmaile-gray mb-16 max-w-5xl mx-auto animate-fade-in animation-delay-400 font-medium leading-relaxed",children:"A LEXMAILE introduz uma nova era da tecnologia jurdica, construda para ser uma plataforma mais eficiente, conectada e voltada para o futuro."}),P.jsxs(W1,{onClick:()=>e("manifesto"),className:"bg-gradient-to-r from-[#FF3950] to-[#BB2AFF] hover:from-[#BB2AFF] hover:to-[#FF3950] text-white px-12 py-6 text-xl rounded-full transition-all duration-500 hover:scale-105 animate-fade-in animation-delay-600 shadow-2xl hover:shadow-[0_0_40px_rgba(255,57,80,0.5)]",children:["Explorar Identidade ",P.jsx(XL,{className:"ml-3 h-6 w-6"})]})]})}),P.jsx("section",{id:"manifesto",className:"py-10 relative scroll-reveal",style:{backgroundImage:"url('/lovable-uploads/textura-ampulheta.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:P.jsxs("div",{className:"container mx-auto px-6",children:[P.jsxs("div",{className:"text-center mb-16",children:[P.jsxs("h2",{className:"text-3xl md:text-6xl lg:text-7xl font-black mb-8",children:["No  apenas advocacia,  uma mudana profunda no"," ",P.jsx("span",{className:"bg-gradient-to-r from-[#FF3950] to-[#BB2AFF] bg-clip-text text-transparent",children:"core jurdico."})]}),P.jsx("p",{className:"text-xl md:text-2xl text-lexmaile-gray max-w-4xl mx-auto font-medium",children:"Descubra o que impulsiona a LexMaile e por que sua identidade  um ativo que conecta passado, presente e futuro."})]}),P.jsx("div",{className:"max-w-5xl mx-auto",children:P.jsx("div",{className:"relative aspect-video rounded-3xl overflow-hidden shadow-2xl",style:{boxShadow:"0 0 60px rgba(187, 42, 255, 0.3)"},children:P.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#FF3950] via-[#BB2AFF] to-[#6F1E51] p-1",children:P.jsx("div",{className:"w-full h-full bg-lexmaile-black rounded-2xl flex items-center justify-center relative overflow-hidden",children:P.jsx("iframe",{width:"100%",height:"100%",src:"https://www.youtube.com/embed/sLicYsdodPo?si=d5_qXmWPyxGM7rOz",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0})})})})})]})}),P.jsx("section",{id:"brandbook",className:"py-32 relative scroll-reveal",style:{backgroundImage:"url('/lovable-uploads/textura-ampulheta.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:P.jsxs("div",{className:"container mx-auto px-6",children:[P.jsx("div",{className:"text-center mb-16",children:P.jsxs("h2",{className:"text-3xl md:text-6xl lg:text-7xl font-black mb-8",children:["A"," ",P.jsxs("span",{className:"bg-gradient-to-r from-[#FF3950] to-[#BB2AFF] bg-clip-text text-transparent",children:["alma da marca"," "]}),"em cada pgina."]})}),P.jsx("div",{className:"max-w-6xl mx-auto",children:P.jsx("div",{className:"relative aspect-[4/3] rounded-3xl overflow-hidden shadow-2xl mb-12 bg-transparent p-1",children:P.jsx("div",{className:"w-full h-full bg-transparent rounded-2xl relative z-10",children:P.jsx(Bj,{fileUrl:"/lovable-uploads/brandbook.pdf"})})})})]})}),P.jsx("section",{id:"documents",className:"py-5 relative scroll-reveal",style:{backgroundPosition:"center",backgroundImage:"url('/lovable-uploads/textura-ampulheta.jpg')",backgroundSize:"cover",backgroundAttachment:"fixed"},children:P.jsxs("div",{className:"container mx-auto px-6",children:[P.jsx("div",{className:"text-center mb-20",children:P.jsxs("h2",{className:"text-3xl md:text-6xl lg:text-7xl font-black mb-8",children:["Materiais que sustentam ",P.jsx("br",{})," nossa"," ",P.jsx("span",{className:"bg-gradient-to-r from-[#FF3950] to-[#BB2AFF] bg-clip-text text-transparent",children:"estratgia"})]})}),P.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:n.map((t,r)=>{const s=t.icon;return P.jsx("a",{href:t.url,download:!0,target:"_blank",rel:"noopener noreferrer",className:"no-underline",children:P.jsx(G1,{className:"p-3 bg-gradient-to-br from-lexmaile-black via-gray-900 to-lexmaile-black border border-gray-800 hover:border-[#FF3950] transition-all duration-300 hover:scale-105 cursor-pointer group hover:shadow-[0_0_30px_rgba(255,57,80,0.2)]",children:P.jsxs("div",{className:"text-center",children:[P.jsx(s,{className:"h-10 w-16 text-[#FF3950] mx-auto mb-6 group-hover:animate-pulse"}),P.jsx("h3",{className:"text-lg font-bold mb-3 text-white",children:t.name}),P.jsx("p",{className:"text-lexmaile-gray text-base font-medium",children:t.type})]})})},r)})})]})}),P.jsx("section",{id:"footer",className:"py-10 relative scroll-reveal",style:{backgroundPosition:"center",backgroundImage:"url('/lovable-uploads/textura-ampulheta.jpg')",backgroundSize:"cover",backgroundAttachment:"fixed"},children:P.jsxs("div",{className:"container mx-auto px-3 text-center",children:[P.jsx("h2",{className:"text-3xl md:text-5xl lg:text-6xl font-black mb-12 bg-gradient-to-r from-[#FF3950] via-[#FF6B7A] to-[#BB2AFF] bg-clip-text text-transparent leading-tight",children:"Obrigado por confiar na construo da sua nova histria."}),P.jsxs("div",{className:"mt-20 pt-12 border-t border-gray-800",children:[P.jsxs("p",{className:"text-xl text-lexmaile-gray font-medium mb-4",children:["Desenvolvido por"," ",P.jsx("span",{className:"text-[#FF3950] font-bold",children:"Vizzo Digital"})]}),P.jsx("a",{href:"https://vizzo.digital",target:"_blank",rel:"noopener noreferrer",className:"text-[#FF3950] hover:text-[#BB2AFF] transition-colors duration-300 text-lg font-semibold relative group",children:P.jsxs("span",{className:"relative",children:["https://vizzo.digital",P.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-[#FF3950] to-[#BB2AFF] transition-all duration-300 group-hover:w-full"})]})})]})]})})]})},$j=()=>{const n=U1();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),P.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:P.jsxs("div",{className:"text-center",children:[P.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),P.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),P.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Uj=new lN,Vj=()=>P.jsx(uN,{client:Uj,children:P.jsxs(jF,{children:[P.jsx(MM,{}),P.jsx(uI,{}),P.jsx(QN,{children:P.jsxs(qN,{children:[P.jsx(by,{path:"/",element:P.jsx(Hj,{})}),P.jsx(by,{path:"*",element:P.jsx($j,{})})]})})]})});p_(document.getElementById("root")).render(P.jsx(Vj,{}));
